if (!(window.bouncex&&bouncex.loaded)) {
	(function(){
var InitSequence={status:{preInit1Ready:false,startedInit1:false,init1Complete:false},preInit1:{entry:function(){init_browser();if(!can_init())return;init_public_functions();init_errs_reporting();init_protocol_and_domain();init_url_and_referrer();init_testmode_before_cookie();ComplianceChecks.init();init_cookie_check();init_cookie_functions();init_visit_cookie();if(!bouncex.local_storage_enabled&&!bouncex.local_storage_initialized)InitSequence.preInit1.cookieReady();else;init_dash()},cookieReady:function(){if(!can_init_post_cookie())return;
init_cookie();bouncex.cookieReady=true;InitSequence.preInit1.postCookieFunctions();InitSequence.preInit1.integrations();InitSequence.init1.setStatus("preInitReady");InitSequence.init1.serviceReady("preInit")},postCookieFunctions:function(){init_ibx();initBa();initPushedData();if(bouncex.website.bpush)bouncex.psh.init_supported();if(typeof window.bxconv==="object")report_conversion_sync(window.bxconv);init_testmode_after_cookie();initAds()},integrations:function(){initPreInitCustomJs();ReloadCampaigns.init();
BxInterval.init();SinglePageApp.init();init_page_types();CustomVariables.init()}},init1:{serviceReady:function(service){this.log("service ready: "+service);if(!this.isReadyToRequest())return;if(InitSequence.status.startedInit1)return;this.setStatus("requesting");this._request()},isReadyToRequest:function(){if(!ComplianceChecks.compliancePassed){this.log("compliance check not ready",true);return false}if(!InitSequence.status.preInit1Ready){this.log("pre-init not ready",true);return false}if(bouncex.website.bxidLoadFirst&&
!(bouncex.dg&&bouncex.dg.softID)){this.log("bxid not ready",true);return false}return true},_request:function(){bcxReady(function(){baddjs(make_include_string());perf.times("init1request")})},setStatus:function(status){switch(status){case "preInitReady":this.log("pre-init ready");InitSequence.status.preInit1Ready=true;break;case "requesting":this.log("requesting");InitSequence.status.startedInit1=true;break;case "complete":this.log("complete");InitSequence.status.init1Complete=true;break}},log:function(msg,
isError){InitSequence.log("init1",msg,isError)}},postInit1:{entry:function(){if(!InitSequence.status.init1Complete)InitSequence.init1.setStatus("complete");if(!InitSequence.postInit1.pageReady()){setTimeout2(function(){InitSequence.postInit1.entry()},100);return false}perf.times("init1");InitSequence.postInit1.publicAssignments();InitSequence.postInit1.editCookie();InitSequence.postInit1.preCampaignFunctions();InitSequence.postInit1.integrations();InitSequence.postInit1.loadCampaigns();bouncex.bcxReady(function(){if(typeof window.bxAsyncInit===
"function")window.bxAsyncInit();else if(bouncex.state.rc)bouncex.report_conversion(null,"scraping")});init_custom_actions()},pageReady:function(){if(!jQueryIsAvailable())return false;InitSequence.postInit1.setupPage();if(!bouncex.body||!bouncex.body.length)return false;return true},setupPage:function(){bouncex.window=jQuery(window).eq(0);bouncex.document=jQuery(document).eq(0);bouncex.body=jQuery("body").eq(0);bouncex.head=jQuery("head").eq(0);bouncex.html=jQuery("html").eq(0);bouncex.pa=0},publicAssignments:function(){bouncex.direction=
"up";bouncex.events={};bouncex.overlay_visible=false;bouncex.server_client_time_diff=bouncex.state.tn-parseInt(getTimeMs()/1E3);if(bouncex.cookie.as>0&&window.document.title.length==0)window.document.title=window.location.hostname;init_post_campaign_public_function();bouncex.timespaced=false},editCookie:function(){if(bouncex.cookie.v)for(var n in bouncex.cookie.v)if(bouncex.vars[n])bouncex.setv(n,bouncex.cookie.v[n]);var allCookies=bouncex.website.ct=="multi_cookie"||bouncex.website.ct=="fp_local_storage";
clearBounceCookie(allCookies);bouncex.setBounceCookie()},preCampaignFunctions:function(){if(bouncex.website.dge)bouncex.dg.init();if(shouldCheckDfp())bouncex.gbi2.initDfp();bouncex.ca=activation_funcs();bouncex.ibx._init();if(bouncex.website.bpush)bouncex.psh.init();init_endpageview_event()},integrations:function(){init_ibx_tracking();init_event_tracking();init_website_custom_js()},loadCampaigns:function(){if(bouncex.campaigns){bouncex.loadBounceCss(function(){bouncex.loadBrandStyles();init_activation_funcs()});
bouncex.loadWebfonts()}else if(bouncex.usd)unhideSite()}},dynamic:{tearDown:function(){if(bouncex.campaigns)for(var ca_id in bouncex.campaigns)if(bouncex.campaigns.hasOwnProperty(ca_id))bouncex.destroy_ad(ca_id);CustomVariables.clearAll();BxInterval.clearTasks()},startUp:function(){init_url_and_referrer();incrementPageView();InitSequence.preInit1.integrations();InitSequence.postInit1.setupPage();InitSequence.postInit1.integrations()}},log:function(group,msg,isError){var data={group:"init",message:group+
"-"+msg};isError?Logger.error(data):Logger.info(data)}};function incrementPageView(){bouncex.cookie.vpv++;setBounceCookie()}function jQueryIsAvailable(){return!(typeof jQuery==="undefined"||typeof jQuery.fn==="undefined")}function init_cookie_check(){bouncex.local_storage_enabled=can_local_store();bouncex.cookie_too_large=false;if(!bouncex.local_storage_enabled&&bouncex.website.ct!="multi_cookie")if(!checkCookieEligibility())bouncex.cookie_too_large=true}
function init_protocol_and_domain(){var proto=bouncex.website.force_https?"https:":window.location.protocol;bouncex.sau="https://"+bouncex.website.bau;if(bouncex.website.beu.indexOf("127.0.0.1")!==-1)bouncex.seu="http://"+bouncex.website.beu;else bouncex.seu="https://"+bouncex.website.beu;bouncex.au=proto+"//"+bouncex.website.bau;bouncex.eu=proto+"//"+bouncex.website.beu}
function init_url_and_referrer(){bouncex.referrer=bouncex.utils.url.formatReferrer(document.referrer);bouncex.calling_url=encodeURIComponent(window.location.href);bouncex.cookie_domain=false;if(bouncex.website.uwc||bouncex.website.ct=="multi_cookie"||bouncex.website.ct=="fp_local_storage")if(bouncex.calling_url.indexOf(bouncex.website.domain)>0)bouncex.cookie_domain=bouncex.website.domain}
function init_dash(){bouncex.eventLog=[];if(sessionStorage){var bxDashUrl=sessionStorage.getItem("bxDashUrl");if(bxDashUrl){var dashHardUrl="//dash-staging.bounceexchange.com/client.js";var proto=window.location.protocol;baddjs(proto+dashHardUrl)}}}function init_testmode_before_cookie(){bouncex.testmode={bxdev:determineTestModeFromUrl()}}
function determineTestModeFromUrl(){if(bouncex.calling_url.indexOf("bxdev")===-1)return false;var bxdevParams=bouncex.utils.getParam("bxdev").toLowerCase();if(bxdevParams==="off")return false;var testmodeItems=["cvars","events","page_types","campaign_js","spa","coupons","log","log:error","log:warn","log:debug"];if(bxdevParams===""||bxdevParams==="all")return testmodeItems.reduce(function(acc,curr){acc[curr]=true;return acc},{});var bxdevParamsArr=bxdevParams.split(",");var bxdev=bxdevParamsArr.reduce(function(acc,
curr){if(testmodeItems.indexOf(curr)>-1)acc[curr]=true;return acc},{});if(Object.keys(bxdev).length===0)return false;return bxdev}function init_testmode_after_cookie(){bouncex.testmode.bxtest=bouncex.cookie.hcs_bxtest||bouncex.calling_url.indexOf("bxtest")!==-1;if(bouncex.calling_url.indexOf("bxdev")===-1)bouncex.testmode.bxdev=bouncex.cookie.bxdev||false;else{if(bouncex.testmode.bxdev)bouncex.cookie.bxdev=bouncex.testmode.bxdev;else delete bouncex.cookie.bxdev;setBounceCookie()}}
function sanitizeMetadata(sanitizedEventName,metadata,nonNamespacedParams){var sanitizedMetadata={};nonNamespacedParams=nonNamespacedParams||[];for(k in metadata)if(metadata.hasOwnProperty(k)){var sanitizedKey=k.trim().toLowerCase();if(sanitizedKey.indexOf(":")===-1&&nonNamespacedParams.indexOf(sanitizedKey)===-1)sanitizedKey=sanitizedEventName+":"+sanitizedKey;var sanitizedValue=metadata[k];if(typeof sanitizedValue==="string")sanitizedValue=sanitizedValue.trim();sanitizedMetadata[sanitizedKey]=sanitizedValue}return sanitizedMetadata}
function pushItemEvent(sanitizedEventName,metadata){var sanitizedMetadata=sanitizeMetadata(sanitizedEventName,metadata);if(bouncex.website.ete==1){if(!bouncex.et.item.validate(sanitizedMetadata))return false;if(bouncex.et.item.requireImageLoad&&sanitizedMetadata["item:imageurl"]){var image=new Image;image.onload=function(){event_stream_report(sanitizedEventName,sanitizedMetadata)};image.src=sanitizedMetadata["item:imageurl"]}else event_stream_report(sanitizedEventName,sanitizedMetadata)}else event_stream_report(sanitizedEventName,
sanitizedMetadata)}function pushRequestemailEvent(sanitizedEventName,metadata){var nonNamespacedParams=["email","campaignid","parentcampaignid"];var sanitizedMetadata=sanitizeMetadata(sanitizedEventName,metadata,nonNamespacedParams);if(!sanitizedMetadata.campaignid||!sanitizedMetadata.email||!bouncex.utils.validate.email(sanitizedMetadata.email))return false;sanitizedMetadata["user:email"]=sanitizedMetadata.email;event_stream_report(sanitizedEventName,sanitizedMetadata)}
function pushRequestpushEvent(sanitizedEventName,metadata){var nonNamespacedParams=["campaignid","parentcampaignid"];var sanitizedMetadata=sanitizeMetadata(sanitizedEventName,metadata,nonNamespacedParams);if(!sanitizedMetadata.campaignid)return false;event_stream_report(sanitizedEventName,sanitizedMetadata)}
function pushRequestsendEvent(sanitizedEventName,metadata){var nonNamespacedParams=["campaignid","parentcampaignid","fcmtoken","channel","campaign_data","source"];var sanitizedMetadata=sanitizeMetadata(sanitizedEventName,metadata,nonNamespacedParams);if(!sanitizedMetadata.campaignid)return false;event_stream_report(sanitizedEventName,sanitizedMetadata)}
function pushUserEvent(sanitizedEventName,metadata){if(!metadata.email&&!metadata.emailHash)return false;if(metadata.email&&!bouncex.utils.validate.email(metadata.email))return false;metadata["user:gcr"]=bouncex&&bouncex.cookie?bouncex.cookie.gcr:99;metadata["agent"]="js";metadata["eq"]=1;var nonNamespacedParams=["agent","eq","campaignid"];var sanitizedMetadata=sanitizeMetadata(sanitizedEventName,metadata,nonNamespacedParams);event_stream_report(sanitizedEventName,sanitizedMetadata);bouncex.cookie.uid=
1;setBounceCookie()}
function processPushedData(eventName,metadata){metadata=metadata||{};var sanitizedEventName=eventName.trim().toLowerCase();if(sanitizedEventName=="conversion")report_conversion_sync(metadata,"pushdata");else if(sanitizedEventName=="bx-load-hide")bouncex.usd=metadata;else if(sanitizedEventName==="item")pushItemEvent(sanitizedEventName,metadata);else if(sanitizedEventName==="view item"&&bouncex.website.osre){var itemId=metadata["item:id"];var sanitizedMetadata=sanitizeMetadata(sanitizedEventName,metadata);
if(itemId){bouncex.osr.viewItemId=itemId;Object.keys(bouncex.campaigns||{}).forEach(function(ca_id){if(typeof bouncex.campaigns[ca_id].osr_params_json==="undefined"&&bouncex.campaigns[ca_id].isr_params_json)bouncex.campaigns[ca_id].osr_params_json=bouncex.campaigns[ca_id].isr_params_json;if(bouncex.campaigns[ca_id].osr_params_json&&bouncex.campaigns[ca_id].osr_params_json.length)bouncex.osr.init(ca_id,itemId)})}event_stream_report(sanitizedEventName,sanitizedMetadata)}else if(eventName=="requestemail")pushRequestemailEvent(sanitizedEventName,
metadata);else if(eventName=="requestpush")pushRequestpushEvent(sanitizedEventName,metadata);else if(eventName=="requestsend")pushRequestsendEvent(sanitizedEventName,metadata);else if(eventName=="user")pushUserEvent(sanitizedEventName,metadata);else{var sanitizedMetadata=sanitizeMetadata(sanitizedEventName,metadata);event_stream_report(sanitizedEventName,sanitizedMetadata)}}
function initPushedData(){var pushedDataLength=bouncex.pushedData.length;for(var i=0;i<pushedDataLength;i++)processPushedData(bouncex.pushedData[i][0],bouncex.pushedData[i][1]);bouncex.pushedData=[]}bouncex.push=function(pushData){if(bouncex.cookieReady)processPushedData(pushData[0],pushData[1]);else bouncex.pushedData.push(pushData)};function can_init_post_cookie(){if(bouncex.gdpr_opt_out)return false;return true}
function can_init(){if(document.visibilityState)if(document.visibilityState==="prerender"){var visibilityListener=tryCatch(function(){if(document.visibilityState!=="prerender"){removeEvent(document,"visibilitychange",visibilityListener);bcx_init()}});addEvent(document,"visibilitychange",visibilityListener);bouncex.prerendered=true;return false}if(bouncex.baddjs)return false;if(!JSON.parse)return false;if(!window["postMessage"])return false;if(!bouncex.website.ei&&window!=window.top)return false;if(!areCookiesEnabled())return false;
if(bouncex.browser.prerenderio)return false;if(bouncex.browser.msie&&bouncex.browser.msie<11)return false;if(bouncex.website.burls.length)for(var k in bouncex.website.burls)if(bouncex.website.burls.hasOwnProperty(k)){var burl=bouncex.website.burls[k];if(burl.prop.indexOf("contains")!=-1){var c=window.location.href.indexOf(burl.val);if(burl.prop=="contains"&&c!=-1||burl.prop=="not_contains"&&c==-1)return false}else if(burl.prop.indexOf("regex_match")!=-1){var m=(new RegExp(burl.val,"gi")).test(window.location.href);
if(burl.prop=="regex_match"&&m||burl.prop=="not_regex_match"&&!m)return false}}if(bouncex.website.ct==="fp_local_storage"&&!fpLocalStorageAvailable())return false;return true}
function init_visit_cookie(){if(bouncex.gdpr_opt_out)return;var c=getBounceVisitCookie();if(c)bouncex.visit_cookie=bouncex.parseJSON(c);if(!bouncex.visit_cookie){bouncex.visit_cookie={};bouncex.visit_cookie.lp=bouncex.calling_url.substring(0,500).replace(/\+/g,"%2B").replace(/\%[A-F0-9]?[^A-F0-9]/,"");bouncex.visit_cookie.r=bouncex.referrer;bouncex.visit_cookie.ueh=getParam("ueh")||undefined;setBounceVisitCookie()}else if(!bouncex.visit_cookie.ueh){bouncex.visit_cookie.ueh=getParam("ueh")||undefined;
if(bouncex.visit_cookie.ueh)setBounceVisitCookie()}}
function init_cookie(){if(bouncex.gdpr_opt_out)return;bouncex.cookie=getBounceCookie();if(!bouncex.cookie.vid){if(bouncex.website.ct=="fp_local_storage")bouncex.cookie=getBounceCookieSingle();else bouncex.cookie=getBounceCookieFPLocalStorage();if(bouncex.cookie.vid)setBounceCookie()}if(bouncex.website.ct=="fp_local_storage"){var crossTabCookieCallback=tryCatch(function(data){if(data.key==bouncex.website.cookie_name&&data.newValue)bouncex.cookie=bouncex.getBounceCookie()});addEvent(window,"storage",
crossTabCookieCallback,false)}}
function init_cookie_functions(){if(bouncex.local_storage_enabled){window.setBounceCookie=bouncex.setBounceCookie=setBounceCookieLocalStorage;window.getBounceCookie=bouncex.getBounceCookie=getBounceCookieLocalStorage;init_cookie_localstorage()}else if(bouncex.website.ct=="multi_cookie"){window.MultiCookie=MultiCookie;window.getBounceCookie=bouncex.getBounceCookie=getBounceCookieMulti;window.setBounceCookie=bouncex.setBounceCookie=setBounceCookieMulti}else if(bouncex.website.ct=="fp_local_storage"){window.getBounceCookie=
bouncex.getBounceCookie=getBounceCookieFPLocalStorage;window.setBounceCookie=bouncex.setBounceCookie=setBounceCookieFPLocalStorage}else{window.getBounceCookie=bouncex.getBounceCookie=getBounceCookieSingle;window.setBounceCookie=bouncex.setBounceCookie=setBounceCookieSingle}window.setBounceVisitCookie=setBounceVisitCookie;window.getBounceVisitCookie=getBounceVisitCookie;window.clearBounceCookie=clearBounceCookie;bouncex.stringify_cookie=stringify_cookie;bouncex.lz=bouncex.lz||function(){var f=String.fromCharCode;
var keyStrUriSafe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$";var baseReverseDic={};function getBaseValue(alphabet,character){if(!baseReverseDic[alphabet]){baseReverseDic[alphabet]={};for(var i=0;i<alphabet.length;i++)baseReverseDic[alphabet][alphabet.charAt(i)]=i}return baseReverseDic[alphabet][character]}var LZString={compressToURI:function(input){if(input==null)return"";return LZString._compress(input,6,function(a){return keyStrUriSafe.charAt(a)})},decompressFromURI:function(input){if(input==
null)return"";if(input=="")return null;try{input=input.replace(/ /g,"+");return LZString._decompress(input.length,32,function(index){return getBaseValue(keyStrUriSafe,input.charAt(index))})}catch(e){bouncex.err(e,{source:"decompressFromURI"});return""}},compress:function(uncompressed){return LZString._compress(uncompressed,16,function(a){return f(a)})},_compress:function(uncompressed,bitsPerChar,getCharFromInt){if(uncompressed==null)return"";var i,value,context_dictionary={},context_dictionaryToCreate=
{},context_c="",context_wc="",context_w="",context_enlargeIn=2,context_dictSize=3,context_numBits=2,context_data=[],context_data_val=0,context_data_position=0,ii;for(ii=0;ii<uncompressed.length;ii+=1){context_c=uncompressed.charAt(ii);if(!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)){context_dictionary[context_c]=context_dictSize++;context_dictionaryToCreate[context_c]=true}context_wc=context_w+context_c;if(Object.prototype.hasOwnProperty.call(context_dictionary,context_wc))context_w=
context_wc;else{if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=
0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-
1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));
context_data_val=0}else context_data_position++;value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}context_dictionary[context_wc]=context_dictSize++;context_w=String(context_c)}}if(context_w!==""){if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1;if(context_data_position==bitsPerChar-1){context_data_position=
0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value;if(context_data_position==bitsPerChar-1){context_data_position=
0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=
context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}}value=2;for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==
bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else context_data_position++;value=value>>1}while(true){context_data_val=context_data_val<<1;if(context_data_position==bitsPerChar-1){context_data.push(getCharFromInt(context_data_val));break}else context_data_position++}return context_data.join("")},decompress:function(compressed){if(compressed==null)return"";if(compressed=="")return null;return LZString._decompress(compressed.length,32768,
function(index){return compressed.charCodeAt(index)})},_decompress:function(length,resetValue,getNextValue){var dictionary=[],next,enlargeIn=4,dictSize=4,numBits=3,entry="",result=[],i,w,bits,resb,maxpower,power,c,data={val:getNextValue(0),position:resetValue,index:1};for(i=0;i<3;i+=1)dictionary[i]=i;bits=0;maxpower=Math.pow(2,2);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>
0?1:0)*power;power<<=1}switch(next=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}c=f(bits);break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:
0)*power;power<<=1}c=f(bits);break;case 2:return""}dictionary[3]=c;w=c;result.push(c);while(true){if(data.index>length)return"";bits=0;maxpower=Math.pow(2,numBits);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}switch(c=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==
0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 2:return result.join("")}if(enlargeIn==0){enlargeIn=
Math.pow(2,numBits);numBits++}if(dictionary[c])entry=dictionary[c];else if(c===dictSize)entry=w+w.charAt(0);else return null;result.push(entry);dictionary[dictSize++]=w+entry.charAt(0);enlargeIn--;w=entry;if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++}}}};return LZString}()}function can_local_store(){if(bouncex.browser.ios&&bouncex.browser.chrome)return false;return bouncex.website.aco.local_storage}
function setLocalStorageCookie(msg_cookie){var cookie_one_or_many=bouncex.parseJSON(decodeURIComponent(msg_cookie));if(cookie_one_or_many&&cookie_one_or_many[bouncex.website.id]){bouncex.cookies=cookie_one_or_many;bouncex.cookie=cookie_one_or_many[bouncex.website.id]}else if(cookie_one_or_many&&cookie_one_or_many.vpv){bouncex.cookie=cookie_one_or_many;bouncex.cookies[bouncex.website.id]=bouncex.cookie}else{cookie_one_or_many[bouncex.website.id]={};bouncex.cookies=cookie_one_or_many}}
function localStorageFrameSuccess(){var cookie_listener=tryCatch(function(message){if(message.origin=="https://"+bouncex.website.biu&&typeof message.data=="string"){var messageData=message.data;if(messageData.indexOf("gdpr_opt_out")>-1)bouncex.gdpr_opt_out=true;if(messageData=="third_party_cookies_disabled")localStorageFail();else if(messageData.indexOf("bcx_message=true")<0){var msg_cookie=message.data;if(!bouncex.local_storage_initialized){bouncex.local_storage_initialized=true;bouncex.cookie={};
bouncex.cookies={};if(msg_cookie)setLocalStorageCookie(msg_cookie);else{if(bouncex.website.ct=="multi_cookie")bouncex.cookie=getBounceCookieMulti();else bouncex.cookie=getBounceCookieSingle();clearBounceCookie(true)}InitSequence.preInit1.cookieReady()}else setLocalStorageCookie(msg_cookie)}}});addEvent(window,"message",cookie_listener)}function addLocalStorageFrame(){try{document.body.appendChild(bouncex.local_storage_frame);localStorageFrameSuccess()}catch(e){setTimeout2(localStorageFail,0)}}
function localStorageFail(){bouncex.local_storage_enabled=false;init_cookie_functions();if(!bouncex.local_storage_initialized){bouncex.local_storage_initialized=true;InitSequence.preInit1.cookieReady()}}
function init_cookie_localstorage(){if(bouncex.gdpr_opt_out)return;var local_storage_frame_url="https://"+bouncex.website.biu+"/assets/bounce/local_storage_frame10.min.html"+"#"+bouncex.website.id+(bouncex.website.swids?"&"+bouncex.website.swids:"");bouncex.local_storage_frame=document.createElement("IFRAME");bouncex.local_storage_frame.style["display"]="none";bouncex.local_storage_frame.setAttribute("id","bcx_local_storage_frame");bouncex.local_storage_frame.setAttribute("src",local_storage_frame_url);
if(document.body)addLocalStorageFrame();else var wait_for_body_interval=setInterval2(function(){if(document.body){clearTimeout(wait_for_body_interval);addLocalStorageFrame()}},100)}
function init_public_functions(){window.console||(window.console={log:function(){return{}}});bouncex.setv=bouncex.setVar=CustomVariables.setVar.bind(CustomVariables);bouncex.setVarAndReload=CustomVariables.setVarAndReload.bind(CustomVariables);bouncex.getVar=CustomVariables.getVar.bind(CustomVariables);bouncex.perf=perf;bouncex.loadBounceCss=loadBounceCss;bouncex.updateQS=updateQS;bouncex.make_include_string=make_include_string;bouncex.baddjs=baddjs;bouncex.wndsize=wndsize;bouncex.init=InitSequence.postInit1.entry;
bouncex.bcxReady=bcxReady;bouncex.stringify=stringify;bouncex.parseJSON=parseJSON;bouncex.addCss=addCss;bouncex.createIframe=createIframe;bouncex.unload_campaigns=unload_campaigns;bouncex.unload_campaign=unload_campaign;bouncex.reload_campaigns=reload_campaigns=ReloadCampaigns.addRequest.bind(ReloadCampaigns);bouncex.dynamicPageChange=SinglePageApp.dynamicPageChange;bouncex.nextStep=nextStep;bouncex.submitCampaignStep=submitCampaignStep;bouncex.setJumpStep=setJumpStep;bouncex.placeCampaign=placeCampaign;
bouncex.alignCampaign=alignCampaign;bouncex.destroyAll=destroyAll;bouncex.passiveEventRegistry={};(function(g){"window"in g&&"document"in g&&function(){function h(a){a=String(a);var d=0,e=[],b=0,c=0,f;a=a.replace(/\s/g,"");0===a.length%4&&(a=a.replace(/=+$/,""));if(1===a.length%4)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(a))throw Error("InvalidCharacterError");for(;d<a.length;)f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d)),b=b<<6|f,c+=
6,24===c&&(e.push(String.fromCharCode(b>>16&255)),e.push(String.fromCharCode(b>>8&255)),e.push(String.fromCharCode(b&255)),b=c=0),d+=1;12===c?e.push(String.fromCharCode(b>>4&255)):18===c&&(b>>=2,e.push(String.fromCharCode(b>>8&255)),e.push(String.fromCharCode(b&255)));return e.join("")}function k(a){a=String(a);var d=0,e=[],b,c,f,g;if(/[^\x00-\xFF]/.test(a))throw Error("InvalidCharacterError");for(;d<a.length;)b=a.charCodeAt(d++),c=a.charCodeAt(d++),f=a.charCodeAt(d++),g=b>>2,b=(b&3)<<4|c>>4,c=(c&
15)<<2|f>>6,f&=63,d===a.length+2?f=c=64:d===a.length+1&&(f=64),e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f));return e.join("")}"atob"in g&&"btoa"in g||(g.atob=h,g.btoa=k)}()})(window);bouncex.repressCampaigns=repressCampaigns;bouncex.isGbi2Campaign=
isGbi2Campaign;bouncex.isBxPlayerCampaign=isBxPlayerCampaign}
function init_browser(){var nav=navigator.userAgent;bouncex.browser={};bouncex.browser.webkit=/WebKit/.test(nav);bouncex.browser.firefox=/Firefox/.test(nav);bouncex.browser.msie=/Trident\/7\.|MSIE/.test(nav);bouncex.browser.opera=/Opera|OPR\//.test(nav);if(bouncex.browser.msie&&nav.indexOf("MSIE")>0)bouncex.browser.msie=parseInt(nav.split("MSIE")[1]);if(bouncex.browser.msie&&nav.indexOf("rv:")>0)bouncex.browser.msie=parseInt(nav.split("rv:")[1]);bouncex.browser.edge=/Edge/.test(nav);if(bouncex.browser.edge)bouncex.browser.edge=
parseInt(nav.split("Edge/")[1]);bouncex.browser.prerenderio=nav.indexOf("Prerender")>-1;bouncex.browser.android=nav.indexOf("Android")>-1;bouncex.browser.iphone=nav.indexOf("iPhone")>-1;bouncex.browser.ipad=nav.indexOf("iPad")>-1;bouncex.browser.ios8=false;bouncex.browser.ios9=false;bouncex.browser.ios=false;if(bouncex.browser.iphone||bouncex.browser.ipad){bouncex.browser.ios=parseInt(nav.split("Version/")[1]);bouncex.browser.ios9=bouncex.browser.ios===9;bouncex.browser.ios8=bouncex.browser.ios===
8;bouncex.browser.chrome=/CriOS/.test(nav);if(bouncex.browser.chrome)bouncex.browser.ios=parseInt(nav.split("CriOS/")[1])>47?9:false}else bouncex.browser.chrome=/Chrome/.test(nav);bouncex.browser.safari=!!(nav.indexOf("Safari")!=-1&&nav.indexOf("Chrome")==-1);if(bouncex.browser.safari&&nav.indexOf("Version/")>0)bouncex.browser.safari=parseInt(nav.split("Version/")[1].replace(".",""));if(bouncex.browser.chrome&&nav.indexOf("Chrome/")>0)bouncex.browser.chrome=parseInt(nav.split("Chrome/")[1]);if(bouncex.browser.firefox&&
nav.indexOf("Firefox/")>0)bouncex.browser.firefox=parseInt(nav.split("Firefox/")[1]);bouncex.ssl=window.location.protocol=="https:"}
function init_post_campaign_public_function(){bouncex.setBounceCookie=function(){setBounceCookie()};bouncex.initActivationFuncs=function(){init_activation_funcs()};bouncex.contains=jQuery.contains&&(jQuery().jquery.indexOf("1.4.")==-1&&!(jQuery().jquery.indexOf("1.8.")>-1))?jQuery.contains:eval("document.contains||document.compareDocumentPosition?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true}}}return false};");bouncex.close_ad=
function(ca_id,silent,no_report){close_ad(ca_id,silent,no_report)};bouncex.report=function(ca_id,eventname,extra){if(!bouncex.campaigns[ca_id])return;return report(ca_id,eventname,extra)};bouncex.report_submit=function(ca_id,obj,complete){return report_submit(ca_id,obj,complete)};bouncex.report_ga=function(action,label,bypass){report_ga(action,label,bypass)};bouncex.report_conversion=function(obj,source){report_conversion(obj,source)};window.close_bouncex_ad=close_ad;bouncex.fs=fs;bouncex.by_parent_id=
function(pid){return by_parent_id(pid)};bouncex.show_ad=function(ca_id){trigger_ad("manual",ca_id)};bouncex.align_callout=align_callout_public;bouncex.destroy_ad=destroy_ad;bouncex.unload_campaigns=unload_campaigns;bouncex.reload_campaigns=reload_campaigns=ReloadCampaigns.addRequest.bind(ReloadCampaigns);bouncex.reportGa=reportGa;bouncex.loadBrandStyles=loadBrandStyles;bouncex.loadWebfonts=loadWebfonts;bouncex.activate_action=activate_action;bouncex.activate_campaign=activate_campaign}
function initBa(){if(bouncex.website.ba.enabled)bouncex.ba={fbel:[],fbrc:0,fbto:null,lip:{}}}
function init_ibx(){bouncex.ibx={wsid:bouncex.website.id,_event_store:[],_item_store:[],uid:null,crt:null,token:null,mode:1,cvar:{},_init:function(){this.vid=bouncex.cookie.vid;this.token=bouncex.cookie.did;this.uid=this._get("user");this.mode=this._get("mode");this.crt=this._get("cart");this._cart("set");this._clkthrough();this._espemailid();this._emailhash();this._log("initialized");this._log("mode: "+this.mode+" | "+"token: "+this.token)},user:function(key,val){if(!this._validate(key)){this._log("invalid email");
return}bouncex.cookie.uid=1;setBounceCookie();var cart=this._cart("get");if(cart){val=val||{};val.__cart=cart}this._push("user",{key:key,val:val});var params={};params["user:email"]=key;params["user:source"]=val.__src;params["user:gcr"]=bouncex&&bouncex.cookie?bouncex.cookie.gcr:99;params["agent"]="js";if(val.campaign)params["campaignid"]=val.campaign;params["eq"]=1;event_stream_report("user",params)},track:function(type,key,val,segment){if(!type||!key){this._log("type and key must be set");return}if(this["_"+
type+"_store"])this["_"+type+"_store"].push({key:JSON.stringify(val)});if(!segment)segment="";var pushobj={key:key,val:val,segment:segment};this._push(type,pushobj);var params={};var eventname=key;if(type=="item"){eventname="item";params["item:segment"]=segment;params["item:category"]=segment;params["item:id"]=key;params["item:url"]=val.__url;params["item:imageurl"]=val.creative;params["item:imagewidth"]=val.__width;params["item:imageheight"]=val.__height;params["stringvalue"]=key;params["legacy"]=
1}if(type=="cart")eventname="cart";for(var k in val)if(val.hasOwnProperty(k)&&k.substring(0,2)!="__")params[eventname+":"+k]=val[k];if(val&&val.stringvalue)params["stringvalue"]=val.stringvalue;params["eq"]=1;event_stream_report(eventname,params)},conv_params:function(){var params=this._auto_add({ibx_mode:this._get("mode"),ibx_clicks:this._get("clickstr")});if(params.ibx_clicks){this._cookies.create("__ibxc0",params.ibx_clicks);this._cookies.destroy("__ibxc")}this._log("conv_params: "+(params.ibx_clicks?
params.ibx_clicks:"[none]"));return this._qs(params)},set:function(what,val){switch(what){case "user":this.uid=val;break;case "mode":if(val==0||val==1){this.mode=val;this._cookies.create("__ibxm",val)}break;case "cart":this.crt=val;this._cookies.create("__ibxcr",val,.5);break}return val},dump:function(what){this._log(what+" = "+this._get(what))},_get:function(what){var val;switch(what){case "events":val=this._event_store;break;case "items":val=this._item_store;break;case "token":val=btoa(bouncex.cookie.did);
break;case "user":val=parseInt(bouncex.cookie.uid||this._cookies.read("__ibxu"));if(isNaN(val))val=0;break;case "mode":val=this._cookies.read("__ibxm")==="0"?0:1;break;case "clickstr":val=this._cookies.read("__ibxc");break;case "clicks":val=(val=this._cookies.read("__ibxc"))?val.split(","):[];break;case "cart":val=parseInt(this._cookies.read("__ibxcr"));if(isNaN(val))val=0;break;default:val="invalid"}return val},_push:function(type,obj){var logkey,qs="type="+type+"&wsid="+this.wsid+"&gcr="+bouncex.cookie.gcr+
"&vid="+bouncex.cookie.vid+"&mode=1";qs+="&device_id="+encodeURIComponent(bouncex.cookie.did);obj.val=JSON.stringify(this._auto_add(obj.val||{}));qs=qs+"&"+this._qs(obj);logkey=typeof obj.key!="undefined"?": "+obj.key:"";this._log(type.toUpperCase()+logkey+" // "+qs);if(type=="cart"||type=="isr"){var url=bouncex.sau+"/ibx/ping?"+qs;var img=document.createElement("img");img.src=url}},_auto_add:function(obj){obj=obj||{};if(!obj.hasOwnProperty("__url"))obj.__url=location.href;if(!obj.hasOwnProperty("__referrer"))obj.__referrer=
document.referrer;return obj},_cart:function(action){var cart=false;switch(action){case "get":try{cart=eval(bouncex.website.ibx.cart_rep.get)}catch(e){cart=false;this._log(e)}break;case "set":if(this.crt||location.href.indexOf("ibx_cart")==-1)return false;cart=this._getparam("ibx_cart");if(cart){eval(bouncex.website.ibx.cart_rep.set);this.set("cart",1)}cart=this.crt;break}return cart},_clkthrough:function(){var click=this._getparam("ibx_source"),clicks;if(click)try{clicks=this._get("clickstr");if(!clicks)clicks=
click;else if(clicks.indexOf(click)!=-1){this._log("click-through: "+click+" (DUPLICATE)");return}else clicks+=","+click;this._cookies.create("__ibxc",clicks);this._log("click-through: "+click)}catch(err){this._log(err)}},_emailhash:function(){var val=bouncex.visit_cookie.ueh;if(val)event_stream_report("user",{"agent":"js","user:emailhash":val,"user:source":"ibx_clickthrough"})},_espemailid:function(){if(bouncex.website.ibx.ulpj){var params={"user:source":"esp-email-id","agent":"js"};var valFound=
false;for(var urlParam in bouncex.website.ibx.ulpj)if(bouncex.website.ibx.ulpj.hasOwnProperty(urlParam)){var val=this._getparam(urlParam);if(val){valFound=true;params["user:"+bouncex.website.ibx.ulpj[urlParam]]=val}}if(valFound)event_stream_report("user",params)}},_log:function(msg){if(this.mode==0)bouncex.log("ibx: "+msg)},_validate:function(em){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
return re.test(em)},_quick_validate:function(em){return em==null?false:em.indexOf(".")>2&&em.indexOf("@")>0},_qs:function(o){var a=[],s="";for(var k in o){if(!o.hasOwnProperty(k))continue;a.push(k+"="+encodeURIComponent(o[k]))}return a.join("&")},_cookies:{domain:window.bouncex.cookie_domain,create:function(name,value,time){if(!time)time=365;var dt=new Date;dt.setTime(dt.getTime()+time*24*60*60*1E3);var exp="; expires="+dt.toGMTString(),cookie_domain=this.domain?"domain=."+this.domain+";":"";document.cookie=
name+"="+value+exp+"; path=/;"+cookie_domain},read:function(name){var t=name+"=",vars=document.cookie.split(";");for(var r=0;r<vars.length;r++){var i=vars[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null},destroy:function(name){this.create(name,"",-1)}},_getparam:getParam}}function initAds(){if(bouncex.website.gbi_enabled)bouncex.website.gbi_enabled=canShowGbi()}
function shouldCheckDfp(){return gbi2Enabled()&&bouncex.website.checkDfp}function init_website_custom_js(){if(bouncex.website.cjs)try{eval(bouncex.website.cjs)}catch(err){bouncex.err(err,{source:"bouncex.website.cjs"})}}function initPreInitCustomJs(){if(bouncex.website.preinit_cjs)try{eval(bouncex.website.preinit_cjs)}catch(err){bouncex.err(err,{source:"bouncex.website.preinit_cjs"})}}
var SinglePageApp={init:function(){if(bouncex.website.spa){if(bouncex.website.spatm&&!visitorTestMode("spa"))return;this._setParams();this._pageChangeListener()}},setCustomParams:function(overwrite){if(overwrite.shouldCheckSpa)this._shouldCheckSpa=overwrite.shouldCheckSpa;if(overwrite.pageChangeListener){BxInterval.stopTask("spa default listener");this._pageChangeListener=overwrite.pageChangeListener}if(overwrite.currentPageIdentifier)this._currentPageIdentifier=overwrite.currentPageIdentifier},_setParams:function(){if(typeof this._shouldCheckSpa===
"undefined")this._shouldCheckSpa=this._defaults.shouldCheckSpa;if(typeof this._pageChangeListener==="undefined")this._pageChangeListener=this._defaults.pageChangeListener;if(typeof this._currentPageIdentifier==="undefined")this._currentPageIdentifier=this._defaults.currentPageIdentifier},_defaults:{shouldCheckSpa:function(){return true},pageChangeListener:function(){if(!this._shouldCheckSpa())return;BxInterval.addTask(this._detectPageChange.bind(this),0,"spa default listener")},currentPageIdentifier:function(){return window.location.pathname}},
_detectPageChange:function(){this._currentPage=this._currentPageIdentifier();this._prevPage=this._prevPage||this._currentPage;if(this._prevPage!==this._currentPage){this.dynamicPageChange();this._prevPage=this._currentPage}},dynamicPageChange:function(){bouncex.log("%c ~ spa new page \ud83e\udd18 ~","color: #000FFF");InitSequence.dynamic.tearDown();InitSequence.dynamic.startUp();ReloadCampaigns.addRequest("spa new page")}};
function init_ibx_tracking(){if(bouncex.website.ibx.te&&bouncex.website.ibx.te==1){try{eval(bouncex.website.ibx.tjs)}catch(err){bouncex.err(err,{source:"bouncex.website.ibx.tjs"})}if(bouncex.website.ibx.miw==1){NativeCapture.init();var selector="input:not([type=button],[type=submit],[type=reset],[type=hidden],[type=radio],[type=checkbox],[type=image],[type=password], #privy-container input, #dwfrm_giftcert_purchase_recipientEmail, #dwfrm_wishlist_search_email)";if(bouncex.website.ibx.miw_exclude)selector+=
":not("+bouncex.website.ibx.miw_exclude+")";bouncex.off(bouncex.body,"blur.bx-miw",selector);bouncex.on(bouncex.body,"blur.bx-miw",function(){var userData={email:jQuery(this).val(),source:"input"};var inputId=jQuery(this).attr("id");if(inputId)userData.input_id=inputId;bouncex.push(["user",userData])},selector)}}}function init_event_tracking(){if(bouncex.website.ete){if(bouncex.website.ettm&&!visitorTestMode("events"))return;bouncex.et.init()}}
bouncex.psh={swr:{},init:function(){if(!this.supported)return;this.initialized=true;this._clickthrough();if(this.type==="sw"&&this.getCurrentPermission()==="granted"&&bouncex.ssl)this.installServiceWorker().then(function(){bouncex.psh.swr.pushManager.getSubscription().then(function(subscription){if(!subscription||typeof bouncex.cookie.bp==="undefined"||bouncex.cookie.bp===0)bouncex.psh.subscribe()})});else if(!this.confirmCookieValue())this.setPermission(this.getCurrentPermission())},_clickthrough:function(){var click=
bouncex.utils.getParam("psh_click");if(click){var clicks=bouncex.cookie.pcs||{};var timestamp=Math.floor((new Date).getTime()/1E3);clicks[click]=timestamp;bouncex.cookie.pcs=clicks;setBounceCookie()}},init_supported:function(){this.type=this.getType();this.supported=!!this.type;if(this.supported&&!this.confirmCookieValue())this.setPermission(this.getCurrentPermission());if(!this.supported)this.setPermission("denied")},confirmCookieValue:function(){return this.getCurrentPermission()==="denied"&&bouncex.cookie.bp===
0||this.getCurrentPermission()==="default"&&typeof bouncex.cookie.bp==="undefined"},getCurrentPermission:function(){return Notification.permission},getCookiePermission:function(verboseValue){var cookieValue;if(verboseValue=="granted")cookieValue=1;else if(verboseValue=="denied")cookieValue=0;return cookieValue},getType:function(){if(bouncex.browser.edge||bouncex.browser.msie||bouncex.browser.safari)return false;if(!bouncex.ssl)return false;if(navigator.serviceWorker&&Notification.permission==="denied")return false;
return navigator.serviceWorker?"sw":false},setPermission:function(verbosePermission,ca_id){if(verbosePermission==="default")delete bouncex.cookie.bp;else{bouncex.cookie.bp=bouncex.psh.getCookiePermission(verbosePermission);if(typeof ca_id!=="undefined")if(verbosePermission==="granted")bouncex.cookie.campaigns[ca_id].bpg=getTime2();else if(verbosePermission==="denied")bouncex.cookie.campaigns[ca_id].bpd=getTime2()}setBounceCookie()},injectManifest:function(){var link=document.createElement("link");
link.rel="manifest";link.href=bouncex.website.pushFilepath+"bx-manifest.json";document.head.appendChild(link)},showOptinPromptIfEligible:function(ca_id){var pushOptinJson=!!bouncex.campaigns[ca_id].push_optin_json&&JSON.parse(bouncex.campaigns[ca_id].push_optin_json);var eligible=ca_id&&!bouncex.campaigns[ca_id].pushOptinPromptShown&&pushOptinJson&&pushOptinJson.showPromptStep&&pushOptinJson.showPromptStep===bouncex.campaigns[ca_id].current_step;if(eligible)bouncex.psh.requestOptIn(ca_id).then(function(result){bouncex.campaigns[ca_id].pushOptinPromptShown=
true;bouncex.psh.handleRequestOptinResult(result,ca_id)})},handleRequestOptinResult:function(result,ca_id){var optinEvent;if(result==="default")optinEvent="close";else if(result==="denied")optinEvent="optin_denied";else if(result==="granted"||typeof result==="object"&&result.permission&&result.permission==="granted")optinEvent="optin_granted";else{bouncex.err("Push Opt-In Error",result);return false}bouncex.psh.handleOptinEvent(optinEvent,ca_id)},handleOptinEvent:function(event,ca_id){var pushOptinJson=
JSON.parse(bouncex.campaigns[ca_id].push_optin_json);var triggerOffsiteJson=!!bouncex.campaigns[ca_id].trigger_offsite_json&&JSON.parse(bouncex.campaigns[ca_id].trigger_offsite_json);if(event==="optin_granted"&&triggerOffsiteJson&&triggerOffsiteJson.campaignId)bouncex.push(["requestsend",{campaignid:triggerOffsiteJson.campaignId,fcmtoken:bouncex.psh.fcmToken,channel:"push",testmode:visitorTestMode("bxdev")?1:0}]);bouncex.psh.fcmToken=null;var handler=pushOptinJson.eventHandlers[event];if(handler.action===
"next"){var jumpStep=handler.prop?handler.prop:bouncex.campaigns[ca_id].next_step;bouncex.setJumpStep(ca_id,jumpStep,false);bouncex.nextStep(ca_id)}else{bouncex.close_ad(ca_id);if(handler.action==="trigger")bouncex.show_ad(handler.prop)}},requestOptIn:function(ca_id){if(this.initialized===true){if(this.supported&&this.type==="sw")return this.requestOptInSW(ca_id);return Promise.resolve("denied")}return Promise.resolve("Push not initialized, ensure push is enabled in website settings.")},requestOptInSW:function(ca_id){var permission=
bouncex.psh.getCurrentPermission();if(permission!=="default")return Promise.resolve(permission);var promptPayload={"notifypush:cookie":JSON.stringify(bouncex.cookie),campaignid:ca_id};bouncex.psh.report("prompt",promptPayload);return Notification.requestPermission().then(function(permission){if(permission==="granted")return new Promise(function(resolve){return bouncex.psh.installServiceWorker().then(function(){return bouncex.psh.subscribe(ca_id)}).then(resolve)["catch"](function(err){resolve(err)})});
else if(permission==="denied"){var pushData={"notifypush:type":"sw",campaignid:ca_id};bouncex.psh.setPermission(permission,ca_id);bouncex.psh.report("optin_denied",pushData)}return Promise.resolve(permission)})},installServiceWorker:function(){return new Promise(function(resolve,reject){bouncex.psh.injectManifest();navigator.serviceWorker.register(bouncex.website.pushFilepath+"bx-sw.js").then(function(swr){bouncex.psh.swr=swr;navigator.serviceWorker.oncontrollerchange=function(event){if(bouncex.psh.isBxServiceWorker(event.target))bouncex.psh.subscribe()};
resolve()})["catch"](function(err){bouncex.err(err,{source:"push"});reject("Error installing service worker")})})},isServiceWorkerReady:function(){return new Promise(function(resolve){var state=bouncex.psh.swr.active||bouncex.psh.swr.waiting||bouncex.psh.installing;if(state&&state.state==="activated")resolve();else{var stateChangeListener=function(e){if(e.target.state==="activated"){bouncex.psh.swr.active.removeEventListener("statechange",stateChangeListener);resolve()}};var inactiveSw=bouncex.psh.swr.installing||
bouncex.psh.swr.waiting;if(inactiveSw)inactiveSw.addEventListener("statechange",stateChangeListener)}})},isBxServiceWorker:function(swc){return swc.controller&&swc.controller.scriptURL&&/bx-sw\.js$/.test(swc.controller.scriptURL)},getFcmToken:function(endpoint){var token=endpoint.split(/\/(?:send|v1)\//);return token&&token[1]},subscribe:function(ca_id){return bouncex.psh.isServiceWorkerReady().then(function(){return bouncex.psh.swr.pushManager.subscribe({userVisibleOnly:true}).then(function(result){var permission=
bouncex.psh.getCurrentPermission();var pushData={"notifypush:type":"sw","notifypush:subscription":JSON.stringify(result),"notifypush:token":result.endpoint,campaignid:ca_id};bouncex.psh.fcmToken=bouncex.psh.getFcmToken(result.endpoint);bouncex.psh.setPermission(permission,ca_id);bouncex.psh.report("optin_granted",pushData);return{permission:permission,result:result}},function(error){bouncex.err(error,{source:"push"});return{permission:bouncex.psh.getCurrentPermission(),result:error}})})},report:function(type,
eventData){var defaults={agent:"user",source:"notifypush"};var data=jQuery.extend({},defaults,eventData);event_stream_report(type,data)}};
function init_errs_reporting(){bouncex.err=reportErr;bouncex.tryCatch=tryCatch;var errorListener=tryCatch(function(ev){if(ev.filename&&ev.filename.indexOf("bounceexchange")>-1||ev.error&&ev.error.stack&&ev.error.stack.indexOf("bounceexchange")>-1){var source=bouncex.calling_url.indexOf("bounceexchange.com")>-1?"core app":"window listener";ev.preventDefault();ev.stopImmediatePropagation();bouncex.err(ev.error,{source:source})}});addEvent(window,"error",errorListener,false)}
function reportErr(err,data){var message=err.stack?err.stack.split("\n").filter(function(trace){return trace.indexOf("init1")===-1}).join("\n"):err.message||err;var metaData=data||{};var params={"debug:code":err.name||"custom","debug:location":metaData.source||metaData.location||"","debug:message":message,"debug:url":bouncex.calling_url,"debug:custom_variable":metaData.cvar||metaData.custom_variable||"","campaignid":metaData.ca_id||metaData.campaign_id||metaData.campaignId||""};var newError=perf.errsArr.indexOf(params["debug:message"])===
-1;if(newError&&(window.location.hostname.indexOf("bounceexchange.com")>-1||typeof bouncex.state!=="undefined"||bouncex.env==="development")){var logColor=bouncex.env==="development"?"color: #8B008B;":"color: #388EFA;";var logPrefix=bouncex.env==="development"?"bx log (dev): ":"bx log: ";bouncex.log("%c "+logPrefix+params["debug:message"],logColor);perf.errsArr.push(params["debug:message"]);perf.errs(params)}}
function tryCatch(func,data){if(typeof func!=="function")return;if(!func._wrapped)func._wrapped=function(){try{return func.apply(this,arguments)}catch(e){data=data||{};data.source=data.source||func.name||"tryCatch wrapper";reportErr(e,data)}};return func._wrapped}bouncex.setTimeout2=setTimeout2;bouncex.setInterval2=setInterval2;
bouncex.on=function(target,events,callback,selector){if(selector)delegate(target,events,tryCatch(callback),selector);else if(jQuery.fn.on!=undefined)target.on(events,tryCatch(callback));else target.bind(events,tryCatch(callback))};bouncex.off=function(target,events,selector){if(selector)undelegate(target,events,selector);else if(jQuery.fn.off!=undefined)target.off(events);else target.unbind(events)};
function delegate(target,events,callback,selector){if(jQuery.fn.on!=undefined)target.on(events,selector,callback);else if(jQuery.fn.delegate!=undefined)target.delegate(selector,events,callback);else{bouncex.err("event listener delegation not supported");return false}}function undelegate(target,events,selector){if(jQuery.fn.off!=undefined)target.off(events,selector);else if(jQuery.fn.undelegate!=undefined)target.undelegate(selector,events);else return false}
function bcxReady(f){if(bouncex.website.fbe||!(bouncex.website.sd>-1&&(bouncex.website.vars||bouncex.website.acts)))f();else{if(!bouncex._bcxReady)eval('bouncex._bcxReady=function(){function i(){if(r.isReady){return}try{document.documentElement.doScroll("left")}catch(e){bouncex.setTimeout2(i,1);return}r.ready()}function s(t){r.bindReady();var n=r.type(t);e.done(t)}var e,t,n={};n["[object Boolean]"]="boolean";n["[object Number]"]="number";n["[object String]"]="string";n["[object Function]"]="function";n["[object Array]"]="array";n["[object Date]"]="date";n["[object RegExp]"]="regexp";n["[object Object]"]="object";var r={isReady:false,readyWait:1,holdReady:function(e){if(e){r.readyWait++}else{r.ready(true)}},ready:function(t){if(t===true&&!--r.readyWait||t!==true&&!r.isReady){if(!document.body){return bouncex.setTimeout2(r.ready,1)}r.isReady=true;if(t!==true&&--r.readyWait>0){return}e.resolveWith(document,[r])}},bindReady:function(){if(e){return}e=r._Deferred();if(document.readyState==="complete"){return bouncex.setTimeout2(r.ready,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false);window.addEventListener("load",r.ready,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",t);window.attachEvent("onload",r.ready);var n=false;try{n=window.frameElement==null}catch(s){}if(document.documentElement.doScroll&&n){i()}}},_Deferred:function(){var e=[],t,n,i,s={done:function(){if(!i){var n=arguments,o,u,a,f,l;if(t){l=t;t=0}for(o=0,u=n.length;o<u;o++){a=n[o];f=r.type(a);if(f==="array"){s.done.apply(s,a)}else if(f==="function"){e.push(a)}}if(l){s.resolveWith(l[0],l[1])}}return this},resolveWith:function(r,s){if(!i&&!t&&!n){s=s||[];n=1;try{while(e[0]){e.shift().apply(r,s)}}finally{t=[r,s];n=0}}return this},resolve:function(){s.resolveWith(this,arguments);return this},isResolved:function(){return!!(n||t)},cancel:function(){i=1;e=[];return this}};return s},type:function(e){return e==null?String(e):n[Object.prototype.toString.call(e)]||"object"}};if(document.addEventListener){t=function(){document.removeEventListener("DOMContentLoaded",t,false);r.ready()}}else if(document.attachEvent){t=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",t);r.ready()}}}return s}()');
bouncex._bcxReady(f)}}
function updateQS(){var arguri=arguments.length&1,orig=arguri?arguments[0]:window.top.location.href,p=orig.split("#"),uri=p[0],hash=p.length>1?p[1]:false,s=[];for(var i=arguri;i<arguments.length;i+=2){var k=arguments[i],v=encodeURIComponent(arguments[i+1]),r=new RegExp("([?&])"+k+"=?.*?(&|$)","gi");if(uri.match(r))uri=uri.replace(r,"$1"+k+"="+v+"$2");else s.push(k+"="+v)}if(s.length)uri+=(uri.indexOf("?")==-1?"?":uri.slice(-1)!="&"?"&":"")+s.join("&");return uri+(hash?"#"+hash:"")}
function qs(o){var a=[],s="";for(var k in o){if(!o.hasOwnProperty(k))continue;a.push(k+"="+encodeURIComponent(o[k]))}return a.join("&")}function getJString(e){var t=typeof e;if(t!="object"||e===null){if(t=="string")e='"'+e+'"';return String(e)}else{var n,r,i=[],s=e&&e.constructor==Array;for(n in e){r=e[n];t=typeof r;if(t=="string")r='"'+r+'"';else if(t=="object"&&r!==null)r=getJString(r);i.push((s?"":'"'+n+'":')+String(r))}return(s?"[":"{")+String(i)+(s?"]":"}")}}
function stringify(e){if(typeof JSON==="undefined"||typeof JSON.stringify!=="function")return getJString(e);else return JSON.stringify(e)}function parseJSON(e,def){def=def||{};try{var parsed=JSON.parse(e);if(!parsed||typeof parsed!=="object")return def;return parsed}catch(e){return def}}
function addCss(css,target,id){var style=document.createElement("style");if(id)style.id=id+"-style";if(style.styleSheet)style.styleSheet.cssText=css;else style.innerHTML=css;target.appendChild(style);return style}
function getParam(name,qstring){var param_string=qstring?"?"+qstring:window.location.href;name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&#]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(param_string);if(results==null)return"";else return decodeURIComponent(results[1])}
function createIframe(attributes){var iframe=document.createElement("iframe");for(var attr in attributes)if(attributes.hasOwnProperty(attr))iframe.setAttribute(attr,attributes[attr]);return iframe}
function MultiCookie(obj){this.disable_first_party=false;this.first_party_limit=999999;this.domain=window.location.host;this.best=function(b,o){return o.length>b.length?o:b};this.parse_json=function(jsonstr){return JSON.parse(jsonstr)};this.stringify_json=function(obj){return JSON.stringify(obj)};this.set_qs=function(s,k,v){if(s.indexOf("&"+k+"=")==-1)s+="&"+k+"="+v;else{var r=new RegExp("&"+k+"=[^&]*");s=s.replace(r,"&"+k+"="+v)}return s};for(var k in obj)this[k]=obj[k];var ls=window.localStorage,
gs=window.globalStorage;this.set=function(n,v){if(typeof v=="object")v=this.stringify_json(v);if(!this.disable_first_party)this.cookie(n,v);this.local_storage(n,v);this.global_storage(n,v);this.window_name(n,v);this.user_data(n,v)};this.get=function(n){var vs=this.getvs(n);var b="",o;while(o=vs.pop())b=this.best(b,o);this.set(n,b);return b};this.getvs=function(n){var vs=[];function a(v){if(v&&v!=="")vs.push(v)}a(this.cookie(n));a(this.local_storage(n));a(this.global_storage(n));a(this.window_name(n));
a(this.user_data(n));return vs};this.cookie=function(n,v){if(v!==undefined){var domain=this.domain;if(window.location.host.indexOf(domain)<0)domain=window.location.host.split(".").slice(-2).join(".");document.cookie=n+"='; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain="+domain;if(document.cookie.length+v.length<this.first_party_limit)document.cookie=n+"="+v+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/; domain="+domain}else return this.get_qs(n,document.cookie)};this.local_storage=function(n,
v){try{if(ls)if(v!==undefined)ls.setItem(n,v);else return ls.getItem(n)}catch(e){}};this.global_storage=function(n,v){if(gs){var host=this.getHost();try{if(v!==undefined)gs[host][n]=v;else return gs[host][n]}catch(e){}}};this.window_name=function(n,v){try{if(v!==undefined)window.name=this.set_qs(window.name,n,v);else return this.get_qs(n,window.name)}catch(e){}};this.user_data=function(n,v){try{var elm=this.createElem("div","userdata_el",1);elm.style.behavior="url(#default#userData)";if(v!==undefined){elm.setAttribute(n,
v);elm.save(n)}else{elm.load(n);return elm.getAttribute(n)}}catch(e){}};this.get_qs=function(n,text){if(typeof text!=="string")return;var neq=n+"=",ca=text.split(/[;&]/),i,c;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)===" ")c=c.substring(1,c.length);if(c.indexOf(neq)===0)return c.substring(neq.length,c.length)}}}
function getBounceCookieMulti(n){if(!bouncex.multicookie)bouncex.multicookie=new MultiCookie({domain:bouncex.website.domain,disable_first_party:bouncex.website.aco.disable_first_party&&bouncex.website.aco.disable_first_party?1:0,first_party_limit:bouncex.website.aco.first_party_limit&&bouncex.website.aco.first_party_limit?bouncex.website.aco.first_party_limit:999999,parse_json:bouncex.parseJSON,stringify_json:bouncex.stringify,best:function(b,o){if(b==="")b={};var obj={};try{if(o.substr(0,2)!=='{"')o=
bouncex.lz.decompressFromURI(o);obj=this.parse_json(o)}catch(e){return b}var bfvt=b.fvt?b.fvt:0,ofvt=obj&&obj.fvt?obj.fvt:0;return ofvt>bfvt?obj:b}});if(n!==undefined)return bouncex.multicookie.cookie(n);else{var obj=bouncex.multicookie.get(bouncex.website.cookie_name);if(obj==="")obj={};return obj}}function getBounceCookieLocalStorage(n){if(n!==undefined)return getBounceCookieSingle(n);else return bouncex.cookie}
function setBounceCookieLocalStorage(){var message=encodeURIComponent(bouncex.stringify(bouncex.cookie));if(bouncex.local_storage_frame.contentWindow)bouncex.local_storage_frame.contentWindow.postMessage(message,"*");else var interval=setInterval2(function(){if(bouncex.local_storage_frame.contentWindow){bouncex.local_storage_frame.contentWindow.postMessage(message,"*");clearInterval(interval)}},100)}
function getBounceCookieFPLocalStorage(name){if(name)return getBounceCookieSingle(name);else{var cookie=localStorage.getItem(bouncex.website.cookie_name);return parseJSON(bouncex.lz.decompressFromURI(cookie))||{}}}function setBounceCookieFPLocalStorage(){localStorage.setItem(bouncex.website.cookie_name,bouncex.lz.compressToURI(bouncex.stringify(bouncex.cookie)))}
function setBounceCookieSingle(){var c_name=bouncex.website.cookie_name;var exdate=new Date;exdate.setDate(exdate.getDate()+365);var c_value=bouncex.lz.compressToURI(bouncex.stringify(bouncex.cookie))+"; expires="+exdate.toUTCString();if(bouncex.cookie_domain)document.cookie=c_name+"="+c_value+";path=/;domain=."+bouncex.cookie_domain+";";else document.cookie=c_name+"="+c_value+";path=/;"}
function getBounceCookieSingle(name){if(!name)name=bouncex.website.cookie_name;var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++){x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==name)if(bouncex.website.cookie_name==name)if(y){if(y.substr(0,2)!=='{"')y=bouncex.lz.decompressFromURI(y);return parseJSON(y)}else return{};else return y}if(bouncex.website.cookie_name==name)return{}}
function setBounceVisitCookie(){var c_name=bouncex.website.cookie_name+"v";var exdate=new Date;exdate.setTime(exdate.getTime()+30*60*1E3);var c_value=bouncex.lz.compressToURI(bouncex.stringify(bouncex.visit_cookie))+"; expires="+exdate.toUTCString();if(bouncex.cookie_domain)document.cookie=c_name+"="+c_value+";path=/;domain=."+bouncex.cookie_domain+";";else document.cookie=c_name+"="+c_value+";path=/;"}
function getBounceVisitCookie(name){if(!name)name=bouncex.website.cookie_name+"v";var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++){x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==name)if(y.substr(0,2)==='{"')return y;else return bouncex.lz.decompressFromURI(y)}}
function setBounceCookieMulti(){var c_name=bouncex.website.cookie_name;bouncex.multicookie.set(c_name,bouncex.stringify_cookie(bouncex.cookie));if(!bouncex.browser||!bouncex.browser.safari){var url=bouncex.au+"/capture/update_cookie?cookie_name="+c_name+"&cookie="+encodeURIComponent(JSON.stringify(bouncex.cookie));var img=document.createElement("img");img.src=url}}
function destroyAll(reason){document.cookie.split(";").forEach(function(cookie){var cookieName=cookie.split("=")[0];if(cookieName.indexOf("_ibx")>-1||cookieName.indexOf("bounceClientVisit")>-1){document.cookie=cookieName+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;";document.cookie=cookieName+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain="+bouncex.cookie_domain+";"}});localStorage.removeItem(bouncex.website.cookie_name);if(bouncex.gdpr_opt_out)return;bouncex.gdpr_opt_out=true;if(bouncex.local_storage_frame&&
bouncex.local_storage_frame.contentWindow)bouncex.local_storage_frame.contentWindow.postMessage("clear_all_data","*");if(bouncex.campaigns)init_post_campaign_public_function();InitSequence.dynamic.tearDown();bouncex.website.vars=[];bouncex.website.etjson=[];bouncex.website.cjs="";bouncex.website.preinit_cjs="";bouncex.website.etjs="";bouncex.baddjs=baddjs=function(){};event_stream_report=function(){};if(bouncex.cookie)bouncex.cookie.vid=bouncex.cookie.did=0;if(reason!=="client_opt_out"&&reason!==
"gdpr_no_consent_cookie")report_optout("bx_suppress",{reason:reason});bouncex.cookie={}}
function clearBounceCookie(all){var c_name=bouncex.website.cookie_name;var c_value2="; expires=Thu, 01 Jan 1970 00:00:01 GMT";if(all){document.cookie=c_name+"="+c_value2+";path=/;";document.cookie=c_name+"="+c_value2+";path=/;domain=."+bouncex.cookie_domain+";"}else if(bouncex.cookie_domain)document.cookie=c_name+"="+c_value2+";path=/;";else document.cookie=c_name+"="+c_value2+";path=/;domain=."+bouncex.cookie_domain+";"}
function stringify_cookie(str){return bouncex.stringify(str).replace(/;/g,"\\u003b").replace(/\+/g,"\\u002b").replace(/\=/g,"\\u003d")}function areCookiesEnabled(){var cookieEnabled=navigator.cookieEnabled?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!cookieEnabled){document.cookie="testcookie";cookieEnabled=document.cookie.indexOf("testcookie")!=-1?true:false}return cookieEnabled}
function checkCookieEligibility(){if(!(bouncex.website.ct=="multi_cookie"&&bouncex.website.aco.disable_first_party))if(document.cookie.length>6E3)return false;return true}function fpLocalStorageAvailable(){if(window.localStorage)try{localStorage.setItem("bxtest",true);if(localStorage.getItem("bxtest")){localStorage.removeItem("bxtest");return true}}catch(e){}return false}function activate_action(act){bouncex.cookie["a_"+act]=1;setBounceCookie();reload_campaigns("action",act)}
function init_custom_actions(){if(bouncex.website.acts&&bouncex.website.acts.length==undefined)for(var act_name in bouncex.website.acts)if(bouncex.website.acts[act_name]["val"]){var act_el=jQuery(bouncex.website.acts[act_name]["val"]);if(act_el.length)tryCatch(function customAction(name,el){el.bind(bouncex.website.acts[name]["action"]+".bx_act",function(){if(!bouncex.website.acts[name]["js_only"])bouncex.activate_action(name);if(!bouncex.website.acts[name]["activations"]||bouncex.website.acts[name]["activations"]==
"once")jQuery(bouncex.website.acts[name]["val"]).unbind(bouncex.website.acts[name]["action"]+".bx_act");if(bouncex.website.acts[name]["callback"])eval(bouncex.website.acts[name]["callback"])})})(act_name,act_el)}}
function visitorTestMode(type){var optList=["office","bxdev","bxtest"];switch(true){case optList.indexOf(type)>-1:return!!(bouncex.testmode&&bouncex.testmode[type]);case !(bouncex.testmode&&bouncex.testmode.bxdev):return false;default:return!!(bouncex.testmode&&bouncex.testmode.bxdev&&bouncex.testmode.bxdev[type])}}
function initTestModeParts(item){var collectionMap={"page_types":bouncex.website.pt,"cvars":bouncex.website.vars};var collection=collectionMap[item];if(!visitorTestMode(item)){bouncex.removedItems=bouncex.removedItems||{};bouncex.removedItems[item]=[];if(Array.isArray(collection))collection=collection.filter(function(v){if(v.testmode)bouncex.removedItems[item].push(v.name);return!v.testmode});else for(var name in collection)if(collection.hasOwnProperty(name))if(collection[name]["testmode"]){bouncex.removedItems[item].push(name);
delete collection[name]}}return collection}function init_page_types(){if(bouncex.website.pt){bouncex.website.pt=initTestModeParts("page_types");var page=findPageTypeMatch(bouncex.website.pt);bouncex.website.pts=page}}function getEnabledPageTypes(){return bouncex.website.pt?Object.keys(bouncex.website.pt):[]}
function findPageTypeMatch(obj){for(var pageTypeName in obj)if(obj.hasOwnProperty(pageTypeName)){var pageTypeSettings=obj[pageTypeName];var criteriaPassed=typeof pageTypeSettings.val!=="undefined"?(new Criteria(pageTypeName,pageTypeSettings.val,"pagetype")).evaluate():(new Criteria(pageTypeName,pageTypeSettings,"pagetype")).evaluate();if(criteriaPassed)return pageTypeName}return false}
function Criteria(name,conditions,type){this.name=name;this.conditions=conditions;this.type=type||"other";this.conditionsPassed=false;this.evaluate=function(){try{for(var i=0;i<this.conditions.length;i++){var compoundCondition=this.conditions[i];var conditionPassed=false;for(var j=0;j<compoundCondition.length&&!conditionPassed;j++){var condition=compoundCondition[j];var conditionTest=CriteriaHelper.activations[condition["activation"]];if(typeof conditionTest!="function")conditionPassed=false;else conditionPassed=
conditionTest(condition["prop"],condition["prop2"],condition["prop3"],condition["val"])}if(!conditionPassed)return this.fail(compoundCondition)}return this.pass()}catch(err){bouncex.err(err,{source:"criteria evaluation: "+this.type})}return this.fail()};this.log=function(){if(!(bouncex.testmode.bxdev||bouncex.testmode.bxtest))return;bouncex.criteriaLog=bouncex.criteriaLog||{};bouncex.criteriaLog[this.type]=bouncex.criteriaLog[this.type]||{};var criteriaId=this.name+"-"+JSON.stringify(this.conditions).length;
bouncex.criteriaLog[this.type][criteriaId]={conditions:this.conditions,conditionsPassed:this.conditionsPassed,failedCondition:this.failedCondition,name:this.name}};this.pass=function(){this.conditionsPassed=true;this.log();return true};this.fail=function(failedCondition){this.conditionsPassed=false;this.failedCondition=failedCondition;this.log();return false}}
var CriteriaHelper={activations:{page_type_criteria:function(a,b,c,d){return CriteriaHelper.compare("exactly",bouncex.website.pts,d)},custom_variable_criteria:function(a,b,c,d){return CriteriaHelper.compare(a,bouncex.vars[b],d)},device_type_criteria:function(a,b,c,d){return CriteriaHelper.compare("exactly",bouncex.cookie.d,d)},current_page_url:function(a,b,c,d){return CriteriaHelper.compare(a,location.href,d)},js:function(a,b,c,d){return CriteriaHelper.compare("js",null,d)}},compare:function(compareMethod,
compareValue,compareTo){var compareValue=compareValue||compareValue===false||compareValue===0?(compareValue+"").toLowerCase():"";if(compareTo||compareTo===false||compareTo===0)if(compareMethod=="js"||compareMethod=="regex_match"||compareMethod=="not_regex_match")compareTo=compareTo+"";else if(compareMethod=="greater"||compareMethod=="less"||compareMethod=="less_equal"||compareMethod=="greater_equal"){if(compareValue!=="")compareValue=Number(compareValue);compareTo=Number(compareTo)}else compareTo=
(compareTo+"").toLowerCase();else compareTo="";if(compareMethod=="contains"||compareMethod=="not_contains")return compareValue.indexOf(compareTo)>-1?compareMethod=="contains":compareMethod!="contains";else if(compareMethod=="yes"||compareMethod=="no")return compareValue?compareMethod=="yes":compareMethod=="no";else if(compareMethod=="exactly"||compareMethod=="not_exactly")return compareValue==compareTo?compareMethod=="exactly":compareMethod!="exactly";else if(compareMethod=="contained_in"||compareMethod==
"not_contained_in")return compareTo.indexOf(compareValue)>-1?compareMethod=="contained_in":compareMethod!="contained_in";else if(compareMethod=="regex_match"||compareMethod=="not_regex_match"){var match=(new RegExp(compareTo,"gi")).test(window.location.href);return match?compareMethod=="regex_match":compareMethod!="regex_match"}else if(compareMethod=="js")try{var v=eval(compareTo);return typeof v=="boolean"&&v}catch(err){bouncex.err(err,{source:"evalCriteria - page_types"})}else if(compareMethod==
"greater")return compareValue>compareTo;else if(compareMethod=="less"&&compareValue!=="")return compareValue<compareTo;else if(compareMethod=="equal")return compareValue==compareTo;else if(compareMethod=="less_equal"&&compareValue!=="")return compareValue<=compareTo;else if(compareMethod=="greater_equal")return compareValue>=compareTo;else if(compareMethod=="not_equal")return compareValue!=compareTo;return false}};
var perf={startTime:function(){if(typeof performance!="undefined"&&performance.timing&&performance.timing.navigationStart)return performance.timing.navigationStart;else return getTimeMs()}(),timesArr:{},errsArr:[],times:function(eventName){if(!this.timesArr.startTime)this.timesArr.startTime=this.startTime;this.timesArr[eventName]=getTimeMs()-this.startTime},manualTiming:function(eventName,endTime){this.timesArr[eventName]=endTime-this.startTime},errs:function(errData){TrafficControl.apply({internal:true,
liveTraffic:5},function(){event_stream_report("debug",errData)})},get:function(type){var arrName=type+"Arr";var keyName="perf:"+type;var params={};params[keyName]=bouncex.stringify(this[arrName]);if(params[keyName]&&params[keyName]!="[]"&&params[keyName]!="{}")return params;return false},report:function(type){if(bouncex.cookie&&bouncex.cookie.did.substr(bouncex.cookie.did.length-3)==="037"){var params=this.get(type);if(params){params.agent="js";return event_stream_report("perf",params)}}}};
function percentageLiveTraffic(num){return bouncex.cookie&&bouncex.cookie.did&&bouncex.cookie.did.substr(bouncex.cookie.did.length-2)<num}function isBxInternalTraffic(){return bouncex.env!=="production"||visitorTestMode("office")||visitorTestMode("bxdev")}function next_sequence_id(){bouncex.cookie=getBounceCookie();if(!bouncex.cookie.hasOwnProperty("sid")||isNaN(bouncex.cookie.sid))bouncex.cookie.sid=0;bouncex.cookie.sid++;setBounceCookie();return bouncex.cookie.sid}
function preventUserTracking(params){updatePolicyCompliance({email:params["user:email"]});return shouldEnforcePolicies({gdpr:true,casl:true})&&!policyException(params)}function updatePolicyCompliance(params){if(bouncex.state.casl&&bouncex.state.gdpr)return;if(params.email){var domain=params.email.split(".").pop().toLowerCase();if(!bouncex.state.casl)bouncex.state.casl=bouncex.restrictedTlds.casl[domain]===1;if(!bouncex.state.gdpr)bouncex.state.gdpr=bouncex.restrictedTlds.gdpr[domain]===1}}
function shouldEnforcePolicies(policies){if(policies.gdpr&&bouncex.state.gdpr)return true;if(policies.casl&&(bouncex.state.casl&&!bouncex.website.cmp.whitelist_check))return true;return false}
function policyException(params){var compliantCampaign=params["user:source"]==="bouncex overlay"&&params["campaignid"]&&isCompliantCampaign(params["campaignid"]);var loggedInCompliantSource=loggedInTrackingAllowed(params);var compliantEventSource=fromCompliantSource(params);return compliantCampaign||loggedInCompliantSource||compliantEventSource}
function isCompliantCampaign(ca_id){if(bouncex.state.gdpr&&(!bouncex.website.cmp.gdpr||!bouncex.campaigns[ca_id].compliance["gdpr"]))return false;if(bouncex.state.casl&&!bouncex.campaigns[ca_id].compliance["casl"])return false;return true}
function loggedInTrackingAllowed(params){if(params["user:source"]&&params["user:source"].toLowerCase()==="loggedin"){if(bouncex.state.gdpr)return bouncex.website.cmp.gdpr&&bouncex.website.cmp.whitelist_check;if(bouncex.state.casl)return bouncex.website.cmp.whitelist_check}return false}function fromCompliantSource(params){if(params["user:source"]&&bouncex.website.ibx&&typeof bouncex.website.ibx.cus==="string"&&bouncex.website.ibx.cus.indexOf(params["user:source"])>-1)return true}
function report_optout(eventname,params){var baseurl=bouncex.seu+"/track.gif/"+encodeURIComponent(eventname)+"?";params.websiteid=bouncex.website.id;if(!params.source)params.source="web";if(!params.agent)params.agent="user";var url=baseurl+qs(params);var img=document.createElement("img");img.src=url;return img.src}
function event_stream_report(eventname,params){if(eventname==="user"&&bouncex.ibx._validate(params["user:email"])&&(bouncex.state.redactEmail||preventUserTracking(params)))params["user:email"]="redacted";if(eventname==="requestemail"&&bouncex.ibx._validate(params["user:email"]))if(bouncex.state.redactEmail||bouncex.state.redactEmail===undefined&&preventUserTracking(params)){params["user:email"]="redacted";params["email"]="redacted"}var baseurl=bouncex.seu+"/track.gif/"+encodeURIComponent(eventname)+
"?";params.mode=bouncex.cookie.m;params.websiteid=bouncex.website.id;params.visitid=bouncex.cookie.vid;params.deviceid=bouncex.cookie.did;if(bouncex.state&&bouncex.state.pvid!==undefined)params.pageviewid=bouncex.state.pvid;else params.pageviewid=bouncex.cookie.vpv+1;params.sequenceid=next_sequence_id();params.clienttimestamp=getTimeMs();params.clientapiversion=bouncex.tag;params.device=bouncex.cookie.d;if(bouncex.website.pts)params.page_type=bouncex.website.pts;if(!params.source)params.source="web";
if(!params.agent)params.agent="user";if(bouncex.dg&&bouncex.dg.softID)params.soft_id=bouncex.dg.softID;if(bouncex.dg&&bouncex.dg.hardID)params.hard_id=bouncex.dg.hardID;if(bouncex.debug)bouncex.eventLog.push({name:eventname,params:params});if(bouncex.cookie.t)params.testmode=1;var url=baseurl+qs(params);var img=document.createElement("img");img.onload=function(){handleEventStreamReportCompletion(params)};img.src=url;behavioralAudiencesReport(eventname,params);return img.src}
function handleEventStreamReportCompletion(eventParams){if(eventParams["user:emailhash"]&&bouncex.visit_cookie&&bouncex.visit_cookie.ueh){delete bouncex.visit_cookie.ueh;setBounceVisitCookie()}}function report(ca_id,eventname,extra){if(isGbi2Campaign(ca_id))bouncex.gbi2.report(ca_id,eventname,extra);else if(bouncex.website.gbi_enabled&&bouncex.campaigns[ca_id].gbi)bouncex.gbi.report(ca_id,eventname,extra);else buildReport(ca_id,eventname,extra)}
function buildReport(ca_id,eventname,extra){var uq=0;var agent="user";var renames={"views":"eligible","pops":"pop","clicks":"click","closes":"close"};if(renames[eventname])eventname=renames[eventname];if(eventname=="click"){if(bouncex.campaigns[ca_id].impression_click_reported)return false;else bouncex.campaigns[ca_id].impression_click_reported=true;bouncex.cookie.campaigns[ca_id].lclk=getTime2();setBounceCookie()}else if(eventname=="close"){if(bouncex.campaigns[ca_id].impression_click_reported||
bouncex.campaigns[ca_id].submitted)return false}else if(eventname=="eligible"){agent="js";bouncex.cookie.campaigns[ca_id].vv=bouncex.cookie.campaigns[ca_id].vv?bouncex.cookie.campaigns[ca_id].vv+1:1;if(bouncex.cookie.campaigns[ca_id].vv==1)uq=1;setBounceCookie()}else if(eventname=="pop"||eventname=="trypop"){agent="js";if(bouncex.cookie.campaigns[ca_id].av==1)uq=1}else if(eventname=="bid_fill"||eventname=="bid_none"||eventname=="bid_empty"||eventname=="bid_error")agent="js";if(typeof extra!=="object")extra=
{};if(uq)extra.uq=1;extra.campaignid=ca_id;extra.source=extra.source||"bouncex";extra.agent=agent;event_stream_report(eventname,extra);reportGa(ca_id,eventname);if(eventname=="click")event_js_eval(ca_id,"click")}
function report_submit(ca_id,obj,complete){obj.m=bouncex.cookie.m;obj.d=bouncex.cookie.d;obj.visit_id=bouncex.cookie.vid;obj.device_id=bouncex.cookie.did;obj.campaign_id=ca_id;obj.website_id=bouncex.website.id;obj.pvid=bouncex.state.pvid;obj.cts=getTimeMs();next_sequence_id();obj.cookie=bouncex.stringify(getBounceCookie());if(!obj.hasOwnProperty("step"))obj.step=1;if(complete)obj.last_step=1;if(bouncex.dg&&bouncex.dg.hardID)obj.hard_id=bouncex.dg.hardID;if(bouncex.dg&&bouncex.dg.softID)obj.soft_id=
bouncex.dg.softID;return jQuery('<img src="'+bouncex.sau+"/capture/submit.gif?"+qs(obj)+'"/>')}
function report_conversion_sync(obj,source){perf.times("conversion");obj=obj||{};source=source||"sync";bouncex.cookie=getBounceCookie();if(typeof obj.amount=="undefined")obj.amount=0;if(typeof obj.order_id=="undefined")obj.order_id="";if(typeof obj.email=="undefined")obj.email="";if(typeof obj.goal=="undefined")obj.goal="";var bamount=obj.amount;var border_id=obj.order_id;var bemail=obj.email;var bgoal=obj.goal;var sid=next_sequence_id();var pvid=bouncex.state?bouncex.state.pvid:bouncex.cookie.vpv+
1;var url=bouncex.sau+"/capture/convert.gif?m="+bouncex.cookie.m+"&d="+bouncex.cookie.d+"&goal="+encodeURIComponent(bgoal)+"&email="+encodeURIComponent(bemail)+"&email_sha256="+(obj.email_sha256?encodeURIComponent(obj.email_sha256):"")+"&order_id="+encodeURIComponent(border_id)+"&amount="+encodeURIComponent(bamount)+"&website_id="+bouncex.website.id+"&visit_id="+bouncex.cookie.vid+"&device_id="+bouncex.cookie.did+"&pvid="+pvid+"&sid="+sid+"&cts="+getTimeMs()+"&source="+source+"&cookie="+escape(bouncex.stringify(bouncex.cookie))+
"&"+bouncex.ibx.conv_params();if(bouncex.cookie.t)url+="&testmode="+bouncex.cookie.t;if(bouncex.dg&&bouncex.dg.hardID)url+="&hard_id="+bouncex.dg.hardID;if(bouncex.dg&&bouncex.dg.softID)url+="&soft_id="+bouncex.dg.softID;var urlLengthLimit=32E3;var newUrl=url+"&extradata="+escape(bouncex.stringify(obj));if(newUrl.length<urlLengthLimit)url=newUrl;var img=document.createElement("img");img.alt="conversion pixel";img.src=url;if(bouncex.website.tcjs)try{eval(bouncex.website.tcjs)}catch(err){bouncex.err(err,
{source:"bouncex.website.tcjs"})}if(bouncex.website.ibx.te&&bouncex.website.ibx.te==1)try{eval(bouncex.website.ibx.cjs)}catch(err){bouncex.err(err,{source:"bouncex.website.ibx.cjs"})}bouncex.cookie.lc=getTime2();setBounceCookie()}
function report_conversion(obj,source){var bamount,border_id=0;var bemail="",bgoal="";if(obj){bamount=obj.amount;border_id=obj.order_id;bemail=obj.email;if(obj.goal)bgoal=obj.goal}else obj={};if(bouncex.state.oijs)if(!border_id)try{border_id=eval(bouncex.state.oijs)}catch(e){}if(bouncex.state.ovjs)if(!bamount)try{bamount=eval(bouncex.state.ovjs)}catch(e){}if(bouncex.state.oejs)if(!bemail)try{bemail=eval(bouncex.state.oejs)}catch(e){}if(bouncex.state.goal)if(!bgoal)try{bgoal=bouncex.state.goal}catch(e){}obj.goal=
bgoal;obj.amount=bamount;obj.order_id=border_id;obj.email=bemail;source=source||"async";report_conversion_sync(obj,source)}function event_js_eval(ca_id,type,data){if(bouncex.campaigns[ca_id].event_js){var campaign_id=ca_id;if(bouncex.campaigns[ca_id].event_js[type])try{eval(bouncex.campaigns[ca_id].event_js[type])}catch(err){bouncex.err(err,{source:"event_js_eval",ca_id:ca_id})}}}
function post_submit_redirect(mca_id){var is_api=bouncex.campaigns[mca_id].is_api;var redirect=bouncex.campaigns[mca_id].submission_redirect;var delay=bouncex.campaigns[mca_id].submission_redirect_delay;if(is_api&&delay<.3)delay=.3;else if(!is_api)return false;if(redirect)setTimeout2(function(){window.top.location.href=redirect},delay?delay*1E3:0)}
function reportGa(ca_id,eventname){var ga_eventname=eventname;if(eventname=="pop")ga_eventname="impression";if(bouncex.website.gar&&bouncex.campaigns[ca_id].ga_i&&bouncex.campaigns[ca_id].ga_i[ga_eventname])bouncex.report_ga(ga_eventname,bouncex.campaigns[ca_id].ga_i.label)}
function report_ga(action,label,bypass){bypass=typeof bypass!="undefined"&&!!bypass;if(typeof action!="string"||typeof label!="string")return;var interaction=false;if(!bypass){action=action.charAt(0).toUpperCase()+action.slice(1).toLowerCase();interaction=action=="Impression";action="BounceX "+action}if(typeof window.ga==="function"){if(bouncex.website.gai)window.ga("create",bouncex.website.gai);window.ga("send","event","BounceX",action,label,{"nonInteraction":interaction})}else if(typeof window._gaq===
"object"){if(bouncex.website.gai)window._gaq.push(["_setAccount",bouncex.website.gai]);var strippedLabel=label.replace(/\(|\)/g,"");window._gaq.push(["_trackEvent","BounceX",action,strippedLabel,,interaction])}}function behavioralAudiencesReport(eventName,params){if(bouncex.website.ba.enabled&&params.agent==="user")facebookReport(eventName,params)}
function facebookReport(eventName,params){if(bouncex.website.ba.fbte===1&&params.agent==="user"){var fbEvents=createFacebookEvents(eventName,params);for(var i=0;i<fbEvents.length;i++)bouncex.ba.fbel.push(fbEvents[i]);sendEventsToFacebook(false);if(eventName==="item")bouncex.ba.lip=params}}
function sendEventsToFacebook(isRetry){if(typeof fbq!="undefined")while((e=bouncex.ba.fbel.pop())!=null){fbq(e.eventType,e.eventName,e.eventParams);if(bouncex.ba.fbto)clearTimeout(bouncex.ba.fbto)}else if(bouncex.ba.fbto==null||isRetry==true)if(bouncex.ba.fbrc<5){bouncex.ba.fbto=setTimeout2(sendEventsToFacebook,500,true);bouncex.ba.fbrc++}}
function createFacebookEvents(bxEventName,bxParams){var fbEvents=[];var eventMap={"add to cart":"AddToCart","added to cart":"AddToCart","view item":"ViewContent","viewed item":"ViewContent","conversion":"Purchase"};var eventParams={"source":"bx","bx_event_name":bxEventName};if(bxEventName!=="conversion"){var itemid="item:id"in bxParams?bxParams["item:id"]:bouncex.ba.lip["item:id"];var price="item:price"in bxParams?bxParams["item:price"]:bouncex.ba.lip["item:price"];var category="item:category"in bxParams?
bxParams["item:category"]:bouncex.ba.lip["item:category"];var name="item:copy"in bxParams?bxParams["item:copy"]:bouncex.ba.lip["item:copy"];if(itemid){eventParams["content_type"]="product";eventParams["content_ids"]=[itemid]}if(price)eventParams["value"]=price;if(category)eventParams["content_category"]=category;if(name)eventParams["content_name"]=name}var customerType=typeof bouncex.getBounceCookie().lc==="undefined"?"prospect":"customer";var fbEventName="bx:"+bxEventName+" - "+customerType;fbEvents.push({"eventType":"trackCustom",
"eventName":fbEventName,"eventParams":eventParams});if(bxEventName in eventMap)fbEvents.push({"eventType":"track","eventName":eventMap[bxEventName],"eventParams":eventParams});return fbEvents}
function noteCookieAdShown(ca_id){if(bouncex.website.gbi_enabled&&bouncex.campaigns[ca_id].gbi.stack_id)if(bouncex.gbi.stacks[bouncex.campaigns[ca_id].gbi.stack_id].failed){bouncex.gbi.log(ca_id,"NOT saving cookie data");return false}else bouncex.gbi.log(ca_id,"saving cookie data");bouncex.campaigns[ca_id].ad_shown=true;bouncex.cookie.campaigns[ca_id].lavid=bouncex.cookie.vid;bouncex.cookie.campaigns[ca_id].la=getTime2();bouncex.cookie.campaigns[ca_id].av=bouncex.cookie.campaigns[ca_id].av?bouncex.cookie.campaigns[ca_id].av+
1:1;if(!bouncex.cookie.campaigns[ca_id].fsa)bouncex.cookie.campaigns[ca_id].fsa=bouncex.cookie.campaigns[ca_id].la;bouncex.cookie.campaigns[ca_id].as=bouncex.cookie.campaigns[ca_id].as?bouncex.cookie.campaigns[ca_id].as+1:1;bouncex.cookie.campaigns[ca_id].ao=bouncex.cookie.campaigns[ca_id].ao?bouncex.cookie.campaigns[ca_id].ao+1:1;bouncex.campaigns[ca_id].ap=bouncex.campaigns[ca_id].ap?bouncex.campaigns[ca_id].ap+1:1;if((bouncex.campaigns[ca_id].type=="overlay"||bouncex.campaigns[ca_id].coverlay!==
"none")&&!bouncex.campaigns[ca_id].is_man){bouncex.cookie.ao++;bouncex.pa++;bouncex.cookie.as++}setBounceCookie()}
function report_endpageview(event){if(event.type==="visibilitychange"&&document.visibilityState!=="hidden")return;var endpageview_params={"pageview:url":bouncex.calling_url,"pageview:customvariables":JSON.stringify(bouncex.vars),"pageview:event":event.type,"perf:times":JSON.stringify(bouncex.perf.timesArr)};event_stream_report("endpageview",endpageview_params);bouncex.off(bouncex.window,".bx_endpageview");bouncex.off(bouncex.document,".bx_endpageview")}
function init_endpageview_event(){if(bouncex.state.mobile)bouncex.on(bouncex.document,"visibilitychange.bx_endpageview",report_endpageview);bouncex.on(bouncex.window,"beforeunload.bx_endpageview pagehide.bx_endpageview unload.bx_endpageview",report_endpageview)}function baddjs(file){var oScript=document.createElement("script");oScript.setAttribute("src",file);oScript.setAttribute("type","text/javascript");document.getElementsByTagName("head")[0].appendChild(oScript)}
function loadBrandStyles(){if(bouncex.brandStyles){bouncex.brandStylesLoaded=bouncex.brandStylesLoaded||{};var newBrandStyles="";var newBrandStyleIds="";for(var style_id in bouncex.brandStyles)if(bouncex.brandStyles.hasOwnProperty(style_id)&&!bouncex.brandStylesLoaded[style_id]){newBrandStyles+=bouncex.brandStyles[style_id];newBrandStyleIds+="-"+style_id;bouncex.brandStylesLoaded[style_id]=true}if(newBrandStyles)bouncex.addCss(newBrandStyles,bouncex.head[0],"bx-brand"+newBrandStyleIds)}}
function loadWebfonts(){if(bouncex.webfonts){bouncex.fontCSSLoaded=bouncex.fontCSSLoaded||{};var newStylesheets="";for(var fontFolder in bouncex.webfonts)if(bouncex.webfonts.hasOwnProperty(fontFolder)&&!bouncex.fontCSSLoaded[fontFolder]){newStylesheets+='<link href="//assets.bounceexchange.com/fonts/'+fontFolder+'/stylesheet.css" rel="stylesheet" type="text/css" media="all" />';bouncex.fontCSSLoaded[fontFolder]=1}jQuery(newStylesheets).appendTo(bouncex.head)}}
function wndsize(){var e=0;var t=0;if(!window.innerWidth)if(!(document.documentElement.clientWidth==0)){e=document.documentElement.clientWidth;t=document.documentElement.clientHeight}else{e=document.body.clientWidth;t=document.body.clientHeight}else{e=window.innerWidth;t=window.innerHeight}return{width:e,height:t}}function wndorientation(){return window.orientation}
function make_include_string(type,rltype,rlname){next_sequence_id();var tojQ=bouncex.website.ljq==="never"?0:typeof jQuery;var bcx_persist="";if(!type){type="init1";if(CustomVariables.varsToExpire&&CustomVariables.varsToExpire.length>0){var cookie=bouncex.cookie;CustomVariables.varsToExpire.forEach(function(v){bcx_persist+="&vdef["+v.name+"]="+escape(v["default"]).replace(/\+/g,"%2B")})}else var cookie=getBounceCookie()}else{var cookie=bouncex.cookie;type="reloadCampaigns"}cookie=bouncex.stringify(cookie);
var visit_cookie=bouncex.stringify(bouncex.visit_cookie);bcx_vars="";var currval=null;for(var n in bouncex.vars){var v=bouncex.vars[n];bcx_vars+="&vars["+n+"]="+escape(v)}var tzo=(new Date).getTimezoneOffset();var wsize=bouncex.wndsize();var resolution=wsize.width+"x"+wsize.height;var cts=getTimeMs();var bp=bouncex.psh&&bouncex.psh.supported?1:0;var bcxStrParams={tojQ:tojQ,cts:cts,tzo:tzo,is_preview:"false",website_id:bouncex.website.id,resolution:resolution,referrer:bouncex.referrer,calling_url:bouncex.calling_url,
visit_cookie:escape(visit_cookie),cookie:escape(cookie)+bcx_vars.replace(/\+/g,"%2B")+bcx_persist,cookie_too_large:bouncex.cookie_too_large,bp:bp,etp:JSON.stringify(getEnabledPageTypes()),pts:bouncex.website.pts||"",compliance_flag:bouncex.complianceFlag||""};var bcx_str=bouncex.au+"/bounce/"+type+".js"+bouncex.utils.url.generateQuerystring(bcxStrParams,"?");if(shouldCheckDfp()){var dfpLineItemIds=bouncex.gbi2.getDfpLineItemIds();dfpLineItemIds.forEach(function(liid){bcx_str+="&dfp[]="+dfpLineItemIds[liid]})}if(type==
"reloadCampaigns"){bcx_str+="&pvid="+bouncex.state.pvid;if(bouncex.campaigns)for(var ca_id in bouncex.campaigns)if(bouncex.campaigns[ca_id].ad_visible)bcx_str+="&vc[]="+ca_id;if(rltype!=undefined)bcx_str+="&rltype="+rltype;if(rlname!=undefined)bcx_str+="&rlname="+rlname;if(bouncex.cookie.t)bcx_str+="&testmode="+bouncex.cookie.t}if(bouncex.dg&&bouncex.dg.hardID)bcx_str+="&hard_id="+bouncex.dg.hardID;if(bouncex.dg&&bouncex.dg.softID)bcx_str+="&soft_id="+bouncex.dg.softID;return bcx_str}
function unload_campaigns(){if(bouncex.events)for(var ca_id in bouncex.events)unload_campaign(ca_id)}function unload_campaign(ca_id){if(bouncex.events&&bouncex.events[ca_id])for(var e in bouncex.events[ca_id]){if(typeof bouncex.events[ca_id][e]=="object")jQuery(bouncex.events[ca_id][e]).unbind(e);else if(typeof bouncex.events[ca_id][e]=="function")bouncex.events[ca_id][e]();else clearTimeout(bouncex.events[ca_id][e]);delete bouncex.events[ca_id][e]}}
var ReloadCampaigns={_max:30,_taskId:"make_reload_campaigns_request",init:function(){this._count=0},addRequest:function(name,type){name=name||this.addRequest.caller&&this.addRequest.caller.arguments&&this.addRequest.caller.arguments.length&&typeof this.addRequest.caller.arguments[0]!=="object"&&this.addRequest.caller.arguments[0]||"custom";type=type||"manual";BxInterval.addTask(this._makeRequest.bind(this,name,type),0,this._taskId);this._log(name+": "+type)},_makeRequest:function(name,type){if(this._count>=
this._max)return this._cancelRequest();if(typeof bouncex.state!=="undefined"){this._reloadCampaigns(name,type);this._completeRequest()}},_cancelRequest:function(){BxInterval.stopTask(this._taskId);this._log("max reached")},_completeRequest:function(){BxInterval.stopTask(this._taskId);this._count+=1;this._log(this._count)},_reloadCampaigns:function(name,type){bouncex.baddjs(bouncex.make_include_string("reloadCampaigns",type,name))},_log:function(msg){Logger.info({group:"reload_campaigns",message:msg,
color:"#BB8FCE"})}};
var BxInterval={init:function(){clearInterval(this._masterPoll);this._tasks={};this._masterPoll=setInterval2(this._runTasks.bind(this),1E3)},_runTasks:function(){for(var taskId in this._tasks)if(this._tasks.hasOwnProperty(taskId)){var task=this._tasks[taskId];task.run();task.count+=1;if(task.max>0&&task.count>=task.max)this._maxedTask(taskId)}},addTask:function(callback,max,optId,maxedFn){var id=optId||generateUniqueId();this._tasks[id]={run:callback,max:max||0,count:0,maxedFn:maxedFn};return id},
_maxedTask:function(id){if(this._tasks[id]&&typeof this._tasks[id].maxedFn==="function")this._tasks[id].maxedFn();this.stopTask(id)},stopTask:function(id){delete this._tasks[id]},clearTasks:function(){this._tasks={}}};function unhideSite(){clearTimeout(bouncex.usd.timeout);bouncex.usd.callback();delete bouncex.usd}var XD={postMessage:function(message,tar){isDeprecatedFunction()},receiveMessage:function(callback){isDeprecatedFunction()}};
function can_show_ad(ca_id,inthefuture){if(!bouncex.campaigns[ca_id])return false;if(bouncex.campaigns[ca_id].qbxtest&&!bouncex.campaigns[ca_id].ad_visible){if(!inthefuture&&bouncex.campaigns[ca_id].hasBehavioralCriteria&&!behavioralCriteriaComplete(ca_id))return false;return true}var oca_id=ca_id;var stackId=bouncex.campaigns[ca_id].gbi.stack_id;if(bouncex.website.gbi_enabled&&stackId&&ca_id!=bouncex.gbi.stacks[stackId].leader_id)ca_id=bouncex.gbi.stacks[stackId].leader_id;var time_now=getTime2();
bouncex.cookie=getBounceCookie();bouncex.cookie.lvt=bouncex.cookie.campaigns[ca_id].lvt=time_now;setBounceCookie();if(!inthefuture){if((bouncex.campaigns[ca_id].coverlay!="none"||bouncex.campaigns[ca_id].type=="overlay")&&bouncex.overlay_visible)return false;if(bouncex.campaigns[oca_id].ad_visible)return false;if(bouncex.website.ots)if((bouncex.campaigns[ca_id].coverlay!="none"||bouncex.campaigns[ca_id].type=="overlay")&&bouncex.timespaced==true)return false;if(bouncex.campaigns[ca_id].tvao>0){var top=
(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);if(bouncex.campaigns[ca_id].tvao>top)return false}if(bouncex.campaigns[ca_id].hasBehavioralCriteria&&!behavioralCriteriaComplete(ca_id))return false}if(bouncex.campaigns[oca_id].failed)return false;if(bouncex.website.map>0&&bouncex.pa>=bouncex.website.map&&(bouncex.campaigns[ca_id].coverlay!="none"||bouncex.campaigns[ca_id].type=="overlay")&&!bouncex.campaigns[ca_id].is_man)return false;if(bouncex.campaigns[ca_id].map>
0&&bouncex.campaigns[ca_id].ap>=bouncex.campaigns[ca_id].map)return false;if(bouncex.campaigns[ca_id].mas>0)if(bouncex.cookie.campaigns[ca_id].as>=bouncex.campaigns[ca_id].mas)return false;if(!bouncex.campaigns[ca_id].is_man&&bouncex.website.mas>0&&(bouncex.campaigns[ca_id].coverlay!="none"||bouncex.campaigns[ca_id].type=="overlay")&&bouncex.website.mas<=bouncex.cookie.as)return false;if(bouncex.campaigns[ca_id].mao>0&&bouncex.cookie.campaigns[ca_id].ao>=bouncex.campaigns[ca_id].mao)return false;
if(!bouncex.campaigns[ca_id].is_man&&!bouncex.campaigns[ca_id].ipc&&(bouncex.cookie.es||bouncex.cookie.campaigns[ca_id].ls||bouncex.cookie.campaigns[ca_id].submitted)&&bouncex.campaigns[ca_id].is_ec)return false;if((bouncex.campaigns[ca_id].is_pers||bouncex.campaigns[ca_id].closed_no_show)&&bouncex.cookie.campaigns[ca_id].wcv)return false;if(bouncex.campaigns[ca_id].repressed)return false;if(inthefuture&&bouncex.campaigns[ca_id].hasBehavioralCriteria&&bouncex.campaigns[ca_id].activation_registry.length>
0&&!bouncex.campaigns[ca_id].realtimeArmed&&behavioralCriteriaComplete(ca_id))return false;if(bouncex.campaigns[ca_id].purchase_no_show&&bouncex.cookie.lc>bouncex.cookie.campaigns[ca_id].la)return false;return true}
function close_ad(ca_id,silent,no_report){if(!bouncex.campaigns[ca_id])return;if(!bouncex.campaigns[ca_id].ad_visible)return;bouncex.campaigns[ca_id].ad_visible=false;if(bouncex.campaigns[ca_id].coverlay!="none"||bouncex.campaigns[ca_id].type=="overlay"){bouncex.overlay_visible=false;if(bouncex.website.otc){bouncex.timespaced=true;bouncex.events[ca_id]["timeout_timespace"]=setTimeout2(function(){bouncex.timespaced=false},bouncex.website.otc*1E3)}}if(bouncex.campaigns[ca_id].ng)close_ad_ng(ca_id);
unrepressCampaigns(ca_id);event_js_eval(ca_id,"close");if(!silent){var oca_id=ca_id;if(bouncex.website.gbi_enabled&&bouncex.campaigns[ca_id].gbi.stack_id&&oca_id!=bouncex.gbi.stacks[bouncex.campaigns[ca_id].gbi.stack_id].leader_id)oca_id=bouncex.gbi.stacks[bouncex.campaigns[ca_id].gbi.stack_id].leader_id;bouncex.cookie.campaigns[oca_id].wc=bouncex.cookie.campaigns[oca_id].wcv=getTime2();setBounceCookie();if(!no_report)report(ca_id,"close");if(bouncex.campaigns[ca_id].close_redirect_type==="reload")bouncex.reload_campaigns();
else if(bouncex.campaigns[ca_id].close_redirect_type&&bouncex.campaigns[ca_id].close_redirect_url)bouncex.events[ca_id]["timeout_close_redirect"]=teleport(bouncex.campaigns[ca_id].close_redirect_type,bouncex.campaigns[ca_id].close_redirect_url)}}
function close_ad_ng(ca_id){if(bouncex.campaigns[ca_id].type==="tabtitle"&&!bouncex.campaigns[ca_id].control){if(bouncex.campaigns[ca_id].custom_tab_title.favicon_url)TabTalk.changeFavicon(ca_id,true);TabTalk.cancelTitleUpdate(ca_id)}if(bouncex.campaigns[ca_id].control||bouncex.campaigns[ca_id].noCreative&&!isGbi2Campaign(ca_id))return false;bouncex.campaigns[ca_id].obj1.unbind("click.bcx_campaign_click_"+ca_id,handleClick);if(bouncex.browser.ios&&bouncex.campaigns[ca_id].inputs.length>0&&(bouncex.campaigns[ca_id].type===
"conversionbar"||bouncex.campaigns[ca_id].type==="nanobar")){bouncex.campaigns[ca_id].inputs.unbind(".bcx_ios_input_fix_"+ca_id);removeIosInputFix(ca_id)}var autoCloseEvent="timeout_auto_submission_close";if(bouncex.events[ca_id][autoCloseEvent]){clearTimeout(bouncex.events[ca_id][autoCloseEvent]);delete bouncex.events[ca_id][autoCloseEvent]}var timerEvent="campaign_timer";for(var eventName in bouncex.events[ca_id])if(eventName.indexOf(timerEvent)!==-1){clearInterval(bouncex.events[ca_id][eventName]);
delete bouncex.events[ca_id][eventName]}close_ad_ng_post_outro(ca_id);if(bouncex.campaigns[ca_id].transitionEffect!=="no_effect"){bouncex.campaigns[ca_id].obj1.addClass("bx-impress-out");var creative=jQuery("#bx-creative-"+ca_id);bouncex.on(creative,"animationend webKitAnimationEnd",function(){bouncex.off(creative,"animationend webKitAnimationEnd");clearInterval(bouncex.campaigns[ca_id].animationTimeout);bouncex.campaigns[ca_id].obj2.removeClass("bx-impress bx-impress-out")});bouncex.campaigns[ca_id].animationTimeout=
setTimeout2(function(){if(bouncex.campaigns[ca_id]&&!bouncex.campaigns[ca_id].ad_visible){bouncex.off(creative,"animationend webKitAnimationEnd");bouncex.campaigns[ca_id].obj2.removeClass("bx-impress bx-impress-out")}},1E3)}else bouncex.campaigns[ca_id].obj2.removeClass("bx-impress");if(bouncex.website.ally)hideAlly(ca_id);if(bouncex.campaigns[ca_id].gbi&&bouncex.campaigns[ca_id].gbi.isVideo&&bouncex.campaigns[ca_id].gbi.player)bouncex.campaigns[ca_id].gbi.player.remove()}
function close_ad_ng_post_outro(ca_id){if(bouncex.campaigns[ca_id].type=="overlay"){if(bouncex.website.ally)hideAllyOverlayPostOutro(ca_id);if(bouncex.browser.iphone||bouncex.browser.ipad){bouncex.html.removeClass("bx-client-overlay-ios");bouncex.body.removeClass("bx-client-overlay-ios");bouncex.window.scrollTop(bouncex.preImpressScrollY)}else{bouncex.html.removeClass("bx-client-overlay");bouncex.body.removeClass("bx-client-overlay")}}if(bouncex.campaigns[ca_id].blur_gate_enabled&&(bouncex.campaigns[ca_id].type==
"agilityzone"||bouncex.campaigns[ca_id].type=="annotation"))blurGateRemove(ca_id)}function trigger_ad(type,ca_id,args){var campaign=bouncex.campaigns[ca_id];if(type!=="manual"){var triggerId=makeUniqueInstrumentId(type,args);if(campaign.hasBehavioralCriteria){addTriggerToRegistry(triggerId,ca_id);if(campaign.realtimeArmed)if(!evaluateBehavioralTriggers([triggerId],campaign.activations))return behavioralCriteriaComplete(ca_id)}}show_ad(type,ca_id)}
function show_ad(type,ca_id){if(!can_show_ad(ca_id))return;if(isGbi2Campaign(ca_id)&&!bouncex.gbi2.canShowPubCampaign(type,ca_id))return;if(!bouncex.pa)perf.times("showad");var ca=bouncex.campaigns[ca_id];ca.trigger=type;if(bouncex.website.gbi_enabled){if(ca.gbi&&(ca.gbi.provider=="index"||ca.gbi.provider=="tabr"||ca.gbi.provider=="dfphtml"||ca.gbi.provider=="pbm"||ca.gbi.provider=="aqbx")&&!ca.gbi.contentLoaded&&!ca.gbi.isVideo){bouncex.gbi.clearRequestAssets(ca_id);var call=ca.gbi.provider!="tabr"?
"requestCompleteSingle":"requestCompleteMultiple";bouncex.gbi[call](ca_id,ca.gbi.html,function(){ca.gbi.contentLoaded=true;show_ad(type,ca_id);if(ca.gbi.step>1){setJumpStep(ca_id,ca.gbi.step,false);nextStep(ca_id)}});return false}if(isPlayableVideoCampaign(ca_id,true)){playVideo(ca_id,true,type);return false}}if(isGbi2Campaign(ca_id)&&!ca.gbi.contentLoaded&&!ca.gbi.contentLoading&&typeof ca.onImpression==="function"){ca.gbi.contentLoading=true;return ca.onImpression(function(){ca.gbi.contentLoading=
false;ca.gbi.contentLoaded=true;show_ad(type,ca_id)})}bouncex.campaigns[ca_id].ad_visible=true;bouncex.campaigns[ca_id].impression_click_reported=false;bouncex.campaigns[ca_id].submitted=false;noteCookieAdShown(ca_id);if(isBxPlayerCampaign(ca_id))bouncex.video.bxPlayerPop(ca_id,type);else report(ca_id,"pop",{"pop:activation":type});if(bouncex.campaigns[ca_id].ng)show_ad_ng(type,ca_id);if(bouncex.campaigns[ca_id].overlay!="teleport"&&!bouncex.campaigns[ca_id].noCreative){show_close(ca_id);if(bouncex.campaigns[ca_id].ad_auto_close){var delay=
bouncex.campaigns[ca_id].is_pers?calc_delay_cvt(bouncex.campaigns[ca_id].ad_auto_close):bouncex.campaigns[ca_id].ad_auto_close*1E3;bouncex.events[ca_id]["timeout_auto_close"]=setTimeout2(function(){close_ad(ca_id)},delay)}}if(bouncex.campaigns[ca_id].supress_overlay||bouncex.campaigns[ca_id].supress_top||bouncex.campaigns[ca_id].supress_bottom)for(var nca_id in bouncex.campaigns)if(nca_id!=ca_id&&(bouncex.campaigns[ca_id].supress_overlay&&(bouncex.campaigns[nca_id].coverlay!="none"||bouncex.campaigns[nca_id].type==
"overlay")||bouncex.campaigns[ca_id].supress_top&&(bouncex.campaigns[nca_id].ctop!="none"||bouncex.campaigns[nca_id].type=="nanobar")||bouncex.campaigns[ca_id].supress_bottom&&(bouncex.campaigns[nca_id].cbottom!="none"||bouncex.campaigns[nca_id].type=="conversionbar"))){bouncex.campaigns[nca_id].supressed_by_ca_id=ca_id;close_ad(nca_id,true)}repressCampaigns(ca_id);if(bouncex.usd)unhideSite();event_js_eval(ca_id,"impression");if(bouncex.campaigns[ca_id].osfn_website)try{eval(bouncex.campaigns[ca_id].osfn_website)}catch(err){bouncex.err(err,
{source:"osfn_website",ca_id:ca_id})}}
function repressCampaigns(ca_id){if(bouncex.campaigns[ca_id].repress_overlay||bouncex.campaigns[ca_id].repress_top||bouncex.campaigns[ca_id].repress_bottom)for(var nca_id in bouncex.campaigns)if(nca_id!=ca_id&&(bouncex.campaigns[ca_id].repress_overlay&&(bouncex.campaigns[nca_id].coverlay!="none"||bouncex.campaigns[nca_id].type=="overlay")||bouncex.campaigns[ca_id].repress_top&&(bouncex.campaigns[nca_id].ctop!="none"||bouncex.campaigns[nca_id].type=="nanobar")||bouncex.campaigns[ca_id].repress_bottom&&
(bouncex.campaigns[nca_id].cbottom!="none"||bouncex.campaigns[nca_id].type=="conversionbar"))){bouncex.campaigns[nca_id].repressed_by_ca_id=ca_id;bouncex.campaigns[nca_id].repressed=true}}function unrepressCampaigns(ca_id){for(var nca_id in bouncex.campaigns)if(bouncex.campaigns.hasOwnProperty(nca_id))if(bouncex.campaigns[nca_id].repressed_by_ca_id===ca_id){delete bouncex.campaigns[nca_id].repressed_by_ca_id;delete bouncex.campaigns[nca_id].repressed}}
function show_ad_ng(type,ca_id){if(!bouncex.campaigns[ca_id].control)if(bouncex.campaigns[ca_id].type=="tabtitle")TabTalk.updateTitle(ca_id);else if(bouncex.campaigns[ca_id].type=="teleport")teleport("_self",bouncex.campaigns[ca_id].overlay_teleport_html);if(bouncex.campaigns[ca_id].control||bouncex.campaigns[ca_id].noCreative&&!isGbi2Campaign(ca_id))return false;googleTrustedStoresBadgeFix(ca_id);if(bouncex.campaigns[ca_id].submittedYet)bouncex.campaigns[ca_id].submittedYet=false;if(bouncex.events[ca_id]["edwTimeout"])clearTimeout(bouncex.events[ca_id]["edwTimeout"]);
bouncex.campaigns[ca_id].forceLastStep=false;if(bouncex.campaigns[ca_id].current_step){bouncex.campaigns[ca_id].next_step=1;bouncex.nextStep(ca_id)}else{bouncex.campaigns[ca_id].next_step=2;bouncex.campaigns[ca_id].current_step=1;CouponCodes.insertCodesInCurrentStep(ca_id)}bouncex.campaigns[ca_id].obj1.bind("click.bcx_campaign_click_"+ca_id,{ca_id:ca_id},handleClick);if(!(bouncex.browser.msie||bouncex.browser.ipad||bouncex.browser.iphone)){var ctc=bouncex.campaigns[ca_id].obj1.find(".bx-click-to-copy");
if(ctc.length>0){bouncex.on(ctc,"click",function(event){document.execCommand("copy")});bouncex.on(ctc,"copy",clickToCopy)}}bouncex.campaigns[ca_id].inputs=bouncex.campaigns[ca_id].obj1.find(".bx-input, .bx-textarea");if((!bouncex.browser.msie||bouncex.browser.msie>8)&&bouncex.campaigns[ca_id].inputs.length>0){var bindEvents="keydown.bcx_campaign_input_"+ca_id+" focus.bcx_campaign_input_"+ca_id+" blur.bcx_campaign_input_"+ca_id+" change.bcx_campaign_input_"+ca_id+" paste.bcx_campaign_input_"+ca_id+
" keyup.bcx_campaign_input_"+ca_id;bxBind(bouncex.campaigns[ca_id].inputs,bindEvents,handleInputEvents)}if(bouncex.campaigns[ca_id].type=="overlay"){bouncex.overlay_visible=true;if(bouncex.browser.iphone||bouncex.browser.ipad){bouncex.preImpressScrollY=bouncex.window.scrollTop();bouncex.html.addClass("bx-client-overlay-ios");bouncex.body.addClass("bx-client-overlay-ios");bouncex.html[0].scrollTop=1;bouncex.body[0].scrollTop=1}else{var htmlOverflow=getStyle(bouncex.html[0],"overflow-y");if(htmlOverflow==
"auto"||htmlOverflow=="scroll")bouncex.html.addClass("bx-client-overlay");else bouncex.body.addClass("bx-client-overlay")}}else if(bouncex.campaigns[ca_id].type=="nanobar"||bouncex.campaigns[ca_id].type=="conversionbar"||bouncex.campaigns[ca_id].type=="liquidscreen"){var clone=jQuery("#bx-campaign-"+ca_id+"-clone");if(bouncex.campaigns[ca_id].type=="nanobar"||bouncex.campaigns[ca_id].type=="liquidscreen")bouncex.body.prepend(clone);else if(bouncex.campaigns[ca_id].type=="conversionbar")bouncex.body.append(clone)}else if(bouncex.campaigns[ca_id].type==
"annotation")bxBind(window,"resize.bx_campaign_"+ca_id,function(e){alignCampaign(ca_id)},ca_id);if(bouncex.browser.ios&&bouncex.campaigns[ca_id].inputs.length>0&&(bouncex.campaigns[ca_id].type==="conversionbar"||bouncex.campaigns[ca_id].type==="nanobar"))bouncex.campaigns[ca_id].inputs.bind("touchstart.bcx_ios_input_fix_"+ca_id,{ca_id:ca_id},handleIosInputTouchStart).bind("blur.bcx_ios_input_fix_"+ca_id,{ca_id:ca_id},handleIosInputBlur);alignCampaign(ca_id);if(bouncex.campaigns[ca_id].blur_gate_enabled&&
(bouncex.campaigns[ca_id].type=="agilityzone"||bouncex.campaigns[ca_id].type=="annotation"))blurGateAdd(ca_id);if(bouncex.campaigns[ca_id].shroud_on_hover)addShroudOnHover(ca_id);bouncex.campaigns[ca_id].obj2.addClass("bx-impress");if(bouncex.website.ally)showAlly(ca_id);if(bouncex.campaigns[ca_id].transitionEffect!=="no_effect"){var creative=jQuery("#bx-creative-"+ca_id);bouncex.campaigns[ca_id].obj1.addClass("bx-impress-in");bouncex.on(creative,"animationend webKitAnimationEnd",function(){bouncex.off(creative,
"animationend webKitAnimationEnd");bouncex.campaigns[ca_id].obj1.removeClass("bx-impress-in")})}bouncex.events[ca_id]["ally_timeout"]=setTimeout2(function(){runCampaignTimers(ca_id);if(bouncex.website.ally&&bouncex.campaigns[ca_id].type=="overlay")focusOnFirstFocusableElement(ca_id,true)},0);if(isPlayableVideoCampaign(ca_id))playVideo(ca_id);if(bouncex.website.bpush&&bouncex.psh.supported)bouncex.psh.showOptinPromptIfEligible(ca_id)}
function isPlayableVideoCampaign(campaignId,playBeforeImpression){var campaign=bouncex.campaigns[campaignId];var isGbiVideo=campaign.gbi&&campaign.gbi.isVideo;var playBefore=playBeforeImpression||false;if(playBefore){if(!campaign.video&&isGbiVideo&&campaign.gbi.playBeforeImpression&&!campaign.gbi.videoResponseLoaded)return true;if(isBxPlayerCampaign(campaignId)&&bouncex.video.ready(campaignId))return true}else{if(!isBxPlayerCampaign(campaignId)&&isGbiVideo&&campaign.gbi.config.playOnImpression&&campaign.gbi.player&&
!(campaign.gbi.player.getState()==="playing"))return true;if(isBxPlayerCampaign(campaignId)&&isGbiVideo&&!campaign.ad_shown)return true}return false}
function playVideo(campaignId,playBeforeImpression,type){var campaign=bouncex.campaigns[campaignId];var playBefore=playBeforeImpression||false;if(playBefore)if(!isBxPlayerCampaign(campaignId))bouncex.gbi.playVideoBeforeImpression(type,campaignId);else bouncex.video.playVideoBeforeImpression(type,campaignId);else if(campaign&&campaign.gbi&&campaign.gbi.player)campaign.gbi.player.play();else if(isBxPlayerCampaign(campaignId))bouncex.video.play(campaignId)}
function runCampaignTimers(ca_id){var timers=bouncex.campaigns[ca_id].obj2.find(".bx-timer");if(timers.length>0){var index=0;timers.each(function(k,obj){var timer_id="campaign_timer_"+ ++index;if(!bouncex.events[ca_id][timer_id]){var timer=jQuery(obj);var countTo=timer.attr("data-count-to");var countFrom=timer.attr("data-count-from");var format=timer.attr("data-format");var onComplete=timer.attr("data-on-complete");var reset=parseInt(timer.attr("data-reset"));var hasDays=/{0?days}/.test(format);run_timer(countTo,
countFrom,format,hasDays,onComplete,reset,timer,timer_id,ca_id);bouncex.events[ca_id][timer_id]=setInterval2(function(){run_timer(countTo,countFrom,format,hasDays,onComplete,false,timer,timer_id,ca_id)},1E3)}})}}
function blurGateAdd(ca_id){var ca=bouncex.campaigns[ca_id];ca.blur_gate_targets=jQuery(ca.callout_t+" ~ *").add(ca.blur_gate_inclusions).not(ca.blur_gate_exclusions).not(".bxc");ca.blur_gate_filler_placement=ca.calloutTarget.next().is(ca.obj1)?ca.obj1:ca.calloutTarget;ca.blur_gate_filler=jQuery();if(bouncex.browser.msie&&bouncex.browser.msie<=9)blurGateAddUsingRedactedContent(ca_id);else if(bouncex.browser.msie===10||bouncex.browser.msie===11||bouncex.browser.edge)blurGateAddUsingTextShadow(ca_id);
else blurGateAddUsingCssFilters(ca_id)}
function blurGateAddUsingRedactedContent(ca_id){var ca=bouncex.campaigns[ca_id];var contentHeight=0;ca.blur_gate_targets.each(function(i,el){contentHeight+=jQuery(el).height()});blurGateFillWithDummyContent(ca_id,ca.blur_gate_redacted_filler,contentHeight,0);var textColor=getStyle(ca.calloutTarget[0],"color")||"#000";var styles=".bx-blur-"+ca_id+".bx-blur-redacted b { color:"+textColor+"!important; background-color:"+textColor+"!important; }";var styleEl=bouncex.addCss(styles,ca.obj1[0],"bx-campaign-"+
ca_id+"-blur-redacted");ca.blur_gate_filler=ca.blur_gate_filler.add(styleEl);ca.blur_gate_targets.addClass("bx-blur-"+ca_id+" bx-blur-hide")}
function blurGateAddUsingTextShadow(ca_id){var ca=bouncex.campaigns[ca_id];blurGateAddFillerIfNeeded(ca_id,ca.blur_gate_lorem_filler);var textColor=getStyle(ca.calloutTarget[0],"color")||"#000";var styles=".bx-blur-"+ca_id+".bx-blur-textshadow { text-shadow: 0 0 8px 1px "+textColor+"!important; }";var styleEl=bouncex.addCss(styles,ca.obj1[0],"bx-campaign-"+ca_id+"-blur-shadow");ca.blur_gate_targets.add(ca.blur_gate_filler).addClass("bx-blur-"+ca_id+" bx-blur-textshadow");ca.blur_gate_filler=ca.blur_gate_filler.add(styleEl)}
function blurGateAddUsingCssFilters(ca_id){var ca=bouncex.campaigns[ca_id];blurGateAddFillerIfNeeded(ca_id,ca.blur_gate_lorem_filler);ca.blur_gate_targets.add(ca.blur_gate_filler).addClass("bx-blur-"+ca_id+" bx-blur")}function blurGateRemove(ca_id){var ca=bouncex.campaigns[ca_id];if(ca.blur_gate_filler)ca.blur_gate_filler.remove();if(ca.blur_gate_targets)ca.blur_gate_targets.removeClass("bx-blur-"+ca_id+" bx-blur bx-blur-hide bx-blur-textshadow")}
function blurGateAddFillerIfNeeded(ca_id,fillerType){var ca=bouncex.campaigns[ca_id];var minHeight=600;var contentHeight=0;ca.blur_gate_targets.each(function(i,el){contentHeight+=jQuery(el).height();return contentHeight<minHeight});var fillerAmountNeeded=minHeight-contentHeight;if(fillerAmountNeeded>0)blurGateFillWithDummyContent(ca_id,fillerType,fillerAmountNeeded,0)}
function blurGateFillWithDummyContent(ca_id,fillerType,targetHeight,currentHeight){var ca=bouncex.campaigns[ca_id];if(currentHeight<targetHeight){var fillerVariationIndex=ca.blur_gate_filler.length%fillerType.length;var filler=jQuery(fillerType[fillerVariationIndex]);ca.blur_gate_filler_placement.after(filler);var fillerHeight=filler.height();if(fillerHeight>0){ca.blur_gate_filler=ca.blur_gate_filler.add(filler);blurGateFillWithDummyContent(ca_id,fillerType,targetHeight,currentHeight+fillerHeight)}}}
function addShroudOnHover(ca_id){var campaignCreative=jQuery("#bx-creative-"+ca_id),hoverShroud=jQuery("#bx-hover-shroud-"+ca_id),hoverShroudTimer;if(campaignCreative.length&&hoverShroud.length){bxBind(campaignCreative,"mouseenter.bx-backdrop",function(){hoverShroudTimer=setTimeout2(function(){bouncex.campaigns[ca_id].obj1.addClass("bx-hover-shroud-on")},150)},ca_id);bxBind(campaignCreative,"mouseleave.bx-backdrop",function(){clearTimeout(hoverShroudTimer);bouncex.campaigns[ca_id].obj1.removeClass("bx-hover-shroud-on")},
ca_id)}}function destroy_ad(ca_id,keepObject){if(bouncex.campaigns[ca_id].mobile_interval)clearInterval(bouncex.campaigns[ca_id].mobile_interval);unload_campaign(ca_id);close_ad(ca_id,true);if(bouncex.campaigns[ca_id].ng)jQuery("#bx-campaign-"+ca_id+",#bx-campaign-"+ca_id+"-clone").remove();if(bouncex.campaigns[ca_id]&&!keepObject){if(bouncex.campaigns[ca_id].activeTimeCallback)ActiveTime.clearCallback(bouncex.campaigns[ca_id].activeTimeCallback);delete bouncex.campaigns[ca_id]}}var zcCallbacks=[];
function getScript(url,onsuccess){jQuery.ajax({url:url,cache:true,dataType:"script",success:onsuccess})}function clickToCopy(event){var textEl=jQuery(event.target);var originalText=textEl.text().trim();if(originalText!="Copied!"){event.originalEvent.clipboardData.setData("text/plain",originalText);event.preventDefault();textEl.text("Copied!");setTimeout2(function(){textEl.text(originalText)},1E3)}else textEl.text(originalText)}
function showGenieFormErrors(ca_id,jform,response){var errors=response?response.errors:false;if(errors){var err_rows=jQuery();for(var input_name in errors)if(errors.hasOwnProperty(input_name)){var err_field=jform.find(".bx-error-"+ca_id+"-"+input_name);var err_row=err_field.text(errors[input_name]).closest(".bx-row");err_row.addClass("bx-row-validation");if(bouncex.website.ally)err_row.find(":input").attr("aria-invalid",true).attr("aria-describedby","bx-error-"+ca_id+"-"+input_name);err_rows=err_rows.add(err_row)}if(bouncex.website.ally)err_rows.eq(0).find(":input").focus();
return false}else return true}function setSubmittedCookies(ca_id){bouncex.cookie=getBounceCookie();bouncex.campaigns[ca_id].submitted=true;bouncex.cookie.campaigns[ca_id].ls=getTime2();if(bouncex.campaigns[ca_id].is_ec)bouncex.cookie.es=true;setBounceCookie()}
function processSubmittedCampaignForm(result,ca_id){setSubmittedCookies(ca_id);if(result["email"]&&preventUserTracking({"user:email":result["email"],"user:source":"bouncex overlay","campaignid":ca_id},"email"))bouncex.state.redactEmail=true;else bouncex.state.redactEmail=false;if(bouncex.website.ibx.te&&bouncex.website.ibx.te==1&&bouncex.website.ibx.mibcx==1)bouncex.push(["user",{email:result["email"],source:"bouncex overlay",campaignid:ca_id}]);reportGa(ca_id,"submission");event_js_eval(ca_id,"submission",
result);if(typeof bouncex.onformsubmit=="function")bouncex.onformsubmit(result["email"]);var triggerOffsiteJson=!!bouncex.campaigns[ca_id].trigger_offsite_json&&JSON.parse(bouncex.campaigns[ca_id].trigger_offsite_json);if(triggerOffsiteJson&&triggerOffsiteJson.campaignId)bouncex.push(["requestemail",{email:result["email"],campaignId:triggerOffsiteJson.campaignId,testmode:visitorTestMode("bxdev")?1:0}]);post_submit_redirect(ca_id)}
function processCampaignSubmitClose(ca_id,noPostSubmit){if(bouncex.campaigns[ca_id].acas)bouncex.events[ca_id]["timeout_auto_submission_close"]=setTimeout2(function(){bouncex.close_ad(ca_id)},bouncex.campaigns[ca_id].acas*1E3);if(noPostSubmit)bouncex.close_ad(ca_id,false,true)}
function processLastStep(ca_id,noPostSubmit){if(bouncex.campaigns[ca_id].submittedYet)return;bouncex.campaigns[ca_id].submittedYet=true;var qs=bouncex.campaigns[ca_id].obj1.find(".bx-input").serialize();var result=queryStringToObject(qs);processSubmittedCampaignForm(result,ca_id);processCampaignSubmitClose(ca_id,noPostSubmit)}
function loadCouponsAndValidateForm(ca_id){var validateFormOnComplete=function(ca_id){var campaign=bouncex.campaigns[ca_id];validateForm(campaign.jform,ca_id)};CouponCodes.insertCodesInFormAndSubmit(ca_id,validateFormOnComplete.bind(this,ca_id))}
function validateForm(jform,ca_id){if(bouncex.formSubmitting)return false;else bouncex.formSubmitting=true;next_sequence_id();var isLastStep=bouncex.campaigns[ca_id].next_step==bouncex.campaigns[ca_id].numSteps&&!bouncex.campaigns[ca_id].noPostSubmit||bouncex.campaigns[ca_id].forceLastStep;var noPostSubmit=bouncex.campaigns[ca_id].current_step==bouncex.campaigns[ca_id].numSteps&&(bouncex.campaigns[ca_id].numSteps===1||bouncex.campaigns[ca_id].noPostSubmit);var last_step=isLastStep||noPostSubmit?1:
0;var serial=jform.serialize();serial+="&step="+bouncex.campaigns[ca_id].current_step+"&visit_id="+bouncex.cookie.vid+"&m="+bouncex.cookie.m+"&d="+bouncex.cookie.d;serial+="&cookie="+encodeURIComponent(bouncex.stringify(bouncex.cookie));serial+="&pos=overlay&step_name=before";serial+="&last_step="+last_step;serial+="&device_id="+bouncex.cookie.did;serial+="&cts="+getTimeMs();serial+="&pvid="+bouncex.state.pvid;serial+="&url="+bouncex.calling_url;serial+="&request_token="+bouncex.state.request_token;
if(bouncex.cookie.t)serial+="&testmode="+bouncex.cookie.t;if(bouncex.dg&&bouncex.dg.hardID)serial+="&hard_id="+bouncex.dg.hardID;if(bouncex.dg&&bouncex.dg.softID)serial+="&soft_id="+bouncex.dg.softID;for(var key in bouncex.vars)serial+="&var["+key+"]="+encodeURIComponent(bouncex.vars[key]);var action=jform.attr("action");jform.find(".bx-row-validation").removeClass("bx-row-validation");if(bouncex.website.ally)jform.find('[aria-invalid="true"]').removeAttr("aria-invalid");var options={url:action,data:serial,
dataType:"jsonp",contentType:"multipart/form-data",crossDomain:true,global:false,success:function(response){bouncex.formSubmitting=false;if(bouncex.events[ca_id]["edwTimeout"])clearTimeout(bouncex.events[ca_id]["edwTimeout"]);if(showGenieFormErrors(ca_id,jform,response)){bouncex.nextStep(ca_id);if(last_step)processLastStep(ca_id,noPostSubmit)}jQuery.event.trigger({campaign_id:ca_id,isEmptyResponse:!response,response:response,stepNumber:bouncex.campaigns[ca_id].current_step,type:"bxValidateFormComplete"})},
error:function(){bouncex.formSubmitting=false;bouncex.nextStep(ca_id);if(last_step);}};if(!bouncex.campaigns[ca_id].edw)bouncex.events[ca_id]["edwTimeout"]=setTimeout2(function(){bouncex.nextStep(ca_id);if(last_step)processLastStep(ca_id,noPostSubmit)},2500);Records.addRecord({group:"email_capture",campaignId:ca_id,data:options.data});jQuery.ajax(options)}
function submitCampaignStep(ca_id,ca_id2){ca_id=ca_id2||ca_id;if(bouncex.campaigns[ca_id].jform.find(".bx-input").length>0)loadCouponsAndValidateForm(ca_id);else nextStep(ca_id);return false}function setJumpStep(ca_id,jumpStep,forceLastStep){bouncex.campaigns[ca_id].jumpStep=jumpStep;bouncex.campaigns[ca_id].forceLastStep=forceLastStep}
function nextStep(ca_id){if(bouncex.campaigns[ca_id].jumpStep){bouncex.campaigns[ca_id].next_step=bouncex.campaigns[ca_id].jumpStep;bouncex.campaigns[ca_id].jumpStep=false}if(bouncex.campaigns[ca_id].next_step<=bouncex.campaigns[ca_id].numSteps){bouncex.campaigns[ca_id].obj2.find(".bx-step-"+ca_id+"-"+bouncex.campaigns[ca_id].current_step).removeClass("bx-active-step");bouncex.campaigns[ca_id].obj2.find(".bx-step-"+ca_id+"-"+bouncex.campaigns[ca_id].next_step).addClass("bx-active-step");cacheCreativeForm(ca_id,
bouncex.campaigns[ca_id].next_step);bouncex.campaigns[ca_id].obj2.removeClass("bx-active-step-"+bouncex.campaigns[ca_id].current_step).addClass("bx-active-step-"+bouncex.campaigns[ca_id].next_step);bouncex.campaigns[ca_id].current_step=bouncex.campaigns[ca_id].next_step;bouncex.campaigns[ca_id].next_step++;CouponCodes.insertCodesInCurrentStep(ca_id);show_close(ca_id);alignCampaign(ca_id);if(bouncex.website.ally){setFocusableElements(ca_id);focusOnFirstFocusableElement(ca_id,true)}}if(bouncex.website.bpush&&
bouncex.psh.supported)bouncex.psh.showOptinPromptIfEligible(ca_id)}
function handleInputEvents(event){var input=jQuery(this);var parent=input.closest(".bx-row");switch(event.type){case "focus":parent.addClass("bx-has-focus");break;case "blur":parent.removeClass("bx-has-focus");break;case "keydown":input.css("min-height",input.outerHeight());var ignoredKeysASCII={8:null,9:null,13:null,16:null,17:null,18:null,20:null,37:null,38:null,39:null,40:null,91:null,93:null,224:null};var ignoredKeys={"Backspace":null,"Tab":null,"Enter":null,"ShiftLeft":null,"ShiftRight":null,
"ControlLeft":null,"ControlRight":null,"AltLeft":null,"AltRight":null,"CapsLock":null,"ArrowLeft":null,"ArrowUp":null,"ArrowRight":null,"ArrowDown":null,"MetaLeft":null,"OSLeft":null,"MetaRight":null,"OSRight":null};if(!ignoredKeys.hasOwnProperty(event.code)||!ignoredKeysASCII.hasOwnProperty(event.keyCode))parent.addClass("bx-has-text");break;case "change":case "paste":case "keyup":if(input.val().length>0)parent.addClass("bx-has-text");else parent.removeClass("bx-has-text");break}}
function handleClickReporting(ca_id,clickType,eventToReport){var reportDefault=eventToReport==="default";var inputStep=bouncex.campaigns[ca_id].jform.find(".bx-input").length>0;if(eventToReport==="nothing"||clickType==="submit"&&reportDefault&&inputStep)return false;else if(clickType==="close"&&reportDefault)eventToReport="close";else if(reportDefault)eventToReport="click";bouncex.report(ca_id,eventToReport)}
function handleClick(e){var ca_id=e.data.ca_id;var clickedEl=jQuery(e.target);var bxClickEl=clickedEl.attr("data-click")?clickedEl:clickedEl.closest("#bx-campaign-"+ca_id+" [data-click]","#bx-campaign-"+ca_id);var clickType=bxClickEl.attr("data-click");var ignoreClicksFromThisElement=parseInt(bxClickEl.attr("data-ignore-bubbles"))&&!clickedEl.is(bxClickEl);var event=bxClickEl.attr("data-click-report")||"default";var fbLogin=parseInt(bxClickEl.attr("data-fb-login"));if(bxClickEl.length===0||ignoreClicksFromThisElement)return true;
e.preventDefault();e.stopPropagation();handleClickReporting(ca_id,clickType,event);if(clickType==="close"){if(bouncex.utils.getNestedProp("bouncex.campaigns["+ca_id+"].video.vast.isVPAID")==true)bouncex.campaigns[ca_id].video.vpaid.ad.stopAd();bouncex.close_ad(ca_id,false,true)}else if(clickType==="nothing"){if(fbLogin)bouncex.fb.popCa(ca_id)}else if(clickType==="hyperlink"){var url=bxClickEl.attr("href");if(bxClickEl.attr("target")==="_blank"){var newWindow=window.open();newWindow.opener=null;newWindow.location=
url}else setTimeout2(function(){window.location.href=url},300)}else if(clickType==="trigger"){bouncex.report(ca_id,"click");var experienceToTrigger=parseInt(bxClickEl.attr("data-click-trigger"));if(!bouncex.campaigns[experienceToTrigger])experienceToTrigger=by_parent_id(experienceToTrigger);if(bouncex.campaigns[experienceToTrigger])bouncex.show_ad(experienceToTrigger)}else if(clickType==="submit"){var jumpStep=parseInt(bxClickEl.attr("data-submit-jump"));var forceLastStep=parseInt(bxClickEl.attr("data-submit-force"));
if(fbLogin)bouncex.fb.nextStep(ca_id,jumpStep,forceLastStep);else{bouncex.setJumpStep(ca_id,jumpStep,forceLastStep);bouncex.submitCampaignStep(ca_id)}}}
function run_timer(count_to,count_from,format,hasDays,on_complete,resetIfExpired,timer,timer_id,ca_id){var firstSeen=bouncex.cookie.campaigns[ca_id].fsa;var isRelativeTimer=count_from==="first_impression";var now=getTime2();var end=count_to-now;if(isRelativeTimer){if(resetIfExpired&&firstSeen+end<=0){firstSeen=bouncex.cookie.campaigns[ca_id].fsa=now;setBounceCookie()}end+=firstSeen}if(end<=0){clearInterval(bouncex.events[ca_id][timer_id]);end=0;if(on_complete==="close")close_ad(ca_id)}var new_timer_html=
format.replace(/{(.*?)}/gi,function(query,unit,index,string){var units=0;var operation="floor";var spanOpen='<span class="bx-timer-units bx-timer-'+unit+'">';var spanClose="</span>";var unitLabel='<span class="bx-ally-label">'+(unit==="0days"?"days":unit)+"</span>";switch(unit){case "0days":case "days":operation=string.split("{").length-1===0?"ceil":"floor";units=end/60/60/24;break;case "hours":units=hasDays?end/60/60%24:end/60/60;break;case "minutes":units=end/60%60;break;case "seconds":units=end%
60;break}units=Math[operation](units);return spanOpen+(units<10&&unit!="days"?"0"+units:units)+unitLabel+spanClose});timer.html(new_timer_html)}function by_parent_id(pid){for(var cid in bouncex.campaigns)if(bouncex.campaigns[cid].pid==pid)return cid;return null}function show_close(ca_id,force){if(bouncex.campaigns[ca_id].ng)show_close_ng(ca_id,force)}
function show_close_ng(ca_id,force){function swapCloseClasses(placement){bouncex.campaigns[ca_id].obj2.removeClass("bx-has-close-inside bx-has-close-outside");if(placement)bouncex.campaigns[ca_id].obj2.addClass("bx-has-close-"+placement)}var newPlacement=bouncex.campaigns[ca_id].closePlacement[bouncex.campaigns[ca_id].current_step-1];if(force){newPlacement=newPlacement||"outside";swapCloseClasses(newPlacement)}else if(bouncex.campaigns[ca_id].current_step===1){if(bouncex.campaigns[ca_id].close_button_delay){swapCloseClasses(false);
bouncex.events[ca_id]["timeout_close_delay"]=setTimeout2(function(){swapCloseClasses(bouncex.campaigns[ca_id].closePlacement[bouncex.campaigns[ca_id].current_step-1]);delete bouncex.events[ca_id]["timeout_close_delay"];if(bouncex.website.ally&&bouncex.campaigns[ca_id].type=="overlay")setFocusableElements(ca_id)},bouncex.campaigns[ca_id].close_button_delay*1E3)}}else if(bouncex.campaigns[ca_id].show_close_step||!bouncex.events[ca_id]["timeout_close_delay"]){swapCloseClasses(newPlacement);if(bouncex.events[ca_id]["timeout_close_delay"]){clearTimeout(bouncex.events[ca_id]["timeout_close_delay"]);
delete bouncex.events[ca_id]["timeout_close_delay"]}}if(bouncex.website.ally&&bouncex.campaigns[ca_id].type=="overlay")setFocusableElements(ca_id)}function getCampaignTransitionEffect(ca_id){var sessionActivations=bouncex.campaigns[ca_id].ng?0:1;return bouncex.campaigns[ca_id][bouncex.cookie.campaigns[ca_id].as>sessionActivations?"te2":"te"]}
function placeCampaign(ca_id){if(bouncex.campaigns[ca_id].ng&&(bouncex.campaigns[ca_id].type==="agilityzone"||bouncex.campaigns[ca_id].type==="annotation"))placeCallout(ca_id);else bouncex.body.append(bouncex.campaigns[ca_id].html);bouncex.campaigns[ca_id].placed=true}
function placeCallout(ca_id){bouncex.campaigns[ca_id].calloutTarget=bouncex.campaigns[ca_id].calloutTarget||jQuery(bouncex.campaigns[ca_id].callout_t).eq(0);bouncex.campaigns[ca_id].calloutPlacementTarget=bouncex.campaigns[ca_id].calloutPlacementTarget||jQuery(bouncex.campaigns[ca_id].callout_pt).eq(0);var campaignBody=bouncex.campaigns[ca_id].obj1||jQuery(bouncex.campaigns[ca_id].html);if(bouncex.campaigns[ca_id].type!=="annotation")campaignBody.css({marginTop:parseInt(bouncex.campaigns[ca_id].callout_voffset)+
"px",marginLeft:parseInt(bouncex.campaigns[ca_id].callout_hoffset)+"px"});if(bouncex.campaigns[ca_id].calloutPlacementTarget.length)bouncex.campaigns[ca_id].calloutPlacementTarget[bouncex.campaigns[ca_id].dom_placement_method](campaignBody);else bouncex.campaigns[ca_id].calloutTarget[bouncex.campaigns[ca_id].dom_placement_method](campaignBody)}
function alignCampaign(ca_id){var hOffset=parseInt(bouncex.campaigns[ca_id].callout_hoffset)||0;var vOffset=parseInt(bouncex.campaigns[ca_id].callout_voffset)||0;if(bouncex.campaigns[ca_id].type=="nanotab"||bouncex.campaigns[ca_id].type=="conversioncorner"||bouncex.campaigns[ca_id].type=="dynamicwallpaper"||bouncex.campaigns[ca_id].type=="railbar"){if(bouncex.campaigns[ca_id].lastCalloutPos)bouncex.campaigns[ca_id].obj1.removeClass("bx-fixed-"+bouncex.campaigns[ca_id].lastCalloutPos);bouncex.campaigns[ca_id].obj1.addClass("bx-fixed-"+
bouncex.campaigns[ca_id].callout_pos);bouncex.campaigns[ca_id].lastCalloutPos=bouncex.campaigns[ca_id].callout_pos;if(bouncex.campaigns[ca_id].type=="dynamicwallpaper")if(bouncex.website.content_width){var creative_width=jQuery("#bx-creative-"+ca_id).width();if(bouncex.campaigns[ca_id].header_bottom_alignment=="content_right")hOffset+=parseInt((Number(bouncex.website.content_width)+Number(creative_width))/2);else hOffset-=parseInt((Number(bouncex.website.content_width)+Number(creative_width))/2)}bouncex.campaigns[ca_id].obj1.find(".bx-slab").css("margin-left",
hOffset+"px");if(bouncex.campaigns[ca_id].callout_pos.indexOf("b")!==-1)bouncex.campaigns[ca_id].obj1.find(".bx-align").css("margin-bottom",-vOffset+"px");else bouncex.campaigns[ca_id].obj1.find(".bx-align").css("margin-top",vOffset+"px");if(bouncex.campaigns[ca_id].type=="dynamicwallpaper"&&bouncex.website.content_width)if(bouncex.campaigns[ca_id].header_bottom_alignment.indexOf("right")>-1)bouncex.campaigns[ca_id].obj1.find(".bx-shroud").css({"left":"50%","margin-left":parseInt(bouncex.website.content_width/
2)+"px"});else if(bouncex.campaigns[ca_id].header_bottom_alignment.indexOf("left")>-1)bouncex.campaigns[ca_id].obj1.find(".bx-shroud").css({"left":"auto","right":"50%","margin-right":parseInt(bouncex.website.content_width/2)+"px"})}else if(bouncex.campaigns[ca_id].type=="annotation"&&bouncex.campaigns[ca_id].calloutTarget.length){var target=bouncex.campaigns[ca_id].calloutTarget;var placement=bouncex.campaigns[ca_id].dom_placement_method;var placementTarget=bouncex.campaigns[ca_id].calloutPlacementTarget;
var hAlign=bouncex.campaigns[ca_id].callout_anchor_pos.substr(0,1);var vAlign=bouncex.campaigns[ca_id].callout_anchor_pos.substr(1,2);var creative=bouncex.campaigns[ca_id].obj1.find(".bx-creative");if(!bouncex.campaigns[ca_id].obj1.hasClass("bx-annotation-"+bouncex.campaigns[ca_id].callout_pos)){if(bouncex.campaigns[ca_id].lastCalloutPos)bouncex.campaigns[ca_id].obj1.removeClass("bx-annotation-"+bouncex.campaigns[ca_id].lastCalloutPos);bouncex.campaigns[ca_id].obj1.addClass("bx-annotation-"+bouncex.campaigns[ca_id].callout_pos);
bouncex.campaigns[ca_id].lastCalloutPos=bouncex.campaigns[ca_id].callout_pos}var targetSize={height:parseInt(target.height()),width:parseInt(target.width()),outerHeight:parseInt(target.outerHeight()),outerWidth:parseInt(target.outerWidth())};var siblingOffset={x:0,y:0};var boxAdjust={top:0,right:0,bottom:0,left:0};var placementVOffset=0;var placementHOffset=0;if(placementTarget&&placementTarget.length>0){var pt_height=parseInt(placementTarget.outerHeight());var pt_h_center=placementTarget.outerWidth()/
2+placementTarget.offset().left;var target_h_center=targetSize.outerWidth/2+target.offset().left;var pt_v_center=placementTarget.outerHeight()/2+placementTarget.offset().top;var target_v_center=targetSize.outerHeight/2+target.offset().top;var vOffset_by_placement={before:target.offset().top-placementTarget.offset().top,after:target_v_center+targetSize.outerHeight/2-(pt_v_center+pt_height/2),prepend:target.offset().top-targetSize.outerHeight/2-placementTarget.offset().top,append:target_v_center+targetSize.outerHeight-
(pt_v_center+pt_height)};placementVOffset=vOffset_by_placement[placement];placementHOffset=target_h_center-pt_h_center}if(targetSize.outerHeight-targetSize.height||targetSize.outerWidth-targetSize.width)for(var side in boxAdjust)boxAdjust[side]=parseInt(target.css("padding-"+side))+parseInt(target.css("border-"+side+"-width"));var marginLeft={l:-boxAdjust.left-targetSize.width/2,c:(boxAdjust.right-boxAdjust.left)/2,r:boxAdjust.right+targetSize.width/2}[hAlign];var marginBottom={t:boxAdjust.top,m:boxAdjust.top-
targetSize.outerHeight/2,b:-boxAdjust.bottom-targetSize.height}[vAlign];if(placement==="before"||placement==="after"){var leftRightMarginDiff=parseInt(target.css("marginLeft"))-parseInt(target.css("marginRight"));siblingOffset.x=(boxAdjust.left-boxAdjust.right+leftRightMarginDiff)/2;if(placement==="before")siblingOffset.y=-boxAdjust.top;if(placement==="after")siblingOffset.y=targetSize.height+boxAdjust.bottom+parseInt(target.css("marginBottom"))}creative.css("margin","0 0 "+(marginBottom+siblingOffset.y-
placementVOffset-vOffset)+"px "+(marginLeft+siblingOffset.x+placementHOffset+hOffset)+"px")}}
function align_callout(callout,ca_id,anim,anim_h){anim=typeof anim!=="undefined"?anim:false;var button=bouncex.campaigns[ca_id].c_button,ca=bouncex.campaigns[ca_id];var bcx_offset=button.offset();var bcx_top=parseInt(bcx_offset.top);var bcx_left=parseInt(bcx_offset.left);var cheight=parseInt(callout.height());var cwidth=parseInt(callout.width());var awidth=parseInt(button.outerWidth(false));var aheight=parseInt(button.outerHeight(false));var callout_h=ca.callout_pos.substr(0,1);var callout_v=ca.callout_pos.substr(1,
2);var anchor_h=ca.callout_anchor_pos.substr(0,1);var anchor_v=ca.callout_anchor_pos.substr(1,2);if(callout_h=="l")bcx_left+=0;else if(callout_h=="c")bcx_left-=parseInt(cwidth/2);else if(callout_h=="r")bcx_left-=cwidth;if(anchor_h=="r")bcx_left+=awidth;else if(anchor_h=="c")bcx_left+=parseInt(awidth/2);else if(anchor_h=="l")bcx_left+=0;if(callout_v=="t")bcx_top+=0;else if(callout_v=="m")bcx_top-=parseInt(cheight/2);else if(callout_v=="b")bcx_top-=cheight;if(anchor_v=="b")bcx_top+=aheight;else if(anchor_v==
"m")bcx_top+=parseInt(aheight/2);else if(anchor_v=="t")bcx_top+=0;bcx_top+=parseInt(ca.callout_voffset);bcx_left+=parseInt(ca.callout_hoffset);if(anim=="down"&&typeof anim_h!=="undefined")callout.animate({"top":bcx_top+anim_h+"px"},400);else if(anim=="up")callout.animate({"top":bcx_top-anim_h},400);else callout.css({"top":bcx_top+"px","left":bcx_left+"px"})}
function align_callout_public(ca_id){bouncex.campaigns[ca_id].c_button=jQuery(bouncex.campaigns[ca_id].callout_t).eq(0);var callout=jQuery("#campaign_"+ca_id+"_container_callout");align_callout(callout,ca_id)}function handleIosInputTouchStart(e){var ca_id=e.data.ca_id;addIosInputFix(ca_id)}
function addIosInputFix(ca_id){if(!bouncex.campaigns[ca_id].hasIosInputFix){var scrollToTopOrBottom=bouncex.campaigns[ca_id].type==="conversionbar"?document.body.scrollHeight:0;bouncex.head.append('<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1" id="bx-ios-meta-'+ca_id+'"/>');window.scrollTo(0,scrollToTopOrBottom);bouncex.campaigns[ca_id].hasIosInputFix=true}}function handleIosInputBlur(e){var ca_id=e.data.ca_id;removeIosInputFix(ca_id)}
function removeIosInputFix(ca_id){if(bouncex.campaigns[ca_id].hasIosInputFix){jQuery("#bx-ios-meta-"+ca_id).remove();bouncex.campaigns[ca_id].hasIosInputFix=false}}function showAlly(ca_id){if(bouncex.campaigns[ca_id].type=="overlay")showAllyOverlay(ca_id);bouncex.campaigns[ca_id].obj1.attr("aria-hidden",false)}
function showAllyOverlay(ca_id){bouncex.campaigns[ca_id].tabDecoys.bind("focus.bcx_campaign_ally_"+ca_id,{ca_id:ca_id},handleTabDecoyFocus);bouncex.body.bind("keydown.bcx_campaign_ally_"+ca_id,{ca_id:ca_id},handleAllyKeyDown);bouncex.campaigns[ca_id].focusedBeforeCampaign=jQuery(document.activeElement);if(bouncex.campaigns[ca_id].focusedBeforeCampaign.is("body"))bouncex.campaigns[ca_id].focusedBeforeCampaign=bouncex.campaigns[ca_id].focusedBeforeCampaign.find("a:visible:first");bouncex.campaigns[ca_id].siblings=
bouncex.campaigns[ca_id].obj2.siblings();bouncex.campaigns[ca_id].siblings.each(function(){var el=jQuery(this);var attrsToAdd={"aria-hidden":"true","aria-live":"off"};for(var attrName in attrsToAdd)if(attrsToAdd.hasOwnProperty(attrName)){var currentAttrVal=el.attr(attrName);if(currentAttrVal)el.attr("data-bx-"+attrName,currentAttrVal);el.attr(attrName,attrsToAdd[attrName])}});setFocusableElements(ca_id)}
function hideAlly(ca_id){bouncex.campaigns[ca_id].obj1.attr("aria-hidden",true);if(bouncex.campaigns[ca_id].type=="overlay")hideAllyOverlay(ca_id)}function hideAllyOverlay(ca_id){bouncex.campaigns[ca_id].tabDecoys.unbind("focus.bcx_campaign_ally_"+ca_id,handleTabDecoyFocus);bouncex.body.unbind("keydown.bcx_campaign_ally_"+ca_id,handleAllyKeyDown);if(bouncex.campaigns[ca_id].focusedBeforeCampaign)bouncex.campaigns[ca_id].focusedBeforeCampaign.focus()}
function hideAllyOverlayPostOutro(ca_id){bouncex.campaigns[ca_id].siblings.each(function(){var el=jQuery(this);var attrsToRemove=["aria-hidden","aria-live"];for(var i=0;i<attrsToRemove.length;i++){var attr=attrsToRemove[i];var oldAttrVal=el.attr("data-bx-"+attr);if(oldAttrVal)el.attr(attr,oldAttrVal);else el.removeAttr(attr);el.removeAttr("data-bx-"+attr)}})}
function setFocusableElements(ca_id){var ca=bouncex.campaigns[ca_id];ca.focusableEls=ca.obj1.find("form, :input, a").not(":hidden, .bx-ally-tab-decoy, .bx-carb-trap, .bx-ally-no-focus")}function focusOnFirstFocusableElement(ca_id,exclude_close_btn){var ca=bouncex.campaigns[ca_id];var focusable=exclude_close_btn?ca.focusableEls.not(".bx-close-outside, .bx-close-inside"):ca.focusableEls;if(focusable.eq(0))focusable.eq(0).focus()}
function focusOnLastFocusableElement(ca_id,exclude_close_btn){var ca=bouncex.campaigns[ca_id];var focusable=exclude_close_btn?ca.focusableEls.not(".bx-close-outside, .bx-close-inside"):ca.focusableEls;if(focusable.eq(focusable.length-1))focusable.eq(focusable.length-1).focus()}function handleAllyKeyDown(e){var ca_id=e.data.ca_id;if(e.code==="Escape"||e.keyCode===27)bouncex.close_ad(ca_id)}
function handleTabDecoyFocus(e){var ca_id=e.data.ca_id;var ca=bouncex.campaigns[ca_id];e.stopImmediatePropagation();e.preventDefault();if(this===ca.tabDecoys.get(0))focusOnLastFocusableElement(ca_id);else if(this===ca.tabDecoys.get(1))focusOnFirstFocusableElement(ca_id)}bouncex.caAutofill=function(ca_id,data){data=typeof data==="object"?data:{};for(var characteristic in data)if(data.hasOwnProperty(characteristic))bouncex.campaigns[ca_id].inputs.filter("[name="+characteristic+"]").val(data[characteristic]).trigger("click")};
bouncex.fb={login:function(callback){callback=typeof callback==="function"?callback:function(){};if(window.FB)FB.login(function(response){if(response.authResponse)FB.api("/me",{fields:"id,email,first_name,last_name,gender,name"},function(response){if(response.error){var msg=response.error&&response.error.message;bouncex.fb.warn("FB.api returned an error: "+msg)}response.fname=response.first_name;response.lname=response.last_name;callback(response)});else{bouncex.fb.warn("FB.login not authenticated");
callback()}},{scope:"email, public_profile"});else{bouncex.fb.warn("FB sdk not found");callback()}},nextStep:function(ca_id,jump,force){bouncex.fb.login(function(response){bouncex.caAutofill(ca_id,response);bouncex.setJumpStep(ca_id,jump,force);bouncex.submitCampaignStep(ca_id);return false})},popCa:function(ca_id){bouncex.fb.login(function(response){var timeout=0;if(response&&response.email){bouncex.campaigns[ca_id].inputs.filter("[name=email]").val("Autofilling from Facebook...").trigger("click");
timeout=1500}setTimeout2(function(){bouncex.caAutofill(ca_id,response)},timeout)})},warn:function(msg){Logger.warn({group:"bouncex.fb",message:msg})}};function isGbi2Campaign(ca_id){var campaign=bouncex.campaigns[ca_id];return!!(campaign&&campaign.gbi&&campaign.gbi.placements)}function isBxPlayerCampaign(campaignId){var campaign=bouncex.campaigns[campaignId];return!!(campaign&&isGbi2Campaign(campaignId)&&campaign.video)}function gbi2Enabled(){return bouncex.gbi2&&bouncex.website.gbi2Enabled}
function init_activation_funcs(){for(var ca_id in bouncex.campaigns){bouncex.campaigns[ca_id].activation_registry=[];bouncex.campaigns[ca_id].failed=false;bouncex.events[ca_id]=bouncex.events[ca_id]||{};if(can_show_ad(ca_id,true)&&!bouncex.campaigns[ca_id].ad_visible)(function(ca_id){var delay=0;if(bouncex.campaigns[ca_id].activation_delay)delay=calc_delay_cvt(bouncex.campaigns[ca_id].activation_delay);bouncex.events[ca_id]["timeout_activation"]=setTimeout2(function(){init_activation(ca_id)},delay)})(ca_id)}}
function cacheCreativeForm(ca_id,step){bouncex.campaigns[ca_id].jform=jQuery("#bx-form-"+ca_id+"-step-"+step)}function setAccessibilityProperties(ca_id){if(bouncex.website.ally){var campaign=bouncex.campaigns[ca_id];if(bouncex.browser.msie&&campaign.type=="overlay")campaign.obj2.removeAttr("role");campaign.tabDecoys=campaign.obj1.find(".bx-ally-tab-decoy")}}
function setTransitionEffect(ca_id){var campaign=bouncex.campaigns[ca_id];campaign.transitionEffect=getCampaignTransitionEffect(ca_id);if(campaign.transitionEffect&&campaign.transitionEffect!=="no_effect")campaign.obj2.addClass("bx-fx-"+campaign.transitionEffect)}function assignDomReferencesToCampaign(ca_id){bouncex.campaigns[ca_id].obj1=jQuery("#bx-campaign-"+ca_id);bouncex.campaigns[ca_id].obj2=jQuery(".bx-campaign-"+ca_id)}
function applyCampaignStyles(ca_id){var campaign=bouncex.campaigns[ca_id];bouncex.addCss(campaign.styles,campaign.obj1[0],"bx-campaign-"+ca_id)}function setCalloutTarget(campaign){if(campaign.type==="annotation"||campaign.type==="agilityzone")evalCalloutTarget(campaign)}
function init_activation(ca_id){var ca=bouncex.campaigns[ca_id];var eligibleOsr=bouncex.website.osre&&ca.osr_params_json&&!ca.osrItems;if(!ca)return false;if(isGbi2Campaign(ca_id)){if(gbi2Enabled()&&!ca.gbi.hasBegunAuction)bouncex.gbi2.initCampaign(ca_id);return false}setCalloutTarget(ca);if(isMissingTarget(ca)){ca.failed=true;return false}if(ca.failed||ca.placed)return false;if(ca.html)placeCampaign(ca_id);if(bouncex.website.gbi_enabled&&ca.gbi&&ca.gbi.stack_id){var stackId=ca.gbi.stack_id;if(!bouncex.gbi.stacks[stackId].started)initGbiStack(stackId)}if(ca.ng){assignDomReferencesToCampaign(ca_id);
if(!eligibleOsr)cacheCreativeForm(ca_id,1);setAccessibilityProperties(ca_id);event_js_eval(ca_id,"preactivation");if(ca.styles)applyCampaignStyles(ca_id);if(!ca.control&&!ca.noCreative)setTransitionEffect(ca_id);var images=ca.images||[];loadImages(images,function(){if(bouncex.website.gbi_enabled&&ca.gbi&&ca.gbi.provider){bouncex.gbi.log(ca_id,"requesting v2 ad unit");bouncex.gbi.request(ca_id)}else if(eligibleOsr)if(bouncex.website.pts!=="product")bouncex.osr.init(ca_id,false);else if(bouncex.osr.viewItemId)bouncex.osr.init(ca_id,
bouncex.osr.viewItemId);else return false;else activate_campaign(ca_id)})}else if(ca.html)isDeprecatedFunction("ca.html else block");else activate_campaign(ca_id)}function loadImagesCount(count,callback){count--;if(count===0)callback();return count}
function loadImages(images,callback){var imagesLength;var count=imagesLength=images.length;if(count)for(var k=0;k<imagesLength;k+=1)if(bouncex.browser.msie===8&&images[k].indexOf(".svg")!==-1)count=loadImagesCount(count,callback);else{if(typeof images[k]==="string"){var srcStr=images[k];if(srcStr.indexOf("http")!==0&&srcStr.indexOf("//")!==0)srcStr="//"+srcStr;var image=jQuery('<img src="'+srcStr+'"/>')}else var image=jQuery(images[k]);image.one("load",function(){count=loadImagesCount(count,callback)});
if(image.length&&image.get(0).complete)count=loadImagesCount(count,callback)}else callback()}
function activate_campaign(ca_id){if(!bouncex.campaigns[ca_id]||bouncex.campaigns[ca_id].activated)return false;if(bouncex.campaigns[ca_id].gbi&&!isGbi2Campaign(ca_id))if(!bouncex.website.gbi_enabled){bouncex.campaigns[ca_id].failed=true;bouncex.log(ca_id+": incompatible extension")}else if(!bouncex.campaigns[ca_id].gbi.provider)activateGbiCampaign(ca_id);else;else{campaignEligible(ca_id);activateInstruments(ca_id)}}
function activateInstruments(ca_id){if(bouncex.campaigns[ca_id].hasBehavioralCriteria){initBehavioralCriteriaInstruments(ca_id);if(onlyBehavioralCriteriaNegations(ca_id)){bouncex.campaigns[ca_id].realtimeArmed=true;initActivationInstruments(ca_id)}}else initActivationInstruments(ca_id)}function campaignEligible(ca_id){if(bouncex.campaigns[ca_id].activated)return false;bouncex.campaigns[ca_id].activated=true;report(ca_id,"eligible");event_js_eval(ca_id,"activation")}
function initBehavioralCriteriaInstruments(ca_id){var campaign=bouncex.campaigns[ca_id];var behavioralCriteria=campaign.list_of_rt_activations||[];for(var i in behavioralCriteria)if(behavioralCriteria.hasOwnProperty(i)){var act=behavioralCriteria[i];act.val=parseSiteElementSelector(act.val);bouncex.ca[act.activation](act.prop,act.val,ca_id,act.prop2,act.prop3,act.prop4,act.prop5,act.prop6)}}
function initActivationInstruments(ca_id){var campaign=bouncex.campaigns[ca_id];var activations=campaign.activations;for(var i in activations)if(activations.hasOwnProperty(i)){var act=activations[i];act.val=parseSiteElementSelector(act.val);bouncex.ca[act.activation](act.prop,act.val,ca_id,act.prop2,act.prop3,act.prop4,act.prop5,act.prop6)}}function hasBehavioralCriteria(ca_id){return bouncex.campaigns[ca_id].list_of_rt_activations>0}
function onlyBehavioralCriteriaNegations(ca_id){var activations=bouncex.campaigns[ca_id].list_of_rt_activations;var criteria=bouncex.campaigns[ca_id].activations_rt;var hasNegations=activations.filter(function(instrument){return instrument.shouldBeAbsent}).length>0;if(hasNegations)if(criteria.length===1)return true;else return activations.filter(function(instrument){return!instrument.shouldBeAbsent}).length===0;return false}
function makeUniqueInstrumentId(type,params){if(!params)return type;var propKeys=["prop","val","prop2","prop3","prop4","prop5","prop6"];var id=type;var args=params.slice(0,2).concat(params.slice(3));return type+"_"+propKeys.map(function(key,i){return args[i]}).join("_")}
function getUniqueInstrumentId(activation){var ignoredKeys=["bounce","manual","control","inter","back","pers"];var propKeys=["activation","prop","val","prop2","prop3","prop4","prop5","prop6"];if(ignoredKeys.indexOf(activation.activation)!==-1)return activation.activation;else return propKeys.map(function(key){return activation[key]}).join("_")}
function addTriggerToRegistry(instrumentId,ca_id){var campaign=bouncex.campaigns[ca_id];if(campaign.activation_registry.indexOf(instrumentId)!==-1)return;campaign.activation_registry.push(instrumentId)}
function behavioralCriteriaComplete(ca_id){var campaign=bouncex.campaigns[ca_id];if(campaign.realtimeArmed)if(BehavioralCriteria.evaluate(campaign.activation_registry,campaign.activations_rt,ca_id))return evaluateBehavioralTriggers(campaign.activation_registry,campaign.activations);else return false;else if(BehavioralCriteria.evaluate(campaign.activation_registry,campaign.activations_rt,ca_id)){campaign.realtimeArmed=true;initActivationInstruments(ca_id);return false}else return false}
function evaluateBehavioralTriggers(triggers,criteria){for(var i=0;i<criteria.length;i++)if(triggers.indexOf(getUniqueInstrumentId(criteria[i]))!==-1)return true;return false}
function activation_funcs(){var ca=[];ca["manual"]=function(p,v,ca_id){};ca["control"]=function(p,v,ca_id){trigger_ad("control",ca_id)};ca["inter"]=function(p,v,ca_id){if(bouncex.cookie.vpv>=p)trigger_ad("inter",ca_id)};ca["bounce"]=function(p,v,ca_id){bxBind("html,body","mouseout.bouncex_show_"+ca_id,function(obj){process_mouse_out(obj,ca_id)},ca_id);if(bouncex.browser.msie||bouncex.browser.safari&&bouncex.browser.safari<=50)bxBind("html,body","mousemove.bouncex_show_"+ca_id,function(obj){process_mouse_move(obj,
ca_id)},ca_id)};ca["iosbounce"]=function(prop,val,ca_id){if(!bouncex.browser.ios)return false;var args=Array.prototype.slice.call(arguments);var closeOnReverse=val==="yes";var browserData={previousHeight:wndsize().height,thresholdHeight:wndsize().height,previousOrientation:wndorientation(),previousPosition:bouncex.window.scrollTop(),isScrollingUp:false,touchLock:false,touchEnded:true};bxPassiveBind(window,"touchstart.bouncex_iosbounce_"+ca_id,function(evt){browserData.touchLock=true;browserData.touchEnded=
false;browserData.previousPosition=evt.pageY;browserData.thresholdHeight=wndsize().height},ca_id);bxPassiveBind(window,"touchend.bouncex_iosbounce_"+ca_id,function(evt){browserData.isScrollingUp=browserData.previousPosition<evt.pageY;browserData.touchEnded=true;clearTimeout(bouncex.events[ca_id]["touch_timeout_"+ca_id]);bouncex.events[ca_id]["touch_timeout_"+ca_id]=setIosBounceTouchTimeout(browserData)},ca_id);bxPassiveBind(window,"resize.bouncex_iosbounce_"+ca_id,function(){if(browserData.touchLock){clearTimeout(bouncex.events[ca_id]["touch_timeout_"+
ca_id]);bouncex.events[ca_id]["touch_timeout_"+ca_id]=setIosBounceTouchTimeout(browserData)}else{clearTimeout(bouncex.events[ca_id]["orientation_timeout_"+ca_id]);bouncex.events[ca_id]["orientation_timeout_"+ca_id]=setIosBounceTimeout(ca_id,browserData,closeOnReverse,args)}},ca_id)};ca["mobile_bounce"]=function(prop,val,ca_id){if(bouncex.browser.ios){var existingActivations=bouncex.campaigns[ca_id].activations;for(var index in existingActivations)if(existingActivations.hasOwnProperty(index)&&existingActivations[index].activation===
"iosbounce")return false;return ca["iosbounce"](prop,val,ca_id)}var args=Array.prototype.slice.call(arguments),lastY=0,closeOnReverse=val==="yes",closeDelayInterval=0,scrollDirection;var detectMobileExitIntent=function(){var currentY=window.scrollY;var distanceY=Math.abs(currentY-lastY);var speed=distanceY*.1;var readyToClose;if(currentY>lastY)scrollDirection="down";else if(currentY<lastY)scrollDirection="up";readyToClose=bouncex.campaigns[ca_id].ad_visible&&closeOnReverse&&scrollDirection==="down";
if(bouncex.campaigns[ca_id].ad_shown===true)closeDelayInterval++;if(can_show_ad(ca_id)&&scrollDirection==="up"&&speed>50){trigger_ad("mobile_bounce",ca_id,args);if(!closeOnReverse)clearInterval(bouncex.campaigns[ca_id].mobile_interval)}else if(readyToClose&&closeDelayInterval>10){clearInterval(bouncex.campaigns[ca_id].mobile_interval);close_ad(ca_id,true)}lastY=currentY};clearInterval(bouncex.campaigns[ca_id].mobile_interval);bouncex.campaigns[ca_id].mobile_interval=setInterval2(detectMobileExitIntent,
100)};ca["timer"]=function(p,v,ca_id){bouncex.events[ca_id]["timeout_timer"]=setTimeout2(function(){trigger_ad("timer",ca_id,[p,v])},parseInt(v)*1E3)};ca["back"]=function(p,v,ca_id){if(window.angular)return;var eligible=false;if(p=="landing_page"){if(bouncex.state.iol)eligible=true}else eligible=true;if(eligible)if(history.pushState){if(!(history.state&&history.state.bx_rewind))if(bouncex.browser.chrome&&(bouncex.browser.iphone||bouncex.browser.ipad)){var events="touchend.bcx_rewind_fix_"+ca_id;bxBind(bouncex.body,
events,function(){bouncex.body.unbind(events);history.pushState({bx_rewind:"bx_rewind1"},"","")},ca_id)}else history.pushState({bx_rewind:"bx_rewind1"},"",decodeURIComponent(bouncex.calling_url));bouncex.original_hash=window.location.hash;bxBind(bouncex.window,"popstate.bcx_popstate_"+ca_id,function(event,v,k){if(!history.state&&(p!="landing_page"||!(bouncex.browser.safari&&history.state&&history.state.bx_rewind))&&(bouncex.original_hash===window.location.hash&&!(history.state&&history.state.bx_rewind))&&
event.type=="popstate")if(can_show_ad(ca_id)){trigger_ad("back",ca_id);clearTimeout(bouncex.rewind_control_timeout);if(bouncex.campaigns[ca_id].control&&!bouncex.rewind_variation_timeout)bouncex.rewind_control_timeout=setTimeout2(function(){history.back()},300);else bouncex.rewind_variation_timeout=setTimeout2(function(){delete bouncex.rewind_variation_timeout},300)}else{bouncex.window.unbind("popstate.bcx_popstate_"+ca_id);history.back()}},ca_id)}};ca["pers"]=function(p,v,ca_id){var eligible=false;
bouncex.campaigns[ca_id].is_pers=true;if(p=="landing_page"&&bouncex.state.iol)eligible=true;else if(p!="landing_page")eligible=true;if(eligible)trigger_ad("pers",ca_id)};ca["worm"]=function(p,v,ca_id){noteCookieAdShown(ca_id);report(ca_id,"pop",{"pop:activation":"worm"});teleport("_self",v)};ca["inactivity"]=function(p,v,ca_id){var args=Array.prototype.slice.call(arguments);var inactivity_events="mousemove.bouncex_inactivity_"+ca_id+" keydown.bouncex_inactivity_"+ca_id+" DOMMouseScroll.bouncex_inactivity_"+
ca_id+" mousewheel.bouncex_inactivity_"+ca_id+" mousedown.bouncex_inactivity_"+ca_id+" touchstart.bouncex_inactivity_"+ca_id+" touchmove.bouncex_inactivity_"+ca_id+" focus.bouncex_inactivity_"+ca_id;bxPassiveBind(window,inactivity_events,function(){clearTimeout(bouncex.events[ca_id]["inactivity"]);bouncex.events[ca_id]["inactivity"]=setInactivityTimeout(ca_id,v,inactivity_events,args)},ca_id);bouncex.events[ca_id]["inactivity"]=setInactivityTimeout(ca_id,v,inactivity_events,args)};ca["reactivity"]=
function(p,v,ca_id){var args=Array.prototype.slice.call(arguments);var activity_events="mousemove.bouncex_activity_"+ca_id+" keydown.bouncex_activity_"+ca_id+" DOMMouseScroll.bouncex_activity_"+ca_id+" mousewheel.bouncex_activity_"+ca_id+" mousedown.bouncex_activity_"+ca_id+" touchstart.bouncex_activity_"+ca_id+" touchmove.bouncex_activity_"+ca_id+" focus.bouncex_activity_"+ca_id;bxPassiveBind(window,activity_events,function(){clearTimeout(bouncex.events[ca_id]["reactivity"]);bouncex.events[ca_id]["reactivity"]=
setReactivityTimeout(ca_id,v,activity_events,args)},ca_id);bouncex.events[ca_id]["reactivity"]=setReactivityTimeout(ca_id,v,activity_events,args)};ca["scroll"]=function(detectScrollingUp,v,ca_id,speedThreshold,closeOnReverse){var args=Array.prototype.slice.call(arguments);var docHeight=jQuery(document).height();var oldViewportHeight=bouncex.wndsize().height;var bounceBackBuffer=5;var lastPos;var lastScrolled;var targetPercentage=parseInt(v);var checkSpeedAndDirection;detectScrollingUp=detectScrollingUp===
1;speedThreshold=speedThreshold?parseInt(speedThreshold):false;checkSpeedAndDirection=detectScrollingUp||speedThreshold;closeOnReverse=!!closeOnReverse;bxBind(window,"scroll.bouncex_"+ca_id,function(event){var now=(new Date).getTime();var scroll=window.pageYOffset||document.body.scrollTop;var windowSize=bouncex.wndsize();var screenSizeChanged=windowSize.height!==oldViewportHeight;var isOverScroll=windowSize.height+scroll+bounceBackBuffer>=docHeight||scroll-bounceBackBuffer<=0;var isVisible=bouncex.campaigns[ca_id].ad_visible;
var pos;var directionCriteriaMet=checkSpeedAndDirection?false:true;var percentageScrolledCriteriaMet=false;var velocityCriteriaMet=checkSpeedAndDirection?false:true;pos=detectScrollingUp?(docHeight-windowSize.height-scroll)/(docHeight-windowSize.height)*100:(scroll+windowSize.height)/docHeight*100;percentageScrolledCriteriaMet=detectScrollingUp?pos>=targetPercentage:parseInt(pos)+targetPercentage>100&&pos>lastPos;if(checkSpeedAndDirection&&(lastScrolled===undefined||pos===undefined)){lastScrolled=
now;lastPos=pos;return}if(checkSpeedAndDirection){var changeInY;var velocity;var isMovingDown;changeInY=detectScrollingUp?(docHeight-windowSize.height)*(lastPos-pos)/100:docHeight*(pos-lastPos)/100;velocity=Math.abs(changeInY/(now-lastScrolled))*100;isMovingDown=changeInY>0;directionCriteriaMet=detectScrollingUp&&!isMovingDown||!detectScrollingUp&&isMovingDown;velocityCriteriaMet=speedThreshold?velocity>=speedThreshold:true}lastScrolled=now;lastPos=pos;oldViewportHeight=windowSize.height;if(closeOnReverse&&
!screenSizeChanged&&!isOverScroll&&(isVisible&&!directionCriteriaMet||isVisible&&!percentageScrolledCriteriaMet)){close_ad(ca_id,true);if(!can_show_ad(ca_id,true))jQuery(window).unbind("scroll.bouncex_"+ca_id)}if(velocityCriteriaMet&&percentageScrolledCriteriaMet&&directionCriteriaMet&&!screenSizeChanged&&!isOverScroll){trigger_ad("scroll",ca_id,args);if(!can_show_ad(ca_id,true)&&!closeOnReverse)jQuery(window).unbind("scroll.bouncex_"+ca_id)}},ca_id)};ca["mclick"]=function(p,v,ca_id){var args=Array.prototype.slice.call(arguments);
if(p=="left"&&bouncex.campaigns[ca_id].overlay=="teleport"&&bouncex.campaigns[ca_id].overlay_teleport_type!=="_self"){var handle=function(){trigger_ad("mclick",ca_id,args)};bxBind(window.document,"click.bouncex_mclick_"+ca_id,handle,ca_id)}else{var handle=function(event){var keyCode=event.keyCode||event.which||event.button;if(event.button&&event.button==2)keyCode=3;if(p=="left"&&keyCode==1||p=="any")trigger_ad("mclick",ca_id,args);if(p=="right"&&keyCode==3||p=="any")trigger_ad("mclick",ca_id,args);
if(!can_show_ad(ca_id,true))bouncex.off(jQuery(window.document),"mousedown.bouncex_mclick_"+ca_id)};bxBind(window.document,"mousedown.bouncex_mclick_"+ca_id,handle,ca_id)}};ca["hover"]=function(delay,selector,ca_id,showOnUnhover){var args=Array.prototype.slice.call(arguments);delay=delay?Math.round(delay*1E3):500;showOnUnhover=showOnUnhover===1?true:false;var normalizedIdentifier=selector.replace(/\W/g,"");var $target=jQuery(selector);var show=showHover.bind(null,ca_id,normalizedIdentifier,args);
var handle=handleHover.bind(null,ca_id,normalizedIdentifier,delay,selector,showOnUnhover,show);var unhandle=unhandleHover.bind(null,ca_id,normalizedIdentifier);bxBind(selector,"mouseenter.bx"+ca_id+normalizedIdentifier,handle,ca_id);bxBind(selector,"mouseleave.bx"+ca_id+normalizedIdentifier,unhandle,ca_id);bouncex.events[ca_id]["listener_hover"+normalizedIdentifier]=function(){$target.unbind("mouseenter.bx"+ca_id+normalizedIdentifier,handle);$target.unbind("mouseleave.bx"+ca_id+normalizedIdentifier,
unhandle);$target.unbind("mouseleave.bx"+ca_id+normalizedIdentifier,show)}};ca["clickon"]=function(p,selector,ca_id){var args=Array.prototype.slice.call(arguments);var normalizedIdentifier=selector.replace(/\W/g,"");var handle=function(){if(jQuery(selector).length){trigger_ad("clickon",ca_id,args);if(!can_show_ad(ca_id,true))bouncex.events[ca_id]["listener_clickon"+normalizedIdentifier]()}};if(typeof bouncex.body.on!="undefined"){bouncex.body.on("click.bx"+ca_id+normalizedIdentifier,selector,handle);
bouncex.events[ca_id]["listener_clickon"+normalizedIdentifier]=function(){bouncex.body.off("click.bx"+ca_id+normalizedIdentifier,selector,handle)}}else{bouncex.body.delegate(selector,"click.bx"+ca_id+normalizedIdentifier,handle);bouncex.events[ca_id]["listener_clickon"+normalizedIdentifier]=function(){bouncex.body.undelegate(selector,"click.bx"+ca_id+normalizedIdentifier,handle)}}};ca["change"]=function(p,selector,ca_id){var args=Array.prototype.slice.call(arguments);var normalizedIdentifier=selector.replace(/\W/g,
"");var handle=function(){if(jQuery(selector).length){trigger_ad("change",ca_id,args);if(!can_show_ad(ca_id,true))bouncex.events[ca_id]["listener_change"+normalizedIdentifier]()}};if(typeof bouncex.body.on!="undefined"){bouncex.body.on("change.bx"+ca_id+normalizedIdentifier,selector,handle);bouncex.events[ca_id]["listener_change"+normalizedIdentifier]=function(){bouncex.body.off("change.bx"+ca_id+normalizedIdentifier,selector,handle)}}else{bouncex.body.delegate(selector,"change.bx"+ca_id+normalizedIdentifier,
handle);bouncex.events[ca_id]["listener_change"+normalizedIdentifier]=function(){bouncex.body.undelegate(selector,"change.bx"+ca_id+normalizedIdentifier,handle)}}};ca["waypoint"]=function(offsetAmount,selector,campaign_id,unit,detectScrollingUp,bottomOfWindow,topOfTarget,closeOnReverse){var args=Array.prototype.slice.call(arguments);detectScrollingUp=!!detectScrollingUp;bottomOfWindow=!!bottomOfWindow;topOfTarget=!!topOfTarget;closeOnReverse=!!closeOnReverse;offsetUnitIsPercent=!!unit;offsetAmount=
parseInt(offsetAmount)||0;var $element=jQuery(selector).eq(0);if($element.length){var eventName="scroll.bx.waypoint."+campaign_id+" resize.bx.waypoint."+campaign_id;var $root=bouncex.window;var scrollTimeout=null;var lastScrollPosition=getCurrentScrollPosition($root,bottomOfWindow);var crossedWaypointUp=crossedWaypointDown=hasCrossedWaypoint=hasReversedWaypoint=isScrollingDown=isScrollingUp=false;var currentScrollPosition,elementHeight,offset,threshold;var detectCrossing=function(){elementHeight=
$element.height();offset=offsetUnitIsPercent?elementHeight*offsetAmount/100:offsetAmount;threshold=$element.offset().top+offset+(topOfTarget?0:elementHeight);currentScrollPosition=getCurrentScrollPosition($root,bottomOfWindow);isScrollingUp=currentScrollPosition<lastScrollPosition;isScrollingDown=currentScrollPosition>lastScrollPosition;crossedWaypointUp=isScrollingUp&&threshold<=lastScrollPosition&&threshold>currentScrollPosition;crossedWaypointDown=isScrollingDown&&threshold>=lastScrollPosition&&
threshold<currentScrollPosition;hasCrossedWaypoint=crossedWaypointUp&&detectScrollingUp||crossedWaypointDown&&!detectScrollingUp;hasReversedWaypoint=crossedWaypointUp&&!detectScrollingUp||crossedWaypointDown&&detectScrollingUp;if(hasCrossedWaypoint){trigger_ad("waypoint",campaign_id,args);if(!closeOnReverse&&!can_show_ad(campaign_id,true))$root.unbind(eventName)}if(hasReversedWaypoint&&closeOnReverse){close_ad(campaign_id,true);if(!can_show_ad(campaign_id,true))$root.unbind(eventName)}lastScrollPosition=
getCurrentScrollPosition($root,bottomOfWindow)};bxBind(window,eventName,function(){clearTimeout(bouncex.events[campaign_id]["waypoint_debounce_timeout"]);bouncex.events[campaign_id]["waypoint_debounce_timeout"]=setTimeout2(detectCrossing,30)},campaign_id)}};ca["highlight_text"]=function(minTextLength,selector,campaign_id,bufferLength){var args=Array.prototype.slice.call(arguments);minTextLength=parseInt(minTextLength)||5;bufferLength=parseInt(bufferLength)||5;var $element=jQuery(selector).eq(0);if($element.length){var targetText=
$element.text().toLowerCase().trim();var eventName="mouseup.bouncex_highlight_text_"+campaign_id;bxBind(bouncex.body,eventName,function(){var selectedText="";if(window.getSelection)selectedText=window.getSelection().toString().toLowerCase();else if(document.selection&&document.selection.type!="Control")selectedText=document.selection.createRange().text.toLowerCase();var selectedPreBuffer=selectedText.substring(selectedText.length-minTextLength,selectedText.length);var selectedPostBuffer=selectedText.substring(0,
minTextLength);if(selectedText.length>=minTextLength&&(selectedText.indexOf(targetText)>-1||targetText.indexOf(selectedText)>-1||selectedPreBuffer.length>=minTextLength&&targetText.indexOf(selectedPreBuffer)>-1||selectedPostBuffer.length>=minTextLength&&targetText.indexOf(selectedPostBuffer)>-1)&&selectedText.length<=targetText.length+bufferLength){trigger_ad("highlight_text",campaign_id,args);if(!can_show_ad(campaign_id,true))bouncex.body.unbind(eventName)}},campaign_id)}};ca["tab_unfocus"]=function(delay,
v,ca_id,triggerClick,triggerClose){var d=parseInt(delay);var args=Array.prototype.slice.call(arguments);function show_tab(){bouncex.events[ca_id]["tabunfocus_delay"]=bouncex.events[ca_id]["tabunfocus_delay"]||setTimeout2(function(){trigger_ad("tab_unfocus",ca_id,args);bxBind(window,"focus.bouncex_tabunfocus_"+ca_id,function(){bouncex.window.unbind("focus.bouncex_tabunfocus_"+ca_id);if(triggerClick==="yes")report(ca_id,"click");if(triggerClose==="yes"){clearTimeout(bouncex.events[ca_id]["tabunfocus_delay"]);
delete bouncex.events[ca_id]["tabunfocus_delay"];close_ad(ca_id)}},ca_id);if(!can_show_ad(ca_id,true))bouncex.window.unbind("blur.bouncex_tabunfocus_"+ca_id)},d*1E3)}bxBind(window,"blur.bouncex_tabunfocus_"+ca_id,show_tab,ca_id)};ca["finished_typing"]=function(p,selector,ca_id){var args=Array.prototype.slice.call(arguments);var $target=jQuery(selector).eq(0);if($target.length){var normalizedIdentifier=selector.replace(/\W/g,"");bxBind(selector,"keyup.bx"+ca_id+normalizedIdentifier+", blur.bx"+ca_id+
normalizedIdentifier,function(event){var inputVal=jQuery(this).val();handleFinishedTyping(event,ca_id,normalizedIdentifier,$target,args,inputVal)},ca_id)}};ca["active_time"]=function(p,v,ca_id){var args=Array.prototype.slice.call(arguments);var seconds=v;bouncex.campaigns[ca_id].activityArgs=args;bouncex.campaigns[ca_id].activeTimeCallback=ActiveTime.addCallback(seconds,function(){trigger_ad("active_time",ca_id,bouncex.campaigns[ca_id].activityArgs)})};return ca}
function setCampaignCalloutTargetToIndex(campaignId,index){var campaign=bouncex.campaigns[campaignId];campaign.calloutTarget=jQuery(campaign.callout_t).eq(index)}function handleHover(ca_id,normalizedIdentifier,delay,selector,showOnUnhover,showFn){bouncex.events[ca_id]["timeout_"+normalizedIdentifier]=setTimeout2(function(){if(showOnUnhover)bxBind(selector,"mouseleave.bx"+ca_id+normalizedIdentifier,showFn,ca_id);else showFn()},delay)}
function unhandleHover(ca_id,normalizedIdentifier){clearTimeout(bouncex.events[ca_id]["timeout_"+normalizedIdentifier]);delete bouncex.events[ca_id]["timeout_"+normalizedIdentifier]}function showHover(ca_id,normalizedIdentifier,args){trigger_ad("hover",ca_id,args);if(!can_show_ad(ca_id,true))bouncex.events[ca_id]["listener_hover"+normalizedIdentifier]()}function getCurrentScrollPosition($root,bottomOfWindow){return $root.scrollTop()+(bottomOfWindow?$root.height():0)}
function setInactivityTimeout(ca_id,v,inactivity_events,args){return setTimeout2(function(){trigger_ad("inactivity",ca_id,args);bxPassiveUnbind(window,inactivity_events)},v*1E3)}
function setReactivityTimeout(ca_id,v,activity_events,args){return setTimeout2(function(){bxPassiveUnbind(window,activity_events);var reactivity_events="mousemove.bouncex_reactivity_"+ca_id+" keydown.bouncex_reactivity_"+ca_id+" DOMMouseScroll.bouncex_reactivity_"+ca_id+" mousewheel.bouncex_reactivity_"+ca_id+" mousedown.bouncex_reactivity_"+ca_id+" touchstart.bouncex_reactivity_"+ca_id+" touchmove.bouncex_reactivity_"+ca_id+" focus.bouncex_reactivity_"+ca_id;bxPassiveBind(window,reactivity_events,
function passiveEventsHandler(){bxPassiveUnbind(window,reactivity_events);trigger_ad("reactivity",ca_id,args);if(can_show_ad(ca_id,true))bxPassiveBind(window,activity_events,function(){clearTimeout(bouncex.events[ca_id]["reactivity"]);bouncex.events[ca_id]["reactivity"]=setReactivityTimeout(ca_id,v,activity_events)},ca_id)},ca_id)},v*1E3)}
function handleFinishedTyping(event,ca_id,normalizedIdentifier,$target,args,inputVal){clearTimeout(bouncex.events[ca_id]["typing_timeout_"+normalizedIdentifier]);if(inputVal!=="")if(event.code!=="Tab"&&event.code!=="Enter"||event.keyCode!==9&&event.keyCode!==13)bouncex.events[ca_id]["typing_timeout_"+normalizedIdentifier]=setTimeout2(function(){trigger_ad("finished_typing",ca_id,args);if(!can_show_ad(ca_id,true))$target.unbind("keyup.bx"+ca_id+normalizedIdentifier+", blur.bx"+ca_id+normalizedIdentifier)},
event.type==="blur"?0:1500)}
var ActiveTime={initialized:false,timeCount:0,events:"mousemove.bouncex_active_time_action keydown.bouncex_active_time_action DOMMouseScroll.bouncex_active_time_action mousewheel.bouncex_active_time_action mousedown.bouncex_active_time_action touchstart.bouncex_active_time_action touchmove.bouncex_active_time_action focus.bouncex_active_time_action",callbacks:{},inactivityTimeout:null,activityInterval:null,addCallback:function(seconds,callback){seconds=parseInt(seconds);if(isNaN(seconds))return;var callbackId=
generateUniqueId();ActiveTime.callbacks[callbackId]={seconds:seconds,callback:callback};if(!ActiveTime.initialized){ActiveTime.inactivityTimeout=ActiveTime._resetInactivityTimeout();bxPassiveBind(window,ActiveTime.events,ActiveTime._handleActivity);ActiveTime.initialized=true}return callbackId},clearCallback:function(id){if(ActiveTime.callbacks&&ActiveTime.callbacks[id])delete ActiveTime.callbacks[id];ActiveTime._shutdownIfNoRemainingCallbacks()},_increase:function(){ActiveTime.timeCount++;for(var callbackId in ActiveTime.callbacks){var callbackData=
ActiveTime.callbacks[callbackId];if(callbackData.seconds<=ActiveTime.timeCount){callbackData.callback();ActiveTime.clearCallback(callbackId)}}},_shutdownIfNoRemainingCallbacks:function(){if(!ActiveTime.callbacks||jQuery.isEmptyObject(ActiveTime.callbacks)){ActiveTime._clearActivityInterval();clearTimeout(ActiveTime.inactivityTimeout);bxPassiveUnbind(window,ActiveTime.events);ActiveTime.initialized=false}},_handleActivity:function(){ActiveTime.inactivityTimeout=ActiveTime._resetInactivityTimeout();
if(!ActiveTime.activityInterval)ActiveTime.activityInterval=setInterval2(ActiveTime._increase,1E3)},_resetInactivityTimeout:function(){clearTimeout(ActiveTime.inactivityTimeout);return setTimeout2(ActiveTime._clearActivityInterval,5E3)},_clearActivityInterval:function(){clearInterval(ActiveTime.activityInterval);delete ActiveTime.activityInterval}};
function process_mouse_move(obj,ca_id){var alt_y=obj.layerY?obj.layerY:obj.pageY;if(alt_y-(document.body.scrollTop||document.documentElement.scrollTop)<=18)bouncex.direction="up";else bouncex.direction=false;if(bouncex.campaigns[ca_id].iao>0||bouncex.campaigns[ca_id].rao>0){var alt_x=obj.layerX?obj.layerX:obj.pageX;bouncex.lastX=alt_x>0?alt_x:1}}
function process_mouse_out(obj,ca_id){var e=obj?obj:window.event,from=e.toElement,related=e.relatedTarget,target=this,width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(!related||related!==target&&!bouncex.contains(target,related))if(!from||from.nodeName=="HTML")if(bouncex.browser.msie&&bouncex.direction=="up"){if(bouncex.campaigns[ca_id].iao>0){var alt_x=bouncex.lastX;if(alt_x<bouncex.campaigns[ca_id].iao)return false}if(bouncex.campaigns[ca_id].rao>0){var alt_x=
bouncex.lastX;if(width-alt_x<bouncex.campaigns[ca_id].rao)return false}trigger_ad("bounce",ca_id);if(!can_show_ad(ca_id,true))jQuery("html,body").unbind("mouseout.bouncex_show_"+ca_id)}else if(!bouncex.browser.msie)if(obj.clientY<5&&obj.clientY>-50||bouncex.browser.safari&&(obj.clientY==-32768||obj.clientY==671)&&bouncex.direction=="up"){if(bouncex.campaigns[ca_id].iao>0){var alt_x=obj.layerX?obj.layerX:obj.pageX;if(alt_x<bouncex.campaigns[ca_id].iao)return false}if(bouncex.campaigns[ca_id].rao>0){var alt_x=
obj.layerX?obj.layerX:obj.pageX;if(width-alt_x<bouncex.campaigns[ca_id].rao)return false}if(bouncex.browser.chrome>40){if(!bouncex.events[ca_id]["bouncex_timeout"])bouncex.events[ca_id]["bouncex_timeout"]=setTimeout2(function(){trigger_ad("bounce",ca_id);bouncex.events[ca_id]["bouncex_timeout"]=false;jQuery(document).unbind("mouseenter.bx_bouncex_mousenter_"+ca_id);if(!can_show_ad(ca_id,true))jQuery("html,body").unbind("mouseout.bouncex_show_"+ca_id)},0);bxBind(document,"mouseenter.bx_bouncex_mousenter_"+
ca_id,function(){jQuery(document).unbind("mouseenter.bx_bouncex_mousenter_"+ca_id);clearTimeout(bouncex.events[ca_id]["bouncex_timeout"]);bouncex.events[ca_id]["bouncex_timeout"]=false},ca_id)}else{trigger_ad("bounce",ca_id);if(!can_show_ad(ca_id,true))jQuery("html,body").unbind("mouseout.bouncex_show_"+ca_id)}}}function teleport(type,url){if(type=="_blank")return window.open(url,type);return setTimeout2(function(){window.open(url,type)},300)}
function setIosBounceTouchTimeout(browserData){return setTimeout2(function(){if(browserData.touchEnded){if(wndsize().height>browserData.thresholdHeight)browserData.threshold=wndsize().height-browserData.thresholdHeight;browserData.touchLock=false;browserData.previousHeight=wndsize().height}},900)}
function setIosBounceTimeout(ca_id,browserData,closeOnReverse,args){return setTimeout2(function(){var currentHeight=wndsize().height;if(browserData.touchLock){browserData.previousHeight=currentHeight;return}if(browserData.previousOrientation!==wndorientation()){browserData.previousOrientation=wndorientation();browserData.previousHeight=currentHeight;return}if(browserData.isScrollingUp){browserData.isScrollingUp=false;return}if(currentHeight<browserData.previousHeight&&browserData.previousHeight-currentHeight==
browserData.threshold){trigger_ad("iosbounce",ca_id,args);if(!closeOnReverse&&!can_show_ad(ca_id,true)){bxPassiveUnbind(window,"resize.bouncex_iosbounce_"+ca_id);bxPassiveUnbind(window,"touchstart.bouncex_iobounce_"+ca_id);bxPassiveUnbind(window,"touchend.bouncex_iosbounce_"+ca_id)}}else if(closeOnReverse&&bouncex.campaigns[ca_id].ad_visible){close_ad(ca_id,true);if(!can_show_ad(ca_id,true)){bxPassiveUnbind(window,"resize.bouncex_iosbounce_"+ca_id);bxPassiveUnbind(window,"touchstart.bouncex_iobounce_"+
ca_id);bxPassiveUnbind(window,"touchend.bouncex_iosbounce_"+ca_id)}}browserData.previousHeight=currentHeight},100)}function setTimeout2(func,delay){if(bouncex.website.fbe&&delay<1){tryCatch(func)();return false}else return setTimeout(tryCatch(func),delay)}function evalCalloutTarget(campaign){campaign.callout_t=parseSiteElementSelector(campaign.callout_t)}
function parseSiteElementSelector(selectorString){if(selectorString&&selectorString.length>0&&selectorString.charAt(0)==="{"){var siteElement=selectorString.substr(1,selectorString.length-2);return bouncex.website.els[siteElement]}return selectorString}function setInterval2(func,delay){return setInterval(tryCatch(func),delay)}
function isMissingTarget(campaign){if(campaign.type!=="annotation"&&campaign.type!=="agilityzone")return false;if(campaign.callout_t&&campaign.callout_t.length>0&&jQuery(campaign.callout_t).length>0)return false;return true}
function loadBounceCss(callback){callback=typeof callback==="function"?callback:function(){};if(!bouncex.css_added){bouncex.addCss('@charset "UTF-8";.bx-client-body,.bxc svg:not(:root){overflow:hidden}.bxc,.bxc button,.bxc select{text-transform:none}.bxc a,.bxc a:active,.bxc a:focus,.bxc a:hover,.bxc.bx-base .bx-close:hover{text-decoration:none}.bxc body{margin:0}.bxc article,.bxc aside,.bxc details,.bxc figcaption,.bxc figure,.bxc footer,.bxc header,.bxc hgroup,.bxc main,.bxc menu,.bxc nav,.bxc section,.bxc summary{display:block}.bxc audio,.bxc canvas,.bxc progress,.bxc video{display:inline-block;vertical-align:baseline}.bxc audio:not([controls]){display:none;height:0}.bxc [hidden],.bxc template{display:none}.bxc a{background-color:transparent}.bxc a:active,.bxc a:hover{outline:0}.bxc abbr[title]{border-bottom:1px dotted}.bxc b,.bxc strong{font-weight:700}.bxc dfn{font-style:italic}.bxc h1{font-size:2em;margin:.67em 0}.bxc mark{background:#ff0;color:#000}.bxc small{font-size:80%}.bxc sub,.bxc sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.bxc sup{top:-.5em}.bxc sub{bottom:-.25em}.bxc img{border:0}.bxc figure{margin:1em 40px}.bxc hr{box-sizing:content-box;height:0}.bxc pre{overflow:auto}.bxc code,.bxc kbd,.bxc pre,.bxc samp{font-family:monospace,monospace;font-size:1em}.bxc button,.bxc input,.bxc optgroup,.bxc select,.bxc textarea{color:inherit;font:inherit;margin:0}.bxc button{overflow:visible}.bxc button,.bxc input[type=button],.bxc input[type=reset],.bxc input[type=submit]{-webkit-appearance:button;cursor:pointer}.bxc button[disabled],.bxc input[disabled]{cursor:default}.bxc button::-moz-focus-inner,.bxc input::-moz-focus-inner{border:0;padding:0}.bxc input{line-height:normal}.bxc input[type=checkbox],.bxc input[type=radio]{box-sizing:border-box;padding:0}.bxc input[type=number]::-webkit-inner-spin-button,.bxc input[type=number]::-webkit-outer-spin-button{height:auto}.bxc input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}.bxc input[type=search]::-webkit-search-cancel-button,.bxc input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.bxc fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.bxc legend{border:0;padding:0}.bxc textarea{overflow:auto}.bx-client-overlay,.bx-client-overlay-ios{overflow:hidden!important}.bxc optgroup{font-weight:700}.bxc table{border-collapse:collapse;border-spacing:0}.bxc td,.bxc th{padding:0}.bxc{/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */-ms-text-size-adjust:auto;-webkit-text-size-adjust:auto;font-family:Helvetica,sans-serif;font-size:0;text-align:center;text-indent:0;text-overflow:clip;text-rendering:optimizeLegibility;text-shadow:none;line-height:1;letter-spacing:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:normal}.bx-blur,.bx-blur-redacted,.bx-blur-textshadow{-moz-user-select:none!important;-webkit-user-select:none!important;-ms-user-select:none!important;cursor:default!important;pointer-events:none!important}.bxc *{box-sizing:border-box}.bxc a{color:inherit;display:inline-block}.bxc a:focus{outline:0}.bxc form,.bxc p{margin:0}.bxc img,.bxc svg{display:inline-block;max-width:100%;height:auto}.bxc button,.bxc input,.bxc select,.bxc textarea{display:block;text-rendering:inherit}.bxc iframe{display:none}.bx-client-overlay-ios{position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;-webkit-overflow-scrolling:touch!important;margin-top:0!important;margin-bottom:0!important;-webkit-transition:none!important;transition:none!important}.bx-client-body{position:fixed;-webkit-overflow-scrolling:touch;width:100%}.bxc.bx-base.bx-type-conversionbar.bx-impress-in .bx-slab,.bxc.bx-base.bx-type-conversionbar.bx-impress-out .bx-slab,.bxc.bx-base.bx-type-liquidscreen.bx-impress-in .bx-slab,.bxc.bx-base.bx-type-liquidscreen.bx-impress-out .bx-slab{overflow:hidden}.bx-blur-redacted{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)"!important;opacity:.2!important}.bx-blur-hide{display:none!important}.bx-blur-textshadow{color:transparent!important;opacity:.4!important}.bx-blur-textshadow *{color:transparent!important;text-shadow:inherit!important}.bx-blur{-webkit-filter:blur(4px)!important;filter:blur(4px)!important;opacity:.6!important}.bxc.bx-base{display:block!important;visibility:hidden}.bxc.bx-base.bx-impress{visibility:visible!important}.bxc.bx-base .bx-matte,.bxc.bx-base .bx-powered,.bxc.bx-base .bx-shroud{display:none;pointer-events:auto}.bxc.bx-base .bx-hover-shroud,.bxc.bx-base .bx-slab{pointer-events:none}.bxc.bx-base .bx-hover-shroud,.bxc.bx-base .bx-shroud{position:fixed;width:100%;height:100%;top:0;left:0}.bxc.bx-base .bx-powered{position:fixed;bottom:10px;left:10px}.bxc.bx-base .bx-align{max-width:100%;max-height:100%;pointer-events:auto}.bxc.bx-base.bx-type-conversionbar.bx-pusher.bx-impress,.bxc.bx-base.bx-type-liquidscreen.bx-pusher.bx-impress,.bxc.bx-base.bx-type-nanobar.bx-pusher.bx-impress{pointer-events:none;visibility:hidden}.bxc.bx-base .bx-creative{position:relative;display:inline-block;max-width:100%;max-height:none;height:auto;-webkit-backface-visibility:hidden;backface-visibility:hidden}.bxc.bx-base .bx-step{display:none}.bxc.bx-base .bx-step.bx-active-step{display:block}.bxc.bx-base.bx-width-full .bx-align,.bxc.bx-base.bx-width-full .bx-creative{width:100%}.bxc.bx-base.bx-width-full .bx-wrap{margin:0 auto}.bxc.bx-base.bx-width-full-content .bx-align,.bxc.bx-base.bx-width-full-content .bx-creative,.bxc.bx-base.bx-width-full-content .bx-wrap{width:100%}.bxc.bx-base.bx-type-agilityzone{display:none!important;clear:both}.bxc.bx-base.bx-type-agilityzone.bx-impress{display:block!important}.bxc.bx-base.bx-type-agilityzone.bx-hover-shroud-on .bx-creative{z-index:2147483643}.bxc.bx-base.bx-type-agilityzone .bx-hover-shroud{z-index:2147483642}.bxc.bx-base.bx-type-agilityzone .bx-close{z-index:auto}.bxc.bx-base.bx-type-annotation .bx-align{position:relative;z-index:2147483643}.bxc.bx-base.bx-type-annotation .bx-hover-shroud{z-index:2147483642}.bxc.bx-base.bx-type-annotation .bx-creative{position:absolute;bottom:0;left:50%;max-width:none}.bxc.bx-base.bx-type-annotation.bx-annotation-cm .bx-creative{-webkit-transform:translate(-50%,50%);-ms-transform:translate(-50%,50%);transform:translate(-50%,50%)}.bxc.bx-base.bx-type-annotation.bx-annotation-ct .bx-creative{-webkit-transform:translate(-50%,0);-ms-transform:translate(-50%,0);transform:translate(-50%,0)}.bxc.bx-base.bx-type-annotation.bx-annotation-rt .bx-creative{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}.bxc.bx-base.bx-type-annotation.bx-annotation-rm .bx-creative{-webkit-transform:translate(0,50%);-ms-transform:translate(0,50%);transform:translate(0,50%)}.bxc.bx-base.bx-type-annotation.bx-annotation-rb .bx-creative{-webkit-transform:translate(0,100%);-ms-transform:translate(0,100%);transform:translate(0,100%)}.bxc.bx-base.bx-type-annotation.bx-annotation-cb .bx-creative{-webkit-transform:translate(-50%,100%);-ms-transform:translate(-50%,100%);transform:translate(-50%,100%)}.bxc.bx-base.bx-type-annotation.bx-annotation-lb .bx-creative{-webkit-transform:translate(-100%,100%);-ms-transform:translate(-100%,100%);transform:translate(-100%,100%)}.bxc.bx-base.bx-type-annotation.bx-annotation-lm .bx-creative{-webkit-transform:translate(-100%,50%);-ms-transform:translate(-100%,50%);transform:translate(-100%,50%)}.bxc.bx-base.bx-type-annotation.bx-annotation-lt .bx-creative{-webkit-transform:translate(-100%,0);-ms-transform:translate(-100%,0);transform:translate(-100%,0)}.bxc.bx-base.bx-type-conversionbar.bx-pusher.bx-impress .bx-slab{visibility:hidden;position:relative;height:auto}.bxc.bx-base.bx-type-conversionbar.bx-pusher.bx-impress .bx-align{position:relative}.bxc.bx-base.bx-type-conversionbar .bx-slab{position:fixed;bottom:0;left:0;z-index:2147483643;height:100%;height:100vh;width:100%;text-align:center;overflow-x:hidden}.bxc.bx-base.bx-type-conversionbar .bx-hover-shroud{z-index:2147483642}.bxc.bx-base.bx-type-conversionbar .bx-align{position:absolute;bottom:0;width:100%}.bxc.bx-base.bx-type-nanobar.bx-pusher.bx-impress .bx-slab{visibility:hidden;position:relative}.bxc.bx-base.bx-type-nanobar.bx-pusher.bx-impress .bx-align{position:relative}.bxc.bx-base.bx-type-nanobar .bx-slab{position:fixed;top:0;left:0;z-index:2147483643;height:100%;width:100%;text-align:center;overflow-x:hidden}.bxc.bx-base.bx-type-nanobar .bx-hover-shroud{z-index:2147483642}.bxc.bx-base.bx-type-nanobar .bx-align{position:absolute;top:0;width:100%}.bxc.bx-base.bx-type-liquidscreen{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.bxc.bx-base.bx-type-liquidscreen.bx-pusher.bx-impress .bx-slab{visibility:hidden;position:relative}.bxc.bx-base.bx-type-liquidscreen .bx-slab{position:absolute;top:0;left:0;z-index:2147483637;width:100%;overflow-x:hidden}.bxc.bx-base.bx-type-liquidscreen .bx-creative{width:100%}.bxc.bx-base.bx-type-liquidscreen .bx-creative:before{min-height:100vh}.bxc.bx-base.bx-type-conversioncorner .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper .bx-align,.bxc.bx-base.bx-type-nanotab .bx-align,.bxc.bx-base.bx-type-railbar .bx-align{display:inline-block}.bxc.bx-base.bx-type-conversioncorner .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper .bx-slab,.bxc.bx-base.bx-type-nanotab .bx-slab,.bxc.bx-base.bx-type-railbar .bx-slab{position:fixed;left:0;z-index:2147483642;width:100%;height:100%;text-align:left}.bxc.bx-base.bx-type-conversioncorner .bx-slab:before,.bxc.bx-base.bx-type-dynamicwallpaper .bx-slab:before,.bxc.bx-base.bx-type-nanotab .bx-slab:before,.bxc.bx-base.bx-type-railbar .bx-slab:before{content:"";display:inline-block;width:0;height:100%;vertical-align:middle}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-ct .bx-align,.bxc.bx-base.bx-type-conversioncorner.bx-fixed-lt .bx-align,.bxc.bx-base.bx-type-conversioncorner.bx-fixed-rt .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-ct .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-lt .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-rt .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-ct .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-lt .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-rt .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-ct .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-lt .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-rt .bx-align{vertical-align:top}.bxc.bx-base.bx-type-conversioncorner .bx-hover-shroud,.bxc.bx-base.bx-type-dynamicwallpaper .bx-hover-shroud,.bxc.bx-base.bx-type-nanotab .bx-hover-shroud,.bxc.bx-base.bx-type-railbar .bx-hover-shroud{z-index:2147483641}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-lt .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-lt .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-lt .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-lt .bx-slab{top:0;text-align:left}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-ct .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-ct .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-ct .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-ct .bx-slab{top:0;text-align:center}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-rt .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-rt .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-rt .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-rt .bx-slab{top:0;text-align:right}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-cm .bx-align,.bxc.bx-base.bx-type-conversioncorner.bx-fixed-lm .bx-align,.bxc.bx-base.bx-type-conversioncorner.bx-fixed-rm .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-cm .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-lm .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-rm .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-cm .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-lm .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-rm .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-cm .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-lm .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-rm .bx-align{vertical-align:middle}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-lm .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-lm .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-lm .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-lm .bx-slab{top:0;text-align:left}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-cm .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-cm .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-cm .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-cm .bx-slab{top:0;text-align:center}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-rm .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-rm .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-rm .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-rm .bx-slab{top:0;text-align:right}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-cb .bx-align,.bxc.bx-base.bx-type-conversioncorner.bx-fixed-lb .bx-align,.bxc.bx-base.bx-type-conversioncorner.bx-fixed-rb .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-cb .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-lb .bx-align,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-rb .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-cb .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-lb .bx-align,.bxc.bx-base.bx-type-nanotab.bx-fixed-rb .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-cb .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-lb .bx-align,.bxc.bx-base.bx-type-railbar.bx-fixed-rb .bx-align{vertical-align:bottom}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-lb .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-lb .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-lb .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-lb .bx-slab{bottom:0;height:100vh;text-align:left}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-cb .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-cb .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-cb .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-cb .bx-slab{bottom:0;height:100vh;text-align:center}.bxc.bx-base.bx-type-conversioncorner.bx-fixed-rb .bx-slab,.bxc.bx-base.bx-type-dynamicwallpaper.bx-fixed-rb .bx-slab,.bxc.bx-base.bx-type-nanotab.bx-fixed-rb .bx-slab,.bxc.bx-base.bx-type-railbar.bx-fixed-rb .bx-slab{bottom:0;height:100vh;text-align:right}.bxc.bx-base.bx-type-dynamicwallpaper .bx-align,.bxc.bx-base.bx-type-nanotab .bx-align,.bxc.bx-base.bx-type-railbar .bx-align{vertical-align:middle}.bxc.bx-base.bx-type-conversioncorner .bx-align{vertical-align:bottom}.bxc.bx-base.bx-type-dynamicwallpaper .bx-slab{z-index:2147483643}.bxc.bx-base.bx-type-dynamicwallpaper .bx-shroud{opacity:0;z-index:2147483642}.bxc.bx-base.bx-type-dynamicwallpaper.bx-impress .bx-shroud{display:block}.bxc.bx-base.bx-type-overlay .bx-slab{position:fixed;top:0;right:0;left:0;z-index:2147483645;height:100%;overflow-x:hidden;overflow-y:auto;text-align:center;pointer-events:auto}.bx-client-overlay-ios .bxc.bx-base.bx-type-overlay .bx-slab{position:absolute}.bxc.bx-base.bx-type-overlay .bx-slab:before{content:"";display:inline-block;width:0;height:100%;vertical-align:middle;margin-right:-.25em}.bxc.bx-base.bx-type-overlay.bx-impress-in .bx-slab,.bxc.bx-base.bx-type-overlay.bx-impress-out .bx-slab{overflow:hidden}.bxc.bx-base.bx-type-overlay .bx-shroud{z-index:2147483644}.bx-client-overlay-ios .bxc.bx-base.bx-type-overlay .bx-shroud{position:absolute;bottom:0;height:100vh}.bxc.bx-base.bx-type-overlay .bx-powered{z-index:2147483646}.bxc.bx-base.bx-type-overlay .bx-align{display:inline-block;vertical-align:middle;padding:6px}.bxc.bx-base.bx-type-overlay .bx-creative{z-index:2147483645}.bxc.bx-base.bx-type-overlay .bx-creative:before{min-height:300px}.bxc.bx-base.bx-type-overlay.bx-impress .bx-powered,.bxc.bx-base.bx-type-overlay.bx-impress .bx-shroud{display:block}@-webkit-keyframes bx-fx-checked-bounce{0%,100%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(.8);transform:scale(.8)}}@keyframes bx-fx-checked-bounce{0%,100%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(.8);transform:scale(.8)}}@-webkit-keyframes bx-fx-invalid-shake{0%,100%{-webkit-transform:translateX(0);transform:translateX(0)}12.5%{-webkit-transform:translateX(-6px) rotateY(-5deg);transform:translateX(-6px) rotateY(-5deg)}37.5%{-webkit-transform:translateX(5px) rotateY(4deg);transform:translateX(5px) rotateY(4deg)}62.5%{-webkit-transform:translateX(-3px) rotateY(-2deg);transform:translateX(-3px) rotateY(-2deg)}87.5%{-webkit-transform:translateX(2px) rotateY(1deg);transform:translateX(2px) rotateY(1deg)}}@keyframes bx-fx-invalid-shake{0%,100%{-webkit-transform:translateX(0);transform:translateX(0)}12.5%{-webkit-transform:translateX(-6px) rotateY(-5deg);transform:translateX(-6px) rotateY(-5deg)}37.5%{-webkit-transform:translateX(5px) rotateY(4deg);transform:translateX(5px) rotateY(4deg)}62.5%{-webkit-transform:translateX(-3px) rotateY(-2deg);transform:translateX(-3px) rotateY(-2deg)}87.5%{-webkit-transform:translateX(2px) rotateY(1deg);transform:translateX(2px) rotateY(1deg)}}.bxc.bx-base.bx-fx-invalid-shake .bx-slab{-webkit-perspective:1800px;perspective:1800px}.bxc.bx-base.bx-fx-invalid-shake .bx-align{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.bxc.bx-base.bx-impress.bx-fx-invalid-shake .bx-align{-webkit-animation:bx-fx-invalid-shake .4s ease-in-out;animation:bx-fx-invalid-shake .4s ease-in-out}@-webkit-keyframes bx-fx-fade{0%{opacity:0}100%{opacity:1}}@keyframes bx-fx-fade{0%{opacity:0}100%{opacity:1}}.bxc.bx-base.bx-fx-fade.bx-impress-in .bx-creative{-webkit-animation:bx-fx-fade 1s ease;animation:bx-fx-fade 1s ease}.bxc.bx-base.bx-fx-fade.bx-impress-out .bx-creative{-webkit-animation:bx-fx-fade 1s ease reverse;animation:bx-fx-fade 1s ease reverse}.bxc.bx-base .bx-shroud{background-color:#000;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";opacity:.75}.bxc.bx-base .bx-hover-shroud{background-color:#000;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;-webkit-transition:.4s opacity ease-in-out;transition:.4s opacity ease-in-out}.bxc.bx-base.bx-hover-shroud-on .bx-hover-shroud{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";opacity:.7}.bxc.bx-base .bx-creative{margin:0 auto;text-align:center;background-color:#fff;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.bxc.bx-base .bx-creative:before{content:"";display:inline-block;width:0;vertical-align:middle}.bxc.bx-base .bx-step,.bxc.bx-base .bx-wrap,.bxc.bx-base form{text-align:inherit}.bxc.bx-base .bx-wrap{display:inline-block;vertical-align:middle;margin:0 auto;width:650px;padding:10px}@media only screen{.bxc.bx-base .bx-wrap{max-width:100%}}.bxc.bx-base .bx-group,.bxc.bx-base .bx-row{display:inline-block;width:100%;vertical-align:middle}.bxc.bx-base .bx-row>.bx-el,.bxc.bx-base .bx-row>:first-child{float:none;height:auto;background-position:50% 50%;background-repeat:no-repeat;background-size:cover}.bxc.bx-base .bx-row-html{font-size:16px}.bxc.bx-base .bx-row-html iframe{display:block}.bxc.bx-base .bx-row-image{line-height:0}.bxc.bx-base .bx-row-image img{width:100%}.bxc.bx-base .bx-row-text{color:#a1a1a1;font-size:14px;cursor:default;line-height:0}.bxc.bx-base .bx-row-text>*{line-height:1}.bxc.bx-base .bx-row-text a{color:inherit;display:inline-block}.bxc.bx-base .bx-row-line .bx-lineshape{height:1px;background-color:#a1a1a1}.bxc.bx-base .bx-row-select{position:relative;border:0 transparent;font-size:14px;border-radius:0;box-shadow:none;outline:0}.bxc.bx-base .bx-row-select .bx-select{position:relative;display:inline-block;width:100%;padding:1.5em;border:1px solid #c4c4c4;color:#a0a0a0;background-color:#fff}.bxc.bx-base .bx-row-select .bx-select:before{content:"\\00a0"}.bxc.bx-base .bx-row-select .bx-select:after{content:"\u25c4\u25ba";position:absolute;top:53%;right:15px;font-size:8px;letter-spacing:2px;color:#bdbdbd;font-family:Arial;-webkit-transform:translateY(-50%) rotate(90deg);-ms-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg);pointer-events:none}.bxc.bx-base .bx-row-select .bx-select:active,.bxc.bx-base .bx-row-select .bx-select:focus{border:1px solid #91c7ed;color:#464545;background-color:#e6f5ff;outline:0}.bxc.bx-base .bx-row-select .bx-selectelem{position:absolute;top:0;right:0;bottom:0;left:0;outline:0;margin:0;width:100%;border-radius:0;border:0;padding:inherit;background-color:transparent;color:inherit;font-weight:inherit;text-transform:inherit;letter-spacing:inherit;cursor:context-menu;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none}.bxc.bx-base .bx-row-select .bx-selectelem::-ms-expand{display:none}.bxc.bx-base .bx-row-select option{color:initial;font-weight:initial;font-family:initial}.bxc.bx-base .bx-row-timer{color:#a0a0a0;font-size:24px;font-weight:100;cursor:default}.bxc.bx-base .bx-row-timer .bx-row-timer-digits{color:#a1a1a1}.bxc.bx-base .bx-row-coupon{color:#a0a0a0;font-size:24px;font-weight:100;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.bxc.bx-base .bx-row-radio .bx-label{display:inline-block;cursor:pointer;position:relative;padding:0;color:#a1a1a1;font-size:14px}.bxc.bx-base .bx-row-radio .bx-labeltext{vertical-align:middle}.bxc.bx-base .bx-row-radio .bx-radioelem{position:absolute;left:0;width:1px;height:1px;overflow:hidden;opacity:0}.bxc.bx-base .bx-row-radio .bx-radioelem+.bx-radioshape{border-radius:50%;display:inline-block;vertical-align:middle;margin-right:6px;background-color:#dedede;box-shadow:inset 0 1px 3px 0 rgba(0,0,0,.2),0 1px 0 0 rgba(255,255,255,.3);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);width:18px;height:18px}.bxc.bx-base .bx-row-radio .bx-radioelem:checked+.bx-radioshape{fill:#f3f3f3;background-color:#3A98FB;text-shadow:0 0 1px rgba(0,0,0,.2);-webkit-animation:bx-fx-checked-bounce .3s;animation:bx-fx-checked-bounce .3s}.bxc.bx-base .bx-row-radio .bx-radioelem:focus+.bx-radioshape{box-shadow:0 0 0 2px #91c7ed}.bxc.bx-base .bx-row-radio .bx-radioelem+.bx-radioshape .bx-radio-svg{display:none}.bxc.bx-base .bx-row-radio .bx-radioelem:checked+.bx-radioshape .bx-radio-svg{display:block}.bxc.bx-base .bx-row-radio.bx-radiosize-lrg .bx-radioelem+.bx-radioshape{width:24px;height:24px}.bxc.bx-base .bx-row-radio.bx-radiosize-lrgr .bx-radioelem+.bx-radioshape{width:36px;height:36px}.bxc.bx-base .bx-row-checkbox .bx-label{display:inline-block;cursor:pointer;position:relative;padding:0;color:#a1a1a1;font-size:14px}.bxc.bx-base .bx-row-checkbox .bx-labeltext{vertical-align:middle}.bxc.bx-base .bx-row-checkbox .bx-checkelem{position:absolute;left:0;width:1px;height:1px;overflow:hidden;opacity:0}.bxc.bx-base .bx-row-checkbox .bx-checkelem+.bx-checkshape{border-radius:3px;display:inline-block;vertical-align:middle;background-color:#dedede;box-shadow:inset 0 1px 3px 0 rgba(0,0,0,.2),0 1px 0 0 rgba(255,255,255,.3);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);width:18px;height:18px;margin-right:6px}.bxc.bx-base .bx-close:focus,.bxc.bx-base .bx-row-checkbox .bx-checkelem:focus+.bx-checkshape{box-shadow:0 0 0 2px #91c7ed}.bxc.bx-base .bx-row-checkbox .bx-checkelem:checked+.bx-checkshape{stroke:#f3f3f3;background-color:#3A98FB;text-shadow:0 0 1px rgba(0,0,0,.2);-webkit-animation:bx-fx-checked-bounce .25s;animation:bx-fx-checked-bounce .25s}.bxc.bx-base .bx-row-checkbox .bx-checkelem+.bx-checkshape .bx-check-svg{display:none;fill:none;stroke-width:3}.bxc.bx-base .bx-row-checkbox .bx-checkelem:checked+.bx-checkshape .bx-check-svg{display:block}.bxc.bx-base .bx-row-checkbox.bx-checksize-lrg .bx-checkelem+.bx-checkshape{width:24px;height:24px}.bxc.bx-base .bx-row-checkbox.bx-checksize-lrgr .bx-checkelem+.bx-checkshape{width:36px;height:36px}.bxc.bx-base .bx-row-checkbox.bx-check-round .bx-checkelem+.bx-checkshape .bx-check-svg{stroke-width:3;stroke-linecap:round;stroke-linejoin:round}.bxc.bx-base .bx-row-checkbox.bx-check-sharp .bx-checkelem+.bx-checkshape .bx-check-svg{stroke:none;fill:#fff}.bxc.bx-base .bx-row-submit .bx-button{width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;text-align:center;cursor:pointer;background-color:#666;border:none;font-size:20px;border-radius:0;color:#fff;padding:1em}.bxc.bx-base .bx-row-submit .bx-button:hover{outline:0}.bxc.bx-base .bx-row-submit .bx-button:focus{outline:1px}.bxc.bx-base .bx-row-submit .bx-button:active{outline:0;top:1px}.bxc.bx-base .bx-row-input [type=""],.bxc.bx-base .bx-row-input [type=color],.bxc.bx-base .bx-row-input [type=date],.bxc.bx-base .bx-row-input [type=datetime-local],.bxc.bx-base .bx-row-input [type=datetime],.bxc.bx-base .bx-row-input [type=email],.bxc.bx-base .bx-row-input [type=month],.bxc.bx-base .bx-row-input [type=number],.bxc.bx-base .bx-row-input [type=password],.bxc.bx-base .bx-row-input [type=search],.bxc.bx-base .bx-row-input [type=tel],.bxc.bx-base .bx-row-input [type=text],.bxc.bx-base .bx-row-input [type=time],.bxc.bx-base .bx-row-input [type=url],.bxc.bx-base .bx-row-input [type=week],.bxc.bx-base .bx-row-textarea .bx-textarea{width:100%;height:auto;font-size:14px;text-align:left;border-radius:0;outline:0;box-shadow:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #c4c4c4;color:#a0a0a0;background-color:#fff;padding:1.5em;background-position:10px 50%;background-repeat:no-repeat;background-size:auto;-ms-transition:none!important;-webkit-transition:padding .07s ease-in-out;transition:padding .07s ease-in-out}.bxc.bx-base .bx-row-input [type=""]::-ms-clear,.bxc.bx-base .bx-row-input [type=color]::-ms-clear,.bxc.bx-base .bx-row-input [type=date]::-ms-clear,.bxc.bx-base .bx-row-input [type=datetime-local]::-ms-clear,.bxc.bx-base .bx-row-input [type=datetime]::-ms-clear,.bxc.bx-base .bx-row-input [type=email]::-ms-clear,.bxc.bx-base .bx-row-input [type=month]::-ms-clear,.bxc.bx-base .bx-row-input [type=number]::-ms-clear,.bxc.bx-base .bx-row-input [type=password]::-ms-clear,.bxc.bx-base .bx-row-input [type=search]::-ms-clear,.bxc.bx-base .bx-row-input [type=tel]::-ms-clear,.bxc.bx-base .bx-row-input [type=text]::-ms-clear,.bxc.bx-base .bx-row-input [type=time]::-ms-clear,.bxc.bx-base .bx-row-input [type=url]::-ms-clear,.bxc.bx-base .bx-row-input [type=week]::-ms-clear,.bxc.bx-base .bx-row-textarea .bx-textarea::-ms-clear{width:0;height:0}.bxc.bx-base .bx-row-input [type=""]:hover,.bxc.bx-base .bx-row-input [type=color]:hover,.bxc.bx-base .bx-row-input [type=date]:hover,.bxc.bx-base .bx-row-input [type=datetime-local]:hover,.bxc.bx-base .bx-row-input [type=datetime]:hover,.bxc.bx-base .bx-row-input [type=email]:hover,.bxc.bx-base .bx-row-input [type=month]:hover,.bxc.bx-base .bx-row-input [type=number]:hover,.bxc.bx-base .bx-row-input [type=password]:hover,.bxc.bx-base .bx-row-input [type=search]:hover,.bxc.bx-base .bx-row-input [type=tel]:hover,.bxc.bx-base .bx-row-input [type=text]:hover,.bxc.bx-base .bx-row-input [type=time]:hover,.bxc.bx-base .bx-row-input [type=url]:hover,.bxc.bx-base .bx-row-input [type=week]:hover,.bxc.bx-base .bx-row-textarea .bx-textarea:hover{cursor:auto}.bxc.bx-base .bx-row-input [type=""]:focus,.bxc.bx-base .bx-row-input [type=color]:focus,.bxc.bx-base .bx-row-input [type=date]:focus,.bxc.bx-base .bx-row-input [type=datetime-local]:focus,.bxc.bx-base .bx-row-input [type=datetime]:focus,.bxc.bx-base .bx-row-input [type=email]:focus,.bxc.bx-base .bx-row-input [type=month]:focus,.bxc.bx-base .bx-row-input [type=number]:focus,.bxc.bx-base .bx-row-input [type=password]:focus,.bxc.bx-base .bx-row-input [type=search]:focus,.bxc.bx-base .bx-row-input [type=tel]:focus,.bxc.bx-base .bx-row-input [type=text]:focus,.bxc.bx-base .bx-row-input [type=time]:focus,.bxc.bx-base .bx-row-input [type=url]:focus,.bxc.bx-base .bx-row-input [type=week]:focus,.bxc.bx-base .bx-row-textarea .bx-textarea:focus{border-color:#91c7ed;background-color:#e6f5ff;color:#464545;outline:0}.bxc.bx-base .bx-inputwrap{position:relative}.bxc.bx-base .bx-inputwrap .bx-placeholder{position:absolute;top:7px;right:22px;left:22px;z-index:1;display:block;line-height:normal;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;pointer-events:none;-ms-transition:none!important;-webkit-transition:opacity .1s ease-out;transition:opacity .1s ease-out}.bxc.bx-base .bx-inputwrap .bx-placeholdertext{display:block;color:#a0a0a0;font-size:10px;line-height:normal;text-align:left}.bxc.bx-base .bx-vbox,.bxc.bx-base .bx-vtext{display:none;font-size:10px;text-align:left;line-height:1.35;position:absolute;z-index:3}.bxc.bx-base .bx-row.bx-has-focus .bx-placeholdertext{color:#91c7ed}.bxc.bx-base .bx-row-placeholder-top.bx-has-text .bx-placeholder{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)";opacity:1}.bxc.bx-base .bx-row-placeholder-top.bx-has-text .bx-input,.bxc.bx-base .bx-row-placeholder-top.bx-has-text .bx-textarea{padding-top:2em;padding-bottom:1em}.bxc.bx-base .bx-vtext{padding:4px;padding-bottom:inherit;bottom:0;pointer-events:none;text-transform:none;font-style:normal;font-weight:400;letter-spacing:normal;font-family:Helvetica,Arial,sans-serif}#bcx_power a,#bcx_power a span,.bxc.bx-base .bx-powered{font-family:\'Segoe UI\',\'Open Sans\',\'Helvetica Neue\',Helvetica,Arial}.bxc.bx-base .bx-vbox{padding:4px;margin-top:-4px;margin-right:-4px;margin-left:-4px;color:#e9a6a6;border:1px solid #e9a6a6;background:#faebeb}.bxc.bx-base .bx-row-validation .bx-vbox,.bxc.bx-base .bx-row-validation .bx-vtext,.bxc.bx-base .bx-row-validation.bx-row-checkbox .bx-vtext,.bxc.bx-base .bx-row-validation.bx-row-radio .bx-vtext{display:block}.bxc.bx-base .bx-row-validation{position:relative}.bxc.bx-base .bx-row-validation .bx-select,.bxc.bx-base .bx-row-validation .bx-textarea,.bxc.bx-base .bx-row-validation [type=""],.bxc.bx-base .bx-row-validation [type=color],.bxc.bx-base .bx-row-validation [type=date],.bxc.bx-base .bx-row-validation [type=datetime-local],.bxc.bx-base .bx-row-validation [type=datetime],.bxc.bx-base .bx-row-validation [type=email],.bxc.bx-base .bx-row-validation [type=month],.bxc.bx-base .bx-row-validation [type=number],.bxc.bx-base .bx-row-validation [type=password],.bxc.bx-base .bx-row-validation [type=search],.bxc.bx-base .bx-row-validation [type=tel],.bxc.bx-base .bx-row-validation [type=text],.bxc.bx-base .bx-row-validation [type=time],.bxc.bx-base .bx-row-validation [type=url],.bxc.bx-base .bx-row-validation [type=week]{border-color:#e9a6a6;background-color:#faebeb;color:#a0a0a0}.bxc.bx-base .bx-row-validation .bx-vtext{color:#E46161}.bxc.bx-base .bx-row-validation.bx-has-focus .bx-vtext{color:#91c7ed}.bxc.bx-base .bx-row-video{width:100%;height:100%}.bxc.bx-base .bx-row-video .bx-video-wrapper{position:relative;width:100%;padding-top:75%;background-color:#666}.bxc.bx-base .bx-row-video .bx-video-wrapper.bx-video-wrapper-has-focus .bx-video-controls,.bxc.bx-base .bx-row-video .bx-video-wrapper:hover .bx-video-controls{opacity:1}.bxc.bx-base .bx-row-video video{position:absolute;top:0;left:0;width:100%;height:100%}.bxc.bx-base .bx-row-video .bx-video-controls{position:absolute;bottom:-1px;left:0;width:100%;height:44px;opacity:0;-webkit-transition:.15s opacity ease-in-out;transition:.15s opacity ease-in-out;background-image:linear-gradient(-180deg,transparent 0,#000 100%)}.bxc.bx-base .bx-row-video .bx-video-progress-wrapper{position:absolute;top:3px;left:43px;line-height:38px;color:#fff;font-size:12px;cursor:default}.bxc.bx-base .bx-row-video .bx-video-btn{position:absolute;top:3px;width:38px;height:38px;padding:5px;border:none;background-color:transparent;fill:#fff}.bxc.bx-base .bx-row-video .bx-video-btn:focus{outline:0}.bxc.bx-base .bx-row-video .bx-video-btn:hover{background-image:radial-gradient(circle at center,rgba(255,255,255,.3) 0,transparent 70%)}.bxc.bx-base .bx-row-video .bx-video-btn-playpause{left:3px}.bxc.bx-base .bx-row-video .bx-video-btn-mute{right:3px}.bxc.bx-base .bx-row-video .bx-video-btn-mute-shape,.bxc.bx-base .bx-row-video .bx-video-btn-pause-shape,.bxc.bx-base .bx-row-video .bx-video-btn-play-shape,.bxc.bx-base .bx-row-video .bx-video-btn-unmute-shape{-webkit-transition:.15s -webkit-transform ease-in-out,.15s opacity ease-in-out;transition:.15s transform ease-in-out,.15s opacity ease-in-out;-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center}.bxc.bx-base .bx-row-video .bx-video-btn-play-shape{opacity:0;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.bxc.bx-base .bx-row-video .bx-video-btn-pause-shape,.bxc.bx-base .bx-row-video .bx-video-player-paused .bx-video-btn-play-shape{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.bxc.bx-base .bx-row-video .bx-video-btn-mute-shape,.bxc.bx-base .bx-row-video .bx-video-player-paused .bx-video-btn-pause-shape{opacity:0;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.bxc.bx-base .bx-row-video .bx-video-btn-unmute-shape,.bxc.bx-base .bx-row-video .bx-video-player-unmuted .bx-video-btn-mute-shape{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.bxc.bx-base .bx-row-video .bx-video-player-unmuted .bx-video-btn-unmute-shape{opacity:0;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.bxc.bx-base .bx-carb-trap.bx-input{opacity:0;width:0;height:0;padding:0;border:0;overflow:hidden}.bxc.bx-base .bx-gbi-frame{display:none}.bxc.bx-base.bx-impress .bx-gbi-frame{display:block}.bxc.bx-base .bx-close{z-index:2147483647;text-align:center;vertical-align:middle;display:none;position:absolute;cursor:pointer;top:12px;right:12px;width:26px;height:26px;border-width:0;border-radius:50%;padding:2px;background-color:transparent;background-position:50% 50%;background-repeat:no-repeat;background-size:cover;stroke-width:2px;stroke:#b3b3b3;stroke-linejoin:miter;stroke-miterlimit:10;stroke-linecap:butt}.bxc.bx-base .bx-close.bx-close-outside{position:fixed}.bxc.bx-base.bx-has-close-inside .bx-close.bx-close-inside,.bxc.bx-base.bx-has-close-outside .bx-close.bx-close-outside{display:block}.bxc.bx-base .bx-close .bx-close-xsvg{display:block;stroke:inherit;stroke-width:inherit;stroke-opacity:inherit;stroke-miterlimit:inherit;stroke-linecap:inherit;stroke-linejoin:inherit;stroke-dasharray:inherit;stroke-dashoffset:inherit}.bxc.bx-base .bx-powered{color:#fff;font-size:13px}.bxc.bx-base .bx-powered a{text-decoration:none;text-transform:none}.bxc.bx-base .bx-powered a span{text-decoration:underline}.bxc.bx-base .bx-tail{position:absolute;display:block;width:30px;height:30px;fill:#fff}.bxc.bx-base .bx-tail-placement- .bx-tail,.bxc.bx-base .bx-tail-placement-none .bx-tail,.bxc.bx-base .bx-tail-placement-off .bx-tail{display:none}.bxc.bx-base .bx-tail-placement-top .bx-tail{top:0;left:50%;-webkit-transform:translate(-50%,-100%) rotate(180deg);-ms-transform:translate(-50%,-100%) rotate(180deg);transform:translate(-50%,-100%) rotate(180deg)}.bxc.bx-base .bx-tail-placement-right .bx-tail{top:50%;right:0;-webkit-transform:translate(100%,-50%) rotate(270deg);-ms-transform:translate(100%,-50%) rotate(270deg);transform:translate(100%,-50%) rotate(270deg)}.bxc.bx-base .bx-tail-placement-bottom .bx-tail{bottom:0;left:50%;-webkit-transform:translate(-50%,100%);-ms-transform:translate(-50%,100%);transform:translate(-50%,100%)}.bxc.bx-base .bx-tail-placement-left .bx-tail{top:50%;left:0;-webkit-transform:translate(-100%,-50%) rotate(90deg);-ms-transform:translate(-100%,-50%) rotate(90deg);transform:translate(-100%,-50%) rotate(90deg)}.bxc.bx-base .bx-tail-placement-topright .bx-tail{top:0;right:0;-webkit-transform:translate(50%,-50%) rotate(225deg);-ms-transform:translate(50%,-50%) rotate(225deg);transform:translate(50%,-50%) rotate(225deg)}.bxc.bx-base .bx-tail-placement-bottomright .bx-tail{top:100%;right:0;-webkit-transform:translate(50%,-50%) rotate(315deg);-ms-transform:translate(50%,-50%) rotate(315deg);transform:translate(50%,-50%) rotate(315deg)}.bxc.bx-base .bx-tail-placement-bottomleft .bx-tail{top:100%;left:0;-webkit-transform:translate(-50%,-50%) rotate(45deg);-ms-transform:translate(-50%,-50%) rotate(45deg);transform:translate(-50%,-50%) rotate(45deg)}.bxc.bx-base .bx-tail-placement-topleft .bx-tail{top:0;left:0;-webkit-transform:translate(-50%,-50%) rotate(135deg);-ms-transform:translate(-50%,-50%) rotate(135deg);transform:translate(-50%,-50%) rotate(135deg)}.bxc.bx-base .bx-ally-label,.bxc.bx-base .bx-ally-tab-decoy,.bxc.bx-base .bx-ally-title{width:1px;height:1px;padding:0;border:0;overflow:hidden;opacity:0;position:fixed;z-index:-1}.bcx_middle_fix,.bxc.bx-base .bx-ally-label{position:absolute}.bxc.bx-ally .bx-close:focus,.bxc.bx-ally .bx-row-checkbox .bx-checkelem:focus+.bx-checkshape,.bxc.bx-ally .bx-row-radio .bx-radioelem:focus+.bx-radioshape{box-shadow:none}.bxc.bx-ally .bx-row-checkbox .bx-checkelem:focus+.bx-checkshape,.bxc.bx-ally .bx-row-input [type=""]:focus,.bxc.bx-ally .bx-row-input [type=color]:focus,.bxc.bx-ally .bx-row-input [type=date]:focus,.bxc.bx-ally .bx-row-input [type=datetime-local]:focus,.bxc.bx-ally .bx-row-input [type=datetime]:focus,.bxc.bx-ally .bx-row-input [type=email]:focus,.bxc.bx-ally .bx-row-input [type=month]:focus,.bxc.bx-ally .bx-row-input [type=number]:focus,.bxc.bx-ally .bx-row-input [type=password]:focus,.bxc.bx-ally .bx-row-input [type=search]:focus,.bxc.bx-ally .bx-row-input [type=tel]:focus,.bxc.bx-ally .bx-row-input [type=text]:focus,.bxc.bx-ally .bx-row-input [type=time]:focus,.bxc.bx-ally .bx-row-input [type=url]:focus,.bxc.bx-ally .bx-row-input [type=week]:focus,.bxc.bx-ally .bx-row-radio .bx-radioelem:focus+.bx-radioshape,.bxc.bx-ally .bx-row-select .bx-selectelem:focus,.bxc.bx-ally .bx-row-submit .bx-button:focus,.bxc.bx-ally .bx-row-textarea .bx-textarea:focus,.bxc.bx-ally .bx-row-video .bx-video-btn:focus,.bxc.bx-ally a:focus,.bxc.bx-ally button:focus,.bxc.bx-ally form:focus{outline:#91c7ed solid 3px}.bcx_container.bcx_overlay{top:0;left:0;overflow:hidden;width:100%;height:100%;z-index:2147483645}.bcx_middle_fix{top:0;left:0;width:100%;height:100%}.bouncex_lightbox{width:100%;height:100%;opacity:0;-webkit-transition:all .4s;-moz-transition:all .4s;transition:all .4s}.bcx_container.bcx_overlay,.bouncex_header_bottom,.bouncex_header_top{position:fixed;filter:inherit}.bouncex_header_bottom,.bouncex_header_top{width:100%;z-index:2147483644}#bcx_power{position:absolute;bottom:20px;left:20px;z-index:2147483646;color:#fff!important}#bcx_power a,#bcx_power a span{color:#fff!important;font-size:15px;text-decoration:none}#bcx_power a span{text-decoration:underline}.bouncex_header_top{top:0}.bouncex_header_bottom,.bouncex_header_top{left:0}.bouncex_header_bottom.bcx_middle,.bouncex_header_top.bcx_middle{top:50%}.bouncex_header_bottom.right,.bouncex_header_top.right{right:0;left:auto}.bouncex_header_bottom.bcx_center .bcx_inner,.bouncex_header_bottom.center .bcx_inner,.bouncex_header_top.bcx_center .bcx_inner,.bouncex_header_top.center .bcx_inner{margin:0 auto}.bouncex_header_bottom.left_content,.bouncex_header_bottom.right_content,.bouncex_header_top.left_content,.bouncex_header_top.right_content{left:50%;right:auto}.bouncex_middle{position:absolute;top:50%;left:50%;z-index:2147483645}.bcx_callout{position:absolute;z-index:2147483643}.bouncex_header_bottom{bottom:0}a.bouncex_close{width:34px;height:34px;display:block;position:absolute;right:0;top:0;z-index:2147483647;background:url(https://assets.bounceexchange.com/assets/global/images/close.png) no-repeat}a.bouncex_close span{font-size:0;visibility:hidden;color:transparent}.bouncex_close{margin:-25px}.bcx_close_overlay{margin:-15px}a.bouncex_close.bcx_close_modern{margin:.65em;padding:4px;background-size:50% 50%;background-position:50% 50%;border:1px solid transparent;box-sizing:content-box}a.bouncex_close.bcx_close_modern:after{content:url(https://assets.bounceexchange.com/assets/uploads/users/279/3zsHvZVu.png);display:none}a.bouncex_close.bcx_close_modern:hover{background-color:#e79792;border-radius:50%;background-image:url(https://assets.bounceexchange.com/assets/uploads/users/279/3zsHvZVu.png)}a.bouncex_close.size_50{width:17px;height:17px;background-image:url(https://assets.bounceexchange.com/assets/global/images/close50.png)}a.bouncex_close.size_50.bcx_close_modern{width:8.5px;height:8.5px}a.bouncex_close.size_75{width:26px;height:26px;background-image:url(https://assets.bounceexchange.com/assets/global/images/close75.png)}a.bouncex_close.size_75.bcx_close_modern{width:13px;height:13px}a.bouncex_close.size_100.bcx_close_modern{width:17px;height:17px}a.bouncex_close.size_150{width:51px;height:51px;background-image:url(https://assets.bounceexchange.com/assets/global/images/close150.png)}a.bouncex_close.size_150.bcx_close_modern{width:25.5px;height:25.5px}a.bouncex_close.size_200{width:68px;height:68px;background-image:url(https://assets.bounceexchange.com/assets/global/images/close200.png)}a.bouncex_close.bcx_close_black{background-image:url(//assets.bounceexchange.com/assets/global/images/close-black.png)}a.bouncex_close.bcx_close_fill,a.bouncex_close.bcx_close_gray{background-image:url(//assets.bounceexchange.com/assets/global/images/close-gray.png)}a.bouncex_close.bcx_close_white{background-image:url(//assets.bounceexchange.com/assets/global/images/close-white.png)}a.bouncex_close.bcx_close_fill{background-color:#e4e4e4;border-radius:50%}a.bouncex_close.size_200.bcx_close_modern{width:34px;height:34px}a.bouncex_close.bcx_close_header_bottom,a.bouncex_close.bcx_close_header_top{top:5px;right:5px;margin:0}a.bouncex_close.bcx_close_header_bottom.left,a.bouncex_close.bcx_close_header_bottom.left_content,a.bouncex_close.bcx_close_header_top.left,a.bouncex_close.bcx_close_header_top.left_content,a.bouncex_close.bcx_close_overlay.top_left{left:5px}.bcx_container{display:none}.bcx_container a,.bcx_container img{border:0}.bcx_container .bcx_inner{position:relative;width:100%;height:100%}.bcx_container .bcx_inner .bcx_ie_fix{position:absolute;top:0;left:0;width:100%;height:10px;z-index:5;background-image:url(about:blank);display:block}#bcx_form .wmode.wafter,.bcx_rslide .bcx_inner{display:none}.bcx_container .bcx_inner iframe{overflow:hidden;z-index:1;top:0;left:0;width:100%;height:100%;position:absolute}.bcx_container.bcx_overlay button,.bcx_container.bcx_overlay form,.bcx_container.bcx_overlay input,.bcx_container.bcx_overlay select{margin:0;padding:0;border:none;background:0 0}.bouncex_abs_error{position:absolute;color:#ff1919;z-index:999999;font-size:12px;font-style:normal;font-family:sans-serif;font-weight:500}.bcx_container iframe{width:100%!important;height:100%!important;padding:0!important}.bcx_el select:focus option{color:#000}#bcx_frame_body{margin:0;padding:0;overflow:hidden}#bcx_frame_body a,#bcx_frame_body img{border:none}#bcx_form{position:relative}#bcx_form .wmode{position:absolute}#bcx_form .form_slide{position:relative;width:100%;height:100%}.bcx_el.dd select option:hover{background-color:#eee!important}.bcx_el input:focus{outline:0}.bcx_el select::-webkit-scrollbar{-webkit-appearance:none}.bcx_el select::-webkit-scrollbar:vertical{width:11px}.bcx_el select::-webkit-scrollbar:horizontal{height:11px}.bcx_el select::-webkit-scrollbar-thumb{border-radius:8px;border:2px solid #fff;background-color:rgba(0,0,0,.5)}.bcx_el select::-webkit-scrollbar-track{background-color:#fff;border-radius:8px}.wmode{-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-ms-transform:all .5s ease-out;transition:all .5s ease-out}.bcx_fslide .wmode{left:100%}.bcx_fslide .wmode.wbefore{left:0}.bcx_ffade .wmode{opacity:.25}.bcx_ffade .wmode.wbefore{opacity:1}.bcx_r3dbrotate,.bcx_r3dlrotate,.bcx_r3dsign,.bcx_r3dslit,.bcx_rfall,.bcx_rh3dflip,.bcx_rrotate,.bcx_rslidefall,.bcx_rv3dflip{-webkit-perspective:1300px;-moz-perspective:1300px;perspective:1300px}.bcx_rblur .bcx_outer{-webkit-transform:translateY(-5%);-moz-transform:translateY(-5%);-ms-transform:translateY(-5%);transform:translateY(-5%);opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s}.bcx_r3dlrotate .bcx_outer,.bcx_rjustme .bcx_outer{-webkit-transition:all .3s;-moz-transition:all .3s}.bcx_rblur.bcx_after .bcx_outer{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);opacity:1}.bcx_r3dlrotate .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translateZ(100px) translateX(-30%) rotateY(90deg);-moz-transform:translateZ(100px) translateX(-30%) rotateY(90deg);-ms-transform:translateZ(100px) translateX(-30%) rotateY(90deg);transform:translateZ(100px) translateX(-30%) rotateY(90deg);-webkit-transform-origin:0 100%;-moz-transform-origin:0 100%;transform-origin:0 100%;opacity:0;transition:all .3s}.bcx_r3dlrotate.bcx_after .bcx_outer{-webkit-transform:translateZ(0) translateX(0) rotateY(0);-moz-transform:translateZ(0) translateX(0) rotateY(0);-ms-transform:translateZ(0) translateX(0) rotateY(0);transform:translateZ(0) translateX(0) rotateY(0);opacity:1}.bcx_r3dbrotate .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translateY(100%) rotateX(90deg);-moz-transform:translateY(100%) rotateX(90deg);-ms-transform:translateY(100%) rotateX(90deg);transform:translateY(100%) rotateX(90deg);-webkit-transform-origin:0 100%;-moz-transform-origin:0 100%;transform-origin:0 100%;opacity:0;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;transition:all .3s ease-out}.bcx_r3dbrotate.bcx_after .bcx_outer{-webkit-transform:translateY(0) rotateX(0);-moz-transform:translateY(0) rotateX(0);-ms-transform:translateY(0) rotateX(0);transform:translateY(0) rotateX(0);opacity:1}.bcx_r3dslit .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translateZ(-3000px) rotateY(90deg);-moz-transform:translateZ(-3000px) rotateY(90deg);-ms-transform:translateZ(-3000px) rotateY(90deg);transform:translateZ(-3000px) rotateY(90deg);opacity:0}.bcx_r3dslit.bcx_after .bcx_outer{-webkit-animation:slit .7s forwards ease-out;-moz-animation:slit .7s forwards ease-out;animation:slit .7s forwards ease-out}@-webkit-keyframes slit{50%{-webkit-transform:translateZ(-250px) rotateY(89deg);opacity:.5;-webkit-animation-timing-function:ease-out}100%{-webkit-transform:translateZ(0) rotateY(0);opacity:1}}@-moz-keyframes slit{50%{-moz-transform:translateZ(-250px) rotateY(89deg);opacity:.5;-moz-animation-timing-function:ease-out}100%{-moz-transform:translateZ(0) rotateY(0);opacity:1}}@keyframes slit{50%{transform:translateZ(-250px) rotateY(89deg);opacity:1;animation-timing-function:ease-in}100%{transform:translateZ(0) rotateY(0);opacity:1}}.bcx_rjustme .bcx_outer{-webkit-transform:scale(.8);-moz-transform:scale(.8);-ms-transform:scale(.8);transform:scale(.8);opacity:0;transition:all .3s;background:0 0}.bcx_r3dsign .bcx_outer,.bcx_rv3dflip .bcx_outer{-webkit-transition:all .3s;-moz-transition:all .3s}.bcx_rjustme.bcx_after .bcx_outer{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}.bcx_r3dsign .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:rotateX(-60deg);-moz-transform:rotateX(-60deg);-ms-transform:rotateX(-60deg);transform:rotateX(-60deg);-webkit-transform-origin:50% 0;-moz-transform-origin:50% 0;transform-origin:50% 0;opacity:0;transition:all .3s}.bcx_r3dsign.bcx_after .bcx_outer{-webkit-transform:rotateX(0);-moz-transform:rotateX(0);-ms-transform:rotateX(0);transform:rotateX(0);opacity:1}.bcx_rv3dflip .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:rotateX(-70deg);-moz-transform:rotateX(-70deg);-ms-transform:rotateX(-70deg);transform:rotateX(-70deg);transition:all .3s;opacity:0}.bcx_rv3dflip.bcx_after .bcx_outer{-webkit-transform:rotateX(0);-moz-transform:rotateX(0);-ms-transform:rotateX(0);transform:rotateX(0);opacity:1}.bcx_rh3dflip .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:rotateY(-70deg);-moz-transform:rotateY(-70deg);-ms-transform:rotateY(-70deg);transform:rotateY(-70deg);-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s;opacity:0}.bcx_rh3dflip.bcx_after .bcx_outer{-webkit-transform:rotateY(0);-moz-transform:rotateY(0);-ms-transform:rotateY(0);transform:rotateY(0);opacity:1}.bcx_rslidefall .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translate(30%) translateZ(600px) rotate(10deg);-moz-transform:translate(30%) translateZ(600px) rotate(10deg);-ms-transform:translate(30%) translateZ(600px) rotate(10deg);transform:translate(30%) translateZ(600px) rotate(10deg);opacity:0}.bcx_rslidefall.bcx_after .bcx_outer{-webkit-transition:all .3s ease-in;-moz-transition:all .3s ease-in;transition:all .3s ease-in;-webkit-transform:translate(0) translateZ(0) rotate(0);-moz-transform:translate(0) translateZ(0) rotate(0);-ms-transform:translate(0) translateZ(0) rotate(0);transform:translate(0) translateZ(0) rotate(0);opacity:1}.bcx_rfall .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translateZ(600px) rotateX(20deg);-moz-transform:translateZ(600px) rotateX(20deg);-ms-transform:translateZ(600px) rotateX(20deg);transform:translateZ(600px) rotateX(20deg);opacity:0}.bcx_rfall.bcx_after .bcx_outer{-webkit-transition:all .3s ease-in;-moz-transition:all .3s ease-in;transition:all .3s ease-in;-webkit-transform:translateZ(0) rotateX(0);-moz-transform:translateZ(0) rotateX(0);-ms-transform:translateZ(0) rotateX(0);transform:translateZ(0) rotateX(0);opacity:1}.bcx_rsuperscale .bcx_outer{-webkit-transform:scale(2);-moz-transform:scale(2);-ms-transform:scale(2);transform:scale(2);opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s}.bcx_rsuperscale.bcx_after .bcx_outer{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}.bcx_rfadescale .bcx_outer{-webkit-transform:scale(.7);-moz-transform:scale(.7);-ms-transform:scale(.7);transform:scale(.7);opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s}.bcx_rfadescale.bcx_after .bcx_outer{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}.bcx_rrslide .bcx_outer{-webkit-transform:translateX(20%);-moz-transform:translateX(20%);-ms-transform:translateX(20%);transform:translateX(20%);opacity:0;-webkit-transition:all .3s cubic-bezier(.25,.5,.5,.9);-moz-transition:all .3s cubic-bezier(.25,.5,.5,.9);transition:all .3s cubic-bezier(.25,.5,.5,.9)}.bcx_rrslide.bcx_after .bcx_outer{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1}.bcx_rbslide .bcx_outer{-webkit-transform:translateY(20%);-moz-transform:translateY(20%);-ms-transform:translateY(20%);transform:translateY(20%);opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s}.bcx_rbslide.bcx_after .bcx_outer{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);opacity:1}.bcx_rnews .bcx_outer{-webkit-transform:scale(0) rotate(720deg);-moz-transform:scale(0) rotate(720deg);-ms-transform:scale(0) rotate(720deg);transform:scale(0) rotate(720deg);opacity:0;-webkit-transition:all .5s;-moz-transition:all .5s;transition:all .5s}.bcx_rgen .bcx_outer,.bcx_rscale .bcx_outer{-webkit-transition:all .3s;-moz-transition:all .3s}.bcx_rnews.bcx_after .bcx_outer{-webkit-transform:scale(1) rotate(0);-moz-transform:scale(1) rotate(0);-ms-transform:scale(1) rotate(0);transform:scale(1) rotate(0);opacity:1}.bcx_rgen .bcx_outer{opacity:0;transition:all .3s}.bcx_rgen.bcx_after .bcx_outer{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}.bcx_rscale .bcx_outer{-webkit-transform:scale(4);-moz-transform:scale(2);-ms-transform:scale(2);transform:scale(2);opacity:0;transition:all .3s}.bcx_rscale.bcx_after .bcx_outer{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}.bcx_rrotate .bcx_outer{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translateZ(100px) translateX(-30%) rotateY(90deg);-moz-transform:translateZ(100px) translateX(-30%) rotateY(90deg);-ms-transform:translateZ(100px) translateX(-30%) rotateY(90deg);transform:translateZ(100px) translateX(-30%) rotateY(90deg);-webkit-transform-origin:0 100%;-moz-transform-origin:0 100%;transform-origin:0 100%;opacity:0;-webkit-transition:all .3s;-moz-transition:all .3s;transition:all .3s}.bcx_rrotate.bcx_after .bcx_inner{-webkit-transform:translateZ(0) translateX(0) rotateY(0);-moz-transform:translateZ(0) translateX(0) rotateY(0);-ms-transform:translateZ(0) translateX(0) rotateY(0);transform:translateZ(0) translateX(0) rotateY(0);opacity:1}.bcx_rslide.bcx_after .bcx_inner{display:block;animation:animationFrames ease 1s;animation-iteration-count:1;animation-fill-mode:forwards;-webkit-animation:animationFrames ease 1s;-webkit-animation-iteration-count:1;-webkit-animation-fill-mode:forwards;-moz-animation:animationFrames ease 1s;-moz-animation-iteration-count:1;-moz-animation-fill-mode:forwards;-o-animation:animationFrames ease 1s;-o-animation-iteration-count:1;-o-animation-fill-mode:forwards;-ms-animation:animationFrames ease 1s;-ms-animation-iteration-count:1;-ms-animation-fill-mode:forwards}.bcx_rrrslide .bcx_inner{display:none}.bcx_rrrslide.bcx_after .bcx_inner{display:block;animation:animationFramesRight ease 1s;animation-iteration-count:1;animation-fill-mode:forwards;-webkit-animation:animationFramesRight ease 1s;-webkit-animation-iteration-count:1;-webkit-animation-fill-mode:forwards;-moz-animation:animationFramesRight ease 1s;-moz-animation-iteration-count:1;-moz-animation-fill-mode:forwards;-o-animation:animationFramesRight ease 1s;-o-animation-iteration-count:1;-o-animation-fill-mode:forwards;-ms-animation:animationFramesRight ease 1s;-ms-animation-iteration-count:1;-ms-animation-fill-mode:forwards}@keyframes animationFrames{0%{left:-1500px;top:0;opacity:0;transform:rotate(0) scaleX(1) scaleY(1)}60%{left:30px;opacity:1}80%{left:-10px}100%{left:0;top:0;opacity:1;transform:rotate(0) scaleX(1) scaleY(1)}}@-moz-keyframes animationFrames{0%{left:-1500px;top:0;opacity:0;-moz-transform:rotate(0) scaleX(1) scaleY(1)}60%{left:30px;opacity:1}80%{left:-10px}100%{left:0;top:0;opacity:1;-moz-transform:rotate(0) scaleX(1) scaleY(1)}}@-webkit-keyframes animationFrames{0%{left:-1500px;top:0;opacity:0;-webkit-transform:rotate(0) scaleX(1) scaleY(1)}60%{left:30px;opacity:1}80%{left:-10px}100%{left:0;top:0;opacity:1;-webkit-transform:rotate(0) scaleX(1) scaleY(1)}}@-o-keyframes animationFrames{0%{left:-1500px;top:0;opacity:0;-o-transform:rotate(0) scaleX(1) scaleY(1)}60%{left:30px;opacity:1}80%{left:-10px}100%{left:0;top:0;opacity:1;-o-transform:rotate(0) scaleX(1) scaleY(1)}}@keyframes animationFramesRight{0%{right:-1500px;top:0;opacity:0;transform:rotate(0) scaleX(1) scaleY(1)}60%{right:30px;opacity:1}80%{right:-10px}100%{right:0;top:0;opacity:1;transform:rotate(0) scaleX(1) scaleY(1)}}@-moz-keyframes animationFramesRight{0%{right:-1500px;top:0;opacity:0;-moz-transform:rotate(0) scaleX(1) scaleY(1)}60%{right:30px;opacity:1}80%{right:-10px}100%{right:0;top:0;opacity:1;-moz-transform:rotate(0) scaleX(1) scaleY(1)}}@-webkit-keyframes animationFramesRight{0%{right:-1500px;top:0;opacity:0;-webkit-transform:rotate(0) scaleX(1) scaleY(1)}60%{right:30px;opacity:1}80%{right:-10px}100%{right:0;top:0;opacity:1;-webkit-transform:rotate(0) scaleX(1) scaleY(1)}}@-o-keyframes animationFramesRight{0%{right:-1500px;top:0;opacity:0;-o-transform:rotate(0) scaleX(1) scaleY(1)}60%{right:30px;opacity:1}80%{right:-10px}100%{right:0;top:0;opacity:1;-o-transform:rotate(0) scaleX(1) scaleY(1)}}',bouncex.head[0]);
callback();bouncex.css_added=true}else callback()}function bxBind(obj,type,fn,ca_id){var obj=jQuery(obj);if(ca_id)bouncex.events[ca_id][type]=obj;obj.bind(type,tryCatch(fn,{source:"bxBind",ca_id:ca_id}))}
function bxPassiveBind(obj,type,fn,ca_id){var types=type.split(" ");fn=tryCatch(fn,{source:"bxPassiveBind",ca_id:ca_id});bouncex.passiveEventRegistry[type]=fn;if(ca_id)bouncex.events[ca_id][type]=function(){bxPassiveUnbind(obj,type)};for(var i=0,l=types.length;i<l;i++){var typeWithoutNamespace=types[i].split(".")[0];addEvent(obj,typeWithoutNamespace,fn,true)}}
function bxPassiveUnbind(obj,type){var fn=bouncex.passiveEventRegistry[type];var types=type.split(" ");for(var i=0,l=types.length;i<l;i++){var typeWithoutNamespace=types[i].split(".")[0];removeEvent(obj,typeWithoutNamespace,fn,true)}}function addEvent(obj,type,fn,isPassive){var eventOptions=isPassive?{passive:true,capture:false}:false;obj.addEventListener(type,fn,eventOptions)}
function removeEvent(obj,type,fn,isPassive){var eventOptions=isPassive?{passive:true,capture:false}:false;obj.removeEventListener(type,fn,eventOptions)}function calc_delay_cvt(delay_time){var delay=(bouncex.cookie.cvt-getTime2()+delay_time)*1E3;return delay<0?0:delay}function fs(){if(!bouncex.browser.msie)return true;if(typeof bouncex.fixed_supported=="undefined")try{bouncex.fixed_supported=isFixedSupported()}catch(e){bouncex.fixed_supported=true}return bouncex.fixed_supported}
function isFixedSupported(){var e=document.body;if(document.createElement&&e&&e.appendChild&&e.removeChild){var t=document.createElement("div");if(!t.getBoundingClientRect)return null;t.innerHTML="x";t.style.cssText="position:fixed;top:100px;";e.appendChild(t);var n=e.style.height,r=e.scrollTop;e.style.height="3000px";e.scrollTop=500;var i=t.getBoundingClientRect().top;e.style.height=n;var s=i===100;e.removeChild(t);e.scrollTop=r;return s}return null}
function getTime2(){var timeDiff=bouncex.server_client_time_diff?bouncex.server_client_time_diff:0;return parseInt((new Date).getTime()/1E3)+timeDiff}function getTimeMs(){return(new Date).getTime()}function generateUniqueId(){return getTimeMs()+Math.random()}function zoomDisable(w){}function zoomEnable(){}function getStyle(e,t){if(e.currentStyle)var n=e.currentStyle[t];else if(window.getComputedStyle)var n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t);return n}
function queryStringToObject(qs){var result=[];var qsSplit=qs.split("&");for(var i=0;i<qsSplit.length;i++){var superSplit=qsSplit[i].split("=");result[superSplit[0]]=superSplit[1]?decodeURIComponent(superSplit[1].replace(/\+/g," ")):""}return result}
function googleTrustedStoresBadgeFix(ca_id){if(bouncex.campaigns[ca_id].type=="conversionbar"||bouncex.campaigns[ca_id].type=="conversioncorner"||bouncex.campaigns[ca_id].type=="liquidscreen"||bouncex.campaigns[ca_id].type=="nanobar"||bouncex.campaigns[ca_id].type=="nanotab"||bouncex.campaigns[ca_id].type=="overlay"||bouncex.campaigns[ca_id].type=="railbar")bouncex.addCss("body > #___ratingbadge_0 { z-index: 2147483627 !important; }",bouncex.campaigns[ca_id].obj1[0],"bx-campaign-"+ca_id+"-gts")}
var init_vars=InitSequence.preInit1.integrations;var bcx_init=InitSequence.preInit1.entry;var init_post_cookie=InitSequence.preInit1.cookieReady;function isDeprecatedFunction(msg){var name=isDeprecatedFunction.caller&&isDeprecatedFunction.caller.name;var message=(name||"")+"-"+(msg||"");bouncex.err("deprecated function: "+message)}bouncex.log=function(){var log=console.log.bind?console.log.bind(console):window.console.log;if(isBxInternalTraffic())log.apply(null,arguments)};
bouncex.console={trace:function(){if(isBxInternalTraffic()&&console.trace)console.trace()},group:function(){var group=console.group.bind?console.group.bind(console):window.console.group;if(visitorTestMode("office")||visitorTestMode("bxdev"))group.apply(null,arguments)},groupCollapsed:function(){var groupCollapsed=console.groupCollapsed.bind?console.groupCollapsed.bind(console):window.console.groupCollapsed;if(isBxInternalTraffic()&&console.groupCollapsed)groupCollapsed.apply(null,arguments)},groupEnd:function(){var groupEnd=
console.groupEnd.bind?console.groupEnd.bind(console):window.console.groupEnd;if(isBxInternalTraffic()&&console.groupEnd)groupEnd.apply(null,arguments)}};bouncex.table=function(){var table=console.table.bind?console.table.bind(console):window.console.table;if(bouncex.env!=="production"||visitorTestMode("office")||visitorTestMode("bxdev"))table.apply(null,arguments)};bouncex.loaded=true;
bouncex.init1Response=tryCatch(function(resp){bouncex.state=resp.state;if(!(bouncex.complianceFlag==="no_consent"||bouncex.complianceFlag==="gdpr_no_consent"&&bouncex.state.gdpr)){bouncex.cookie=resp.cookie;bouncex.brandStyles=resp.brand_styles;bouncex.webfonts=resp.webfonts;bouncex.campaigns=resp.campaigns;bouncex.creatives=resp.creatives;bouncex.debug=resp.debug;bouncex.testmode=resp.testmode;bouncex.gbi.stacks=resp.gbi_stacks;bouncex.website.gbi2Enabled=resp.gbi2_enabled;bouncex.website.sspConfig=
resp.ssp_config;bouncex.website.pushFilepath=resp.push_filepath;bouncex.website.smsEnabled=resp.sms_enabled;InitSequence.postInit1.entry()}});

var BehavioralCriteria={evaluate:function(triggers,criteria,campaignId){this._debug.init(campaignId);for(var i=0;i<criteria.length;i++){var andBlock=criteria[i];this._debug.initCriteriaSet(andBlock,i);if(!this._andCriteriaSatisfied(andBlock,triggers))return false}return true},_andCriteriaSatisfied:function(andBlock,triggers){for(var i=0;i<andBlock.length;i++){var orBlock=andBlock[i];if(this._orCriteriaSatisfied(orBlock,triggers)){this._debug.setCriteriaStatus(true);return true}}this._debug.setCriteriaStatus(false);
return false},_orCriteriaSatisfied:function(orBlock,triggers){orBlock.val=parseSiteElementSelector(orBlock.val);var found=jQuery.inArray(getUniqueInstrumentId(orBlock),triggers)!==-1;var orCriteriaSatisfied=found?!orBlock.shouldBeAbsent:!!orBlock.shouldBeAbsent;this._debug.setActivationStatus(orBlock.activation,orCriteriaSatisfied);return orCriteriaSatisfied},_debug:{init:function(campaignId){this.campaignId=campaignId;if(typeof this.shouldDebug==="undefined")this.shouldDebug=isBxInternalTraffic()},
initCriteriaSet:function(set,criteriaIndex){if(!this.shouldDebug)return;this.failedCriteriaArr=[];this.setInfo="behavioral criteria - criteria "+criteriaIndex+": "+set.map(function(set){return set.activation}).join(",")},setActivationStatus:function(activation,passed){if(!this.shouldDebug)return;if(!passed)this.failedCriteriaArr.push(activation);var behavioralCriteria=bouncex.campaigns[this.campaignId].list_of_rt_activations;behavioralCriteria.forEach(function(criteria){if(criteria.activation!==activation)return;
criteria.status=passed})},setCriteriaStatus:function(passed){if(!this.shouldDebug)return;var msg=passed?" - passed":" - failed ("+this.failedCriteriaArr.join(",")+")";this.log(this.campaignId,this.setInfo+msg)},log:function(campaignId,msg){if(!this.shouldDebug)return;var data={group:"rtbc",message:msg,color:"#ff69b4",campaignId:campaignId};Logger.info(data)}}};

var BrowserUtil={viewport:{getVisibleElements:function(selector,domPlacementMethod){var elemArray=jQuery(selector).toArray();return elemArray.reduce(function(acc,element,index){if(this.elementEdgeInViewport(element,domPlacementMethod))acc.push({element:element,index:index});return acc}.bind(this),[])},elementEdgeInViewport:function(element,domPlacementMethod){if(typeof element==="string")element=jQuery(element).get(0);if(!element)return false;var position=this._getVerticalPosition(element,domPlacementMethod);
return this.isInVerticalViewport(position)},isInVerticalViewport:function(positionToCompare){return positionToCompare>=0&&positionToCompare<=(window.innerHeight||document.documentElement.clientHieght)},_getVerticalPosition:function(element,domPlacementMethod,offset){var elementRect=element.getBoundingClientRect();offset=parseInt(offset)||0;return domPlacementMethod==="before"||domPlacementMethod==="prepend"?elementRect.top-offset:elementRect.bottom+offset},distanceToBottom:function(element,domPlacementMethod,
offset){var position=this._getVerticalPosition(element,domPlacementMethod,offset);return(window.innerHeight||document.documentElement.clientHieght)-position}}};

var ComplianceChecks={init:function(){this.onFailure=bouncex.destroyAll;this.onSuccess=InitSequence.init1.serviceReady.bind(InitSequence.init1,"compliance check");this._checkComplianceIntegrations()},_checkComplianceIntegrations:function(){this._finished=false;for(var integrationName in this._integrations)if(this._integrations.hasOwnProperty(integrationName)){var integration=this._integrations[integrationName];this._setIntegrationActions(integration.name);this._initIntegration(integration)}},_hasFailingIntegration:function(){for(var integrationName in this._integrations)if(this._integrations.hasOwnProperty(integrationName)){var integration=
this._integrations[integrationName];if(!integration.passed)return true}return false},_initIntegration:function(integration){delete integration.passed;integration.init()},_integrationPassed:function(){if(this._finished)return;if(this._hasFailingIntegration())return;this.compliancePassed=true;this._finished=true;this.onSuccess()},_integrationFailed:function(integrationName){this.compliancePassed=false;this._finished=true;this.onFailure(integrationName)},_setIntegrationActions:function(integrationName){var integration=
this._integrations[integrationName];for(var action in this._integrationActions)integration[action]=this._integrationActions[action].bind(this,integration)},_integrationActions:{log:function(integration,msg){this._log(integration.name,msg)},failsCheckInEU:function(integration,msg){if(bouncex.state&&bouncex.state.gdpr)return integration.failsCheck(msg);bouncex.complianceFlag=bouncex.complianceFlag||"gdpr_no_consent";integration.passesCheck(msg)},passesCheck:function(integration,msg){integration.passed=
true;this._log(integration.name,msg,false);this._integrationPassed()},failsCheck:function(integration,msg){bouncex.complianceFlag="no_consent";integration.passed=false;this._log(integration.name,msg,true);this._integrationFailed(integration.name)}},_integrations:{iab_cmp:{name:"iab_cmp",bxVendorId:256,bxPurposeIds:[1],init:function(){if(typeof window.__cmp!=="function")return this.passesCheck("no __cmp");this.pingTimeout=setTimeout2(function(){this.failsCheckInEU("ping timed out")}.bind(this),200);
this.getVendorConsents();this.pingCMP()},pingCMP:function(){window.__cmp("ping",null,tryCatch(function(result,success){clearTimeout(this.pingTimeout);if(this.getVendorConsentsCalled)return;if(result&&result.cmpLoaded)return;if(!success)return this.failsCheckInEU("ping success false");this.firstTime=this.firstTime||getTimeMs();this.currentTime=getTimeMs();if(this.currentTime-this.firstTime>=2E3)return this.passesCheck("cmp not loaded in time");setTimeout2(this.pingCMP.bind(this),200)}.bind(this)))},
getVendorConsents:function(){window.__cmp("getVendorConsents",[this.bxVendorId],tryCatch(function(consent,success){clearTimeout(this.pingTimeout);this.getVendorConsentsCalled=true;if(!success)return this.failsCheckInEU("success false");if(consent.gdprApplies===true||consent.gdprApplies==="true"){if(!this.consentPasses(consent.vendorConsents[this.bxVendorId]))return;for(var i=0;i<this.bxPurposeIds.length;i++){var purposeConsentId=this.bxPurposeIds[i];if(!this.consentPasses(consent.purposeConsents[purposeConsentId]))return}}this.passesCheck("checks passed")}.bind(this)))},
consentPasses:function(consent){if(consent===true)return true;if(consent===false)this.failsCheck("fails consent");else this.failsCheckInEU("unexpected response");return false}}},_log:function(integration,msg,fail){var data={group:"compliance",message:integration+"-"+msg};fail?Logger.error(data):Logger.info(data)}};

var CouponCodes={insertCodesInCurrentStep:function(campaignId){var visibleCouponData={campaignId:campaignId,getPlaceholders:this._step.getPlaceholders,populateCoupon:this._step.populatePlaceholderWithCode};this.log(visibleCouponData,"init visible coupons");this._loadCoupons(visibleCouponData)},insertCodesInFormAndSubmit:function(campaignId,callback){var hiddenCouponData={campaignId:campaignId,getPlaceholders:this._form.getPlaceholders,populateCoupon:this._form.populatePlaceholderWithCode,callback:callback};
this.log(hiddenCouponData,"init hidden coupons");this._loadCoupons(hiddenCouponData)},_step:{getPlaceholders:function(data){var campaign=bouncex.campaigns[data.campaignId];var currentStepSelector=".bx-step-"+campaign.current_step;var validCouponSelector='.bx-cpn-not-loaded[data-cpn-set]:not([data-cpn-set=""])';var fullSelector=currentStepSelector+" "+validCouponSelector;return Array.prototype.slice.call(campaign.obj1[0].querySelectorAll(fullSelector)).map(function(node,index){return{campaign:node,
clone:campaign.obj2[1]?campaign.obj2[1].querySelectorAll(fullSelector)[index]:null}})},populatePlaceholderWithCode:function(data){[data.placeholder,data.clone].map(function(node){if(node){node.innerText=data.code;node.classList.remove("bx-cpn-not-loaded")}});CouponCodes._checkIsFinished(data)}},_form:{getPlaceholders:function(data){var campaign=bouncex.campaigns[data.campaignId];var validCouponSelector='[value="bx-cpn-not-loaded"][data-cpn-set]:not([data-cpn-set=""])';return Array.prototype.slice.call(campaign.jform[0].querySelectorAll(validCouponSelector)).map(function(node){return{campaign:node}})},
populatePlaceholderWithCode:function(data){data.placeholder.value=data.code;CouponCodes._checkIsFinished(data)}},_loadCoupons:function(data){var placeholders=data.getPlaceholders(data);if(placeholders.length===0){this.log(data,"no coupons found");return this._finishedLoading(data)}placeholders.forEach(function(placeholder){var couponData={campaignId:data.campaignId,populateCoupon:data.populateCoupon,getPlaceholders:data.getPlaceholders,callback:data.callback,setName:placeholder.campaign.getAttribute("data-cpn-set"),
placeholder:placeholder.campaign,clone:placeholder.clone};this._loadCoupon(couponData)}.bind(this))},_finishedLoading:function(data){this.log(data,"finished");if(typeof data.callback==="function")data.callback()},_loadCoupon:function(data){var status=this._getCouponStatus(data.setName);this.log(data,"coupon status: "+status);switch(status){case "cookied":return this._populateCoupon(data);case "untracked":return this._requestCoupon(data);case "requesting":return setTimeout2(this._loadCoupon.bind(this,
data),200);default:return bouncex.err("unexpected coupon status",{source:"coupon code"})}},_requestCoupon:function(data){this.log(data,"requesting coupon");var options={type:"GET",url:"https://"+bouncex.website.bau+"/bounce/fetch_coupon",data:{setName:data.setName,websiteId:bouncex.website.id,visitId:bouncex.cookie.vid,deviceId:bouncex.cookie.did,campaignId:data.campaignId,requestToken:bouncex.state.request_token},success:this._onSuccessHandler.bind(this,data),error:this._onErrorHandler.bind(this,
data)};this._pendingCoupons[data.setName]=true;jQuery.ajax(options)},_onSuccessHandler:function(data,resp){if(!resp||!resp.code)return this._onErrorHandler(data,null,"no coupon code");this._completeRequest(data,resp.code,"successful");this.report({campaignId:data.campaignId,couponId:resp.id,couponCode:resp.code})},_onErrorHandler:function(data,jqXHR,textStatus){var failMsg=textStatus?"("+textStatus+")":"";bouncex.err("coupon failed "+failMsg,data);this._completeRequest(data,this._getDefaultCode(data.placeholder),
"failed"+failMsg)},_completeRequest:function(data,code,msg){this.log(data,"request status: "+msg);this._cookieCoupon(data.setName,code);this._populateCoupon(data);delete this._pendingCoupons[data.setName]},_cookieCoupon:function(setName,code){bouncex.cookie.cpn=bouncex.utils.isObject(bouncex.cookie.cpn)?bouncex.cookie.cpn:{};bouncex.cookie.cpn[setName]=code;setBounceCookie()},_populateCoupon:function(data){data.code=this._getCookiedCode(data.setName);this.log(data,"populating code: "+data.code);this._triggerCouponFetchedEvent(data);
data.populateCoupon(data)},_triggerCouponFetchedEvent:function(data){if(bouncex.window)bouncex.window.trigger("bxCouponFetched",[{setName:data.setName,code:data.code,campaignId:data.campaignId}])},_pendingCoupons:{},_getCouponStatus:function(setName){if(bouncex.cookie.cpn&&bouncex.cookie.cpn[setName])return"cookied";if(this._pendingCoupons[setName])return"requesting";return"untracked"},_getCookiedCode:function(setName){return bouncex.cookie.cpn&&bouncex.cookie.cpn[setName]},_getDefaultCode:function(placeholder){return placeholder.getAttribute("data-cpn-default")||
"false"},_checkIsFinished:function(data){if(!this._hasPlaceholders(data))this._finishedLoading(data)},_hasPlaceholders:function(data){return data.getPlaceholders(data).length>0},log:function(data,msg){var data={shouldLog:visitorTestMode("coupons"),group:"coupons",campaignId:data.campaignId||"",message:(data.setName?data.setName+": ":"")+msg};Logger.info(data)},report:function(data){bouncex.report(data.campaignId,"coupon",{"coupon:id":data.couponId,"coupon:code":data.couponCode})}};

var CustomVariables={_hasInit:false,_reloadCampaignVarNames:[],_allChangedVars:[],init:function(){if(!this._hasInit){bouncex.cookie=getBounceCookie();bouncex.vars={};this.varsToExpire=[];bouncex.website.vars=initTestModeParts("cvars");this._index={};bouncex.website.vars.forEach(function(v,i){this._index[v.name]=i}.bind(this))}this.evalVars();this._initPolling();setBounceCookie();this._hasInit=true},evalVars:function(type){var type=type||"all",cvars=this._filterVars(type);for(var i=0;i<cvars.length;i++){var cvar=
cvars[i];if(typeof bouncex.vars[cvar.name]==="undefined")this._initVar(cvar);if(!this._canEvalVar(cvar))continue;var result=this.evalVarAndReload(cvar.name);if(cvar.persist==="visit"&&!bouncex.state&&!result.success)this.varsToExpire.push({name:cvar.name,"default":cvar["default"]})}},_filterVars:function(type){this._filter=this._filter||{};if(this._filter[type])return this._filter[type];switch(type){case "all":return this._filter[type]=bouncex.website.vars;case "devicegraph":return this._filter[type]=
bouncex.website.vars.filter(function(v){return v.persist==="devicegraph"});case "polling":return this._filter[type]=bouncex.website.vars.filter(function(v){return v.polling!=="none"});case "persist":return this._filter[type]=bouncex.website.vars.filter(function(v){return v.persist!=="no"});default:return[]}},_initVar:function(cvar){var initialVal=cvar.persist!=="no"&&bouncex.cookie.v&&typeof bouncex.cookie.v[cvar.name]!=="undefined"?bouncex.cookie.v[cvar.name]:cvar["default"];this.setVar(cvar.name,
initialVal)},_canEvalVar:function(cvar){if(cvar.page_types.length&&(!bouncex.website.pts||cvar.page_types.indexOf(bouncex.website.pts)===-1))return false;if(cvar.persist==="devicegraph")if(!bouncex.dg||!bouncex.dg.store)return false;else if(typeof bouncex.vars[cvar.name]!=="number")return false;if(cvar.trigger==="event")return false;return true},_evalVar:function(cvar,scope){var result={};if(typeof cvar.code!=="function")cvar.code=this._makeFunc(cvar.code);try{var code=scope?cvar.code.bind(scope):
cvar.code;result=this.setVar(cvar.name,code())}catch(e){bouncex.err(e,{source:"eval cvar",cvar:cvar.name})}return result},setVar:function(name,value){var cvar=bouncex.website.vars[this._index[name]],result={success:false,changed:false},newVal=this._formatVar(value);result.success=this._validVar(newVal);if(result.success&&bouncex.vars[cvar.name]!==newVal){result.changed=true;result.oldVal=bouncex.vars[cvar.name];bouncex.vars[cvar.name]=newVal;if(cvar.persist!=="no"){bouncex.cookie.v=bouncex.cookie.v||
{};bouncex.cookie.v[cvar.name]=newVal;if(bouncex.dg&&bouncex.dg.store&&cvar.persist==="devicegraph"){bouncex.dg.store.v=bouncex.dg.store.v||{};bouncex.dg.store.v[cvar.name]=newVal}}}return result},getVar:function(name){return bouncex.website.vars[this._index[name]]},_reactToChange:function(cvar,result){if(result.changed){if(cvar.polling!=="vars")this._reloadCampaignVarNames.push(cvar.name);if(cvar.persist!=="no")bouncex.setBounceCookie();if(cvar.persist==="devicegraph")bouncex.dg.updateDeviceGraphCookie();
this._allChangedVars.push({name:cvar.name,oldVal:result.oldVal})}},evalVarAndReload:function(name,scope){var cvar=bouncex.website.vars[this._index[name]];var result=this._evalVar(cvar,scope);this._reactToChange(cvar,result);return result},setVarAndReload:function(name,value){var cvar=bouncex.website.vars[this._index[name]];var result=this.setVar(cvar.name,value);this._reactToChange(cvar,result)},_makeFunc:function(code){var f=function(){return null};var str="f = (function(){return "+encodeURI(code.toString().replace("\n",
" "))+"});";try{eval(decodeURI(str))}catch(e){bouncex.err("bad cvar expression "+code)}return f},_validVar:function(val){return typeof val==="number"&&!isNaN(val)||typeof val==="string"||typeof val==="boolean"},_formatVar:function(val){switch(true){case val==="true":return true;case val==="false":return false;case typeof val==="string"&&!!val.match(/^[0-9]+$/):return parseInt(val);case typeof val==="string"&&!!val.match(/^[0-9]+\.[0-9]+$/):return parseFloat(val);default:return val}},_initPolling:function(){this._reloadCampaignVarNames=
[];BxInterval.addTask(this._pollingVars.bind(this),0,"eval_polling_vars");BxInterval.addTask(this._cvarChangeEvent.bind(this),0,"emit_change_event")},_pollingVars:function(){this.evalVars("polling");if(this._reloadCampaignVarNames.length){bouncex.reload_campaigns("variable",this._reloadCampaignVarNames.join(","));this._reloadCampaignVarNames=[]}if(this._allChangedVars.length&&bouncex.website.ete==2)bouncex.et.evalAllUIEvents()},_cvarChangeEvent:function(){if(this._allChangedVars.length&&bouncex.window){bouncex.window.trigger("bxVarsChange",
[this._allChangedVars]);this._allChangedVars=[]}},clearAll:function(){this._hasInit=false;bouncex.vars={}}};

bouncex.dg={init:function(){if(bouncex.website.dgp)this.dg_timeout=setTimeout2(function(){CustomVariables.evalVars("devicegraph");bouncex.err("dg timeout")},3E3);this.initPostDeviceGraph(null)},initPostDeviceGraph:function(error,json){if(error!==null)return;if(json!==undefined&&json.IDs){this.idTime=getTimeMs();this.json=json;this.softID=json.IDs.deviceID;this.hardID=json.IDs.cookieID;if(json.info.firstLoad)this.previousCustomerLookup();InitSequence.init1.serviceReady("graph callback")}if(typeof bouncex.state===
"undefined"||typeof this.json==="undefined")return;json=this.json;bouncex.perf.manualTiming("bxid",this.idTime);if(bouncex.website.dgp){clearTimeout(this.dg_timeout);this.store=bouncex.parseJSON(json.cookie);this._replenishCookie();CustomVariables.evalVars("devicegraph")}if(this.softID&&this.hardID){var signature=this.softID.slice(-10)+this.hardID.slice(-10);if(bouncex.cookie.vpv===1||bouncex.cookie.dgsig&&bouncex.cookie.dgsig!==signature){bouncex.cookie.dgsig=signature;setBounceCookie();var dg_event_params=
{"device_graph:cookie_id":this.hardID,"device_graph:device_id":this.softID};event_stream_report("device_graph",dg_event_params)}}},getAdsOptStatus:function(error,json){if(error!==null)return;var deviceId=json.deviceID||json.IDs.deviceID;window.bouncex.gbi.deviceOptedStatus=deviceId?deviceId:""},previousCustomerLookup:function(){perf.times("pd-start2");var pdURL="https://pd.cdnwidget.com/lookup?deviceID="+this.softID+"&cookieID="+this.hardID+"&bxwid="+bouncex.website.id;jQuery.ajax({url:pdURL,type:"GET"}).always(function(){perf.times("pd-stop2")})},
_replenishCookie:function(){var updatedValues=[];var previousCvars=bouncex.stringify(bouncex.cookie.v);if(this.store&&this.store.v)for(var name in this.store.v)if(this.store.v.hasOwnProperty(name)&&bouncex.cookie.v[name]!==this.store.v[name]){if(typeof CustomVariables.getVar(name)==="undefined"){delete this.store.v[name];continue}updatedValues.push(name);bouncex.setv(name,this.store.v[name])}if(updatedValues.length){setBounceCookie();reload_campaigns("device_graph_hydration",updatedValues.join(","));
var dg_hydrate_params={"hydrated_deviceid":this.store.did,"hydrated_visitid":this.store.vid,"hydrated_cookie":bouncex.stringify(this.store),"cookie":bouncex.stringify(bouncex.cookie),"hydrated_cvar":bouncex.stringify(this.store.v),"previous_cvar":previousCvars};event_stream_report("device_graph_hydration",dg_hydrate_params)}},updateDeviceGraphCookie:function(){this.store.did=bouncex.cookie.did;this.store.vid=bouncex.cookie.vid;var updateParams={bxwid:bouncex.website.id,deviceID:this.softID,obj:encodeURIComponent(bouncex.stringify(this.store))};
jQuery.ajax({type:"GET",url:"https://ids.cdnwidget.com/u?"+qs(updateParams),error:function(){bouncex.err("device graph update failed")}})}};

bouncex.et={init:function(){this.stopAll();try{eval(bouncex.website.etjs);this.evalAllUIEvents(true)}catch(err){bouncex.err(err,{source:"event tracking js"})}},evalAllUIEvents:function(reset){if(bouncex.website.ete===2&&bouncex.website.etjson)for(var i=0;i<bouncex.website.etjson.length;i++)if(reset||!bouncex.website.etjson[i].criteriaPassed)bouncex.website.etjson[i].criteriaPassed=this.evalUIEvent(bouncex.website.etjson[i])},evalUIEvent:function(event){var criteriaPassed=(new Criteria(event.type.val,
event.evaluation,"UI event")).evaluate();if(criteriaPassed){var trigger=event.trigger;switch(trigger.activation){case "onActiveTime":var seconds=trigger.val;bouncex.et.onActiveTime(seconds,function(){bouncex.et.makeUIEvent(event)});break;case "onClick":var targetEl=bouncex.website.els[trigger.val];if(targetEl)bouncex.et.on(bouncex.body,"click",function(){var $el=jQuery(this);bouncex.et.makeUIEvent(event,$el)},targetEl);break;case "onCartEmpty":bouncex.et.onCartEmpty(function(){bouncex.et.makeUIEvent(event)});
break;case "onHover":case "onVisible":bouncex.et[trigger.activation](bouncex.website.els[trigger.val],function($el){bouncex.et.makeUIEvent(event,$el)});break;case "delay":var delay=trigger.val*1E3;bouncex.setTimeout2(function(){bouncex.et.makeUIEvent(event)},delay);break;case "default":default:this.makeUIEvent(event)}}return criteriaPassed},makeUIEvent:function(event,$el){var type=event.type.val;var dataFields=event.data_fields[0];var metaData=dataFields.reduce(function(acc,cvarData){if(cvarData.activation!==
"default"){var cvarObj=CustomVariables.getVar(cvarData.val);if(cvarObj&&cvarObj.trigger==="event")CustomVariables.evalVarAndReload(cvarData.val,$el);var metaDataName=cvarData.activation==="custom"?cvarData.val:cvarData.activation;acc[metaDataName]=bouncex.vars[cvarData.val]}return acc},{});bouncex.push([type,metaData])},hoverTime:1E3,log:function(msg){Logger.info({group:"et log",message:msg,color:"#4b0082"})},on:function(target,event,callback,selector){var listener={event:event,selector:selector,
stop:function(){bouncex.off(target,event+"."+listenerId,selector)}};var listenerId=this.register(listener);bouncex.on(target,event+"."+listenerId,callback,selector);return listenerId},onActiveTime:function(seconds,callback){var activeTimeCallbackId=ActiveTime.addCallback(seconds,callback);var listener={event:"active time",stop:function(){ActiveTime.clearCallback(activeTimeCallbackId)}};var listenerId=this.register(listener);return listenerId},onCartEmpty:function(callback){var varName=bouncex.et.cart.config?
bouncex.et.cart.config.cartCountVariable:"cart_qty";this.onVarChange(varName,function(oldVal,newVal){if(oldVal>0&&newVal===0)callback()})},onAnyVarChange:function(callback){return this.on(bouncex.window,"bxVarsChange",function(){var changedVars=arguments[1];callback(changedVars)})},onVarChange:function(varName,callback){return this.onAnyVarChange(function(changedVars){for(var i=0;i<changedVars.length;i++)if(changedVars[i].name==varName)return callback(changedVars[i].oldVal,bouncex.vars[varName])})},
onHover:function(selector,callback){var timeout;var time=this.hoverTime;var hoverListener={event:"hover",selector:selector,stop:function(){bouncex.off(bouncex.body,"mouseenter."+listenerId,selector);bouncex.off(bouncex.body,"mouseleave."+listenerId,selector);clearTimeout(timeout)}};var listenerId=this.register(hoverListener);var handle=function(){var $el=jQuery(this);clearTimeout(timeout);if(!$el.attr("data-bxhover-"+listenerId))timeout=setTimeout(function(){$el.attr("data-bxhover-"+listenerId,true);
bouncex.tryCatch(callback)($el)},time)};var unhandle=function(){clearTimeout(timeout)};bouncex.on(bouncex.body,"mouseenter."+listenerId,handle,selector);bouncex.on(bouncex.body,"mouseleave."+listenerId,unhandle,selector)},onTrue:function(condition,callback,maxTries){var tries=0;maxTries=maxTries||5;if(condition())callback();else var intId=bouncex.et.setInterval(function(){if(condition()){bouncex.et.stop(intId);callback()}else if(tries>maxTries)bouncex.et.stop(intId);tries++})},onVisible:function(selector,
callback){var prevVisible=false;var visible;function executeCallbackIfVisible(){visible=jQuery(selector).is(":visible");if(!prevVisible&&visible)bouncex.tryCatch(callback)(jQuery(selector));prevVisible=visible}executeCallbackIfVisible();return this.setInterval(executeCallbackIfVisible)},register:function(listener){var id=generateUniqueId();bouncex.listeners=bouncex.listeners||{};bouncex.listeners[id]=listener;return id},setInterval:function(callback){var bxIntervalId=BxInterval.addTask(callback);
var listener={event:"bxInterval",stop:function(){BxInterval.stopTask(bxIntervalId)}};return this.register(listener)},stop:function(id){if(bouncex.listeners.hasOwnProperty(id)){bouncex.listeners[id].stop();delete bouncex.listeners[id]}},stopAll:function(){for(var id in bouncex.listeners)this.stop(id)},cart:{init:function(obj){var defaults={storeCartVariable:"cart",cartCountVariable:"cart_qty",maxVariableSize:bouncex.local_storage_enabled?1500:400,storeValues:["count","items"],maxItems:10};obj=jQuery.extend(defaults,
obj);this.config=obj;this.replenish=obj.replenish||this.replenish;this.validateReplenishment=obj.validateReplenishment||this.validateReplenishment;this.reportReplenishment=obj.reportReplenishment||this.reportReplenishment;this.replenishmentComplete=obj.replenishmentComplete||bouncex.utils.getParam("bx_replen");this.replenishmentType=obj.replenishmentType||"unknown";this.replenishmentSuccessful=obj.replenishmentSuccessful||this.replenishmentSuccessful;this.tryReplenishment();this.reportReplenishment()},
setReplenishmentReportingStatus:function(statusString){var statusLookup={"BX_CART_VALID":{code:0},"BX_CART_MALFORMED":{code:1,message:"bx_cart malformed"},"BX_CART_ITEMS_ALREADY_IN_CART":{code:2,message:"Items already in cart"},"BX_CART_MISSING_DATA":{code:3,message:"Missing value, token or items"},"BX_CART_REJECTED_UNKNOWN_REASON":{code:4,message:"Aborted for unknown reason"},"BX_REPLEN_FAILURE":{code:9,message:"Could not replenish cart"},"BX_REPLEN_SUCCESS":{code:10}};var status=statusLookup[statusString];
if(status){this.returnCode=status.code;if(status.message)this.failureMessage=status.message}},getCart:function(){if(this.state)return this.state;else if(this.config.storeCartVariable&&bouncex.vars[this.config.storeCartVariable]){this.state=JSON.parse(bouncex.vars[this.config.storeCartVariable]);return this.state}else return{}},getCount:function(){return bouncex.vars[this.config.cartCountVariable]},inferCount:function(cart){if(bouncex.utils.validate.integer(cart.count))return parseInt(cart.count);
else if(cart.items){var count=0;for(var i=0;i<cart.items.length;i++){var qty=parseInt(cart.items[i].qty)||1;count+=qty}return count}else if(bouncex.utils.validate.integer(this.getCount()))return parseInt(this.getCount());else return 0},parseCartParam:function(bx_cart){if(bx_cart.charAt(0)!=="{")bx_cart=atob(bx_cart);return JSON.parse(bx_cart)},tryReplenishment:function(){var bx_cart=bouncex.utils.getParam("bx_cart");var cart={};this.replenishing=false;if(!bx_cart)return false;try{cart=this.parseCartParam(bx_cart)}catch(e){bouncex.err(e);
this.setReplenishmentReportingStatus("BX_CART_MALFORMED");return false}if(!this.validateReplenishment(cart)){if(typeof this.returnCode==="undefined")this.setReplenishmentReportingStatus("BX_CART_REJECTED_UNKNOWN_REASON");return false}this.save(cart);this.replenishing=true;this.setReplenishmentReportingStatus("BX_CART_VALID");return this.replenish(cart)},replenish:function(cart){bouncex.et.log("Replenish function not defined");return null},replenishmentSuccessful:function(){return this.getCount()>
0},save:function(cart){if(!cart)return false;this.state=cart;var cartCopy=jQuery.extend(true,{},cart);if(this.config.storeCartVariable){var storedCart={};if(cartCopy.count===0)storedCart={count:0};else for(var i=0;i<this.config.storeValues.length;i++){var k=this.config.storeValues[i];if(cartCopy.hasOwnProperty(k))storedCart[k]=cartCopy[k]}this.saveToVariable(storedCart)}},saveToVariable:function(storedCart){var cartString=JSON.stringify(storedCart);if(cartString.length<=this.config.maxVariableSize){bouncex.setv(this.config.storeCartVariable,
cartString);setBounceCookie()}else if(storedCart.items&&storedCart.items.length){var lastItemLength=JSON.stringify(storedCart.items[storedCart.items.length-1]).length;if(lastItemLength>=this.config.maxVariableSize)storedCart.items.pop();else storedCart.items.shift();this.saveToVariable(storedCart)}},track:function(cart){var trackCart=jQuery.extend({},cart);if(trackCart.items)trackCart.items=JSON.stringify(trackCart.items);if(trackCart.ids)trackCart.ids=trackCart.ids.join(",");trackCart=bouncex.utils.addNamespace(trackCart,
"cart");bouncex.push(["cart",trackCart])},update:function(cart){if(this.replenishing)return false;if(cart.newItem){var oldCart=this.getCart();var allItems=oldCart.items||[];allItems.push(cart.newItem);cart.items=allItems}if(this.config.maxItems&&cart.items&&cart.items.length>this.config.maxItems)cart.items=cart.items.slice(cart.items.length-this.config.maxItems);cart.count=this.inferCount(cart);if(!cart.ids&&cart.items){var ids=[];for(var i=0;i<cart.items.length;i++)if(cart.items[i].id)ids.push(cart.items[i].id);
if(ids.length)cart.ids=ids}if(cart.newItem||cart.addToCart)bouncex.push(["add to cart",{}]);delete cart.newItem;delete cart.addToCart;this.save(cart);this.track(cart)},validateReplenishment:function(cart){var cartCount=this.getCount();if(bouncex.utils.validate.integer(cartCount)&&cartCount>0){this.setReplenishmentReportingStatus("BX_CART_ITEMS_ALREADY_IN_CART");return false}if(!cart){this.setReplenishmentReportingStatus("BX_CART_MALFORMED");return false}if(!cart.value&&!cart.token&&!cart.items){this.setReplenishmentReportingStatus("BX_CART_MISSING_DATA");
return false}return true},reportReplenishment:function(){var cart=this.getCart();var bx_cart=bouncex.utils.getParam("bx_cart");if(bx_cart)try{cart=this.parseCartParam(bx_cart)}catch(e){bouncex.err(e)}var properties={"cart:replentype":this.replenishmentType};if(cart.ids)properties["cart:ids"]=cart.ids;if(cart.date)properties["cart:date"]=cart.date;if(cart.items)properties["cart:items"]=JSON.stringify(cart.items);if(cart.eid)properties["cart:eventid"]=cart.eid;if(bx_cart){properties["cart:returncode"]=
this.returnCode;properties["cart:count"]=this.getCount();if(this.returnCode>0){if(this.failureMessage)properties["cart:failuremessage"]=this.failureMessage;bouncex.push(["cart replenish abort",properties])}else bouncex.push(["cart replenish attempt",properties])}else if(this.replenishmentComplete){function reportReplenishmentComplete(){properties["cart:success"]=this.replenishmentSuccessful();properties["cart:count"]=this.getCount();if(!properties["cart:success"])this.setReplenishmentReportingStatus("BX_REPLEN_FAILURE");
else this.setReplenishmentReportingStatus("BX_REPLEN_SUCCESS");if(this.failureMessage)properties["cart:failuremessage"]=this.failureMessage;properties["cart:returncode"]=this.returnCode;bouncex.push(["cart replenish",properties])}setTimeout(reportReplenishmentComplete.bind(this),1100)}}},item:{requirements:[{name:"id"},{name:"copy"},{name:"url",tests:[function(url){return bouncex.utils.validate.url(url)}]},{name:"imageurl",tests:[function(url){return bouncex.utils.validate.url(url)}]}],requireImageLoad:true,
validate:function(item){var errorMsg="Invalid Item. ";for(var i=0;i<this.requirements.length;i++){var requirement=this.requirements[i];if(!item["item:"+requirement.name]){bouncex.et.log(errorMsg+requirement.name+" empty");return false}if(requirement.tests)for(var j=0;j<requirement.tests.length;j++){var test=requirement.tests[j];var itemValue=item["item:"+requirement.name];if(typeof test=="function"&&!test(itemValue)){bouncex.et.log(errorMsg+"The following "+requirement.name+" failed "+test.name+" test: "+
itemValue);return false}}}return true}}};

function activateGbiCampaign(ca_id){if(bouncex.campaigns[ca_id].gbi.ready)return true;bouncex.gbi.log(ca_id,"activate gbi campaign");bouncex.campaigns[ca_id].gbi.ready=true;if(!bouncex.campaigns[ca_id].gbi.stack_id){bouncex.gbi.log(ca_id,"activating out of stack campaign");campaignEligible(ca_id);activateInstruments(ca_id)}else{var stackId=bouncex.campaigns[ca_id].gbi.stack_id;if(bouncex.gbi.stacks[stackId].leader_id==ca_id&&bouncex.campaigns[ca_id].ttype=="control");else{bouncex.gbi.log(ca_id,"a campaign in the stack is ready, processing stack...");
processGbiStack(stackId)}}}function attachClickReportingToIframe(container,ca_id){bouncex.on(container,"mouseenter.gbi_click_events_"+ca_id,function(){bouncex.on(bouncex.window,"blur.gbi_click_events_"+ca_id,function(){bouncex.report(ca_id,"click",{value:"ad"})})});bouncex.events[ca_id]["gbi_click"]=function(){bouncex.off(bouncex.window,"blur.gbi_click_events_"+ca_id)};bouncex.on(container,"mouseleave.gbi_click_events_"+ca_id,bouncex.events[ca_id]["gbi_click"])}
function canShowGbi(){var div=document.createElement("div");div.innerHTML="&nbsp;";div.className=bouncex.lz.decompressFromURI("IYEwzgRgNg9gxgayA");document.body.appendChild(div);var height=div.offsetHeight;document.body.removeChild(div);return height!==0}
function clearGbiStackCampaigns(stackId,winner_ca_id){bouncex.gbi.log(false,"clearing other campaigns...");var stackCampaigns=bouncex.gbi.stacks[stackId].campaigns;for(var priority in stackCampaigns)if(stackCampaigns.hasOwnProperty(priority)){var cca_id=stackCampaigns[priority];if(cca_id!=winner_ca_id){bouncex.gbi.cancelRequest(cca_id);bouncex.destroy_ad(cca_id,true)}}}
function deactivateGbiCampaign(ca_id){if(bouncex.events[ca_id]["gbiRequest"])clearInterval(bouncex.events[ca_id]["gbiRequest"]);bouncex.gbi.log(ca_id,"deactivate gbi campaign");bouncex.campaigns[ca_id].failed=true;bouncex.campaigns[ca_id].gbi.ready=false}
function finishGbiStack(stackId,success){bouncex.gbi.stacks[stackId].failed=false;clearInterval(bouncex.events[bouncex.gbi.stacks[stackId].leader_id]["gbiStack"]);delete bouncex.events[bouncex.gbi.stacks[stackId].leader_id]["gbiStack"];var hasControlLeader=bouncex.campaigns[bouncex.gbi.stacks[stackId].leader_id].ttype=="control";if(!success){bouncex.gbi.stacks[stackId].failed=true;if(hasControlLeader)selectAdStackCampaign(bouncex.gbi.stacks[stackId].leader_id)}bouncex.gbi.log(false,"done looking at stack ["+
stackId+"] "+(bouncex.gbi.stacks[stackId].failed?"failed":"success"))}
function initGbiStack(stackId,timeout){bouncex.gbi.log(false,"Starting stack ["+stackId+"]");var stack=bouncex.gbi.stacks[stackId];stack.started=true;if(!bouncex.events[stack.leader_id])bouncex.events[stack.leader_id]={};bouncex.events[stack.leader_id]["gbiStack"]=setTimeout2(function(){if(processGbiStack(stackId));else if(stack.processCount>9){bouncex.gbi.log(false,"stack ["+stackId+"]: ran out of tries");finishGbiStack(stackId,false)}else if(!stack.finished){bouncex.gbi.log(false,"stack ["+stackId+
"]: no winners yet. Trying again...");initGbiStack(stackId,1E3)}},timeout)}
function processGbiStack(stackId){var stack=bouncex.gbi.stacks[stackId];if(stack.finished){bouncex.gbi.log(false,"stack ["+stackId+"] already finished");return false}var stack=bouncex.gbi.stacks[stackId];stack.processCount=stack.processCount||0;stack.processCount++;bouncex.gbi.log(false,"processing stack ["+stackId+"] ("+stack.processCount+") ...");var stackCampaigns=stack.campaigns;stack.failedCount=0;for(var priority in stackCampaigns)if(stackCampaigns.hasOwnProperty(priority)){var ca_id=stackCampaigns[priority];
var ca=bouncex.campaigns[ca_id];if(ca.failed){stack.failedCount++;bouncex.gbi.log(ca_id,"has failed")}else if(ca.ttype=="control"&&ca_id==stack.leader_id)stack.failedCount++;else if(!ca.gbi.ready&&ca.gbi.config&&ca.gbi.config.stackWeight&&ca.gbi.config.stackWeight>stack.processCount){bouncex.gbi.log(ca_id,"campaign with weight of "+ca.gbi.config.stackWeight+" didn't have enough time");return false}else if(ca.gbi.ready){selectAdStackCampaign(ca_id);finishGbiStack(stackId,true);return true}else bouncex.gbi.log(ca_id,
"not ready ")}if(stack.failedCount===stackCampaigns.length){bouncex.gbi.log(false,"stack ["+stackId+"]: all campaigns have failed");finishGbiStack(stackId,false)}else return false;return false}
function selectAdStackCampaign(ca_id){var stackId=bouncex.campaigns[ca_id].gbi.stack_id;bouncex.gbi.stacks[stackId].finished=true;bouncex.gbi.log(ca_id,"selected");campaignEligible(ca_id);initActivationInstruments(ca_id);bouncex.gbi.stacks[stackId].selectedCampaign=ca_id;clearGbiStackCampaigns(stackId,ca_id)}
bouncex.gbi={wrapContentInIframe:function(container,payloadHTML,ca_id){var campaign=bouncex.campaigns[ca_id];var shrinkToFitEnabled=campaign.gbi&&(campaign.gbi.config.shrinkToFit||campaign.gbi.config.shrinkToFitWindow);var iframeBodyStyles="-webkit-transform-origin: 0 0; transform-origin: 0 0; max-width: 100%; max-height: 100%;";var provider=campaign.gbi.provider;var ratio=1;var gbiFrameDoc;container.find("iframe").remove();if(shrinkToFitEnabled&&(campaign.type==="overlay"||campaign.type==="agilityzone")){var resizeData=
bouncex.gbi.getResizeData(ca_id);ratio=resizeData.scaleRatio;if(ratio<1){iframeBodyStyles+="-webkit-transform: scale("+ratio+"); transform: scale("+ratio+");";container.css({"width":resizeData.scaledWidth+"px","height":resizeData.scaledHeight+"px"})}}var gbiFrame=createIframe({target:"_blank","class":"bx-gbi-frame",frameborder:"0",horizontalscrolling:"no",verticalscrolling:"no",width:"100%",height:"100%",vspace:"0",hspace:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowTransparency:"true"});
container.append(gbiFrame);try{gbiFrameDoc=gbiFrame.contentWindow.document;gbiFrameDoc.open();gbiFrameDoc.write('<html><head><base target="_blank"/></head><body marginwidth="0" marginheight="0" style="'+iframeBodyStyles+'">'+payloadHTML+"</body>");gbiFrameDoc.close()}catch(err){bouncex.gbi.log(ca_id,"error creating gbi frame: "+err)}return gbiFrameDoc},init:function(ca_id){bouncex.campaigns[ca_id].gbi.impressionPixels=new Array;bouncex.campaigns[ca_id].gbi.clickPixels=new Array},fail:function(ca_id,
msg){bouncex.campaigns[ca_id].failed=true;this.clearRequestAssets(ca_id);this.log(ca_id,msg,true)},log:function(ca_id,msg,fail){var campaign=ca_id?"("+ca_id+")":"";var provider="("+(bouncex.campaigns[ca_id]?bouncex.campaigns[ca_id].gbi.provider||"no provider":"stack")+")";bouncex.log("%c gbi "+campaign+provider+": "+msg,"color: "+(fail?"#FF0000":"#00F"))},request:function(ca_id){bouncex.gbi.init(ca_id);var api=bouncex.gbi.providerApi[bouncex.campaigns[ca_id].gbi.provider];if(!api)bouncex.gbi.fail(ca_id,
"undefined provider "+bouncex.campaigns[ca_id].gbi.provider);try{if(api.initDemoAd)api.initDemoAd(ca_id);else if(api.request)api.request(ca_id);else bouncex.gbi.fetch(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},fetch:function(ca_id){var api=bouncex.gbi.providerApi[bouncex.campaigns[ca_id].gbi.provider];return bouncex.gbi.doAjaxRequest(ca_id,api.getFetchOptions(ca_id))},doAjaxRequest:function(ca_id,options){bouncex.campaigns[ca_id].gbi.ajaxRequest=bouncex.utils.doAjaxRequest(options)},report:function(ca_id,
eventname,extra){bouncex.gbi.log(ca_id,'reporting event "'+eventname+'"');var extra=extra||{};if(bouncex.campaigns[ca_id].gbi.provider){var pixels="";if(eventname=="pop"){if(bouncex.campaigns[ca_id].gbi.impressionPixels&&bouncex.campaigns[ca_id].gbi.impressionPixels.length>0)pixels+=bouncex.campaigns[ca_id].gbi.impressionPixels.join("")}else if(eventname=="click"){if(bouncex.campaigns[ca_id].gbi.clickPixels&&bouncex.campaigns[ca_id].gbi.clickPixels.length>0)pixels+=bouncex.campaigns[ca_id].gbi.clickPixels.join("");
if(!extra.value)extra.value="nonad"}if(pixels)if(bouncex.campaigns[ca_id].gbi.provider=="oubr"){var config=bouncex.campaigns[ca_id].gbi.config;var options={url:bouncex.campaigns[ca_id].gbi.impressionPixels[0],method:"GET",timeout:15E3,beforeSend:function(xhr){xhr.setRequestHeader("Authorization","API_KEY "+config["API_KEY"])},success:function(response){bouncex.gbi.log(ca_id,'reporting provider pixel for "'+eventname+'"')},error:function(XHR,textStatus,errorThrown){bouncex.gbi.log(ca_id,'error for reporting provider pixel for "'+
eventname+'"')}};bouncex.gbi.doAjaxRequest(ca_id,options)}else{jQuery(pixels).hide().appendTo(bouncex.body);bouncex.gbi.log(ca_id,'reporting provider pixel for "'+eventname+'"')}}var stackId=bouncex.campaigns[ca_id].gbi.stack_id;if(stackId&&(eventname=="eligible"||eventname=="pop")){var stack=bouncex.gbi.stacks[stackId];var stackCampaigns=stack.campaigns;var controlLeader=bouncex.campaigns[stack.leader_id].ttype=="control";for(var priority in stackCampaigns){var stackCaId=stackCampaigns[priority];
var isStackSelf=stackCaId==ca_id;var isStackLeader=stackCaId==bouncex.gbi.stacks[stackId].leader_id;if(eventname=="pop"&&!isStackSelf&&isStackLeader)noteCookieAdShown(stackCaId);if(eventname=="eligible"&&(isStackSelf||isStackLeader)||eventname=="pop"&&isStackSelf)buildReport(stackCaId,eventname,extra);if(eventname=="pop"){var newEventname="trypop";var moreExtra={};moreExtra["trypop:provider"]=bouncex.campaigns[stackCaId].gbi.provider||"none";if(extra&&extra["pop:activation"])moreExtra["activation"]=
extra["pop:activation"];buildReport(stackCaId,newEventname,moreExtra)}if(isStackSelf)break}}else buildReport(ca_id,eventname,extra)},requestCompleteMultiple:function(ca_id,html,onsuccess){var ca=bouncex.campaigns[ca_id];bouncex.gbi.log(ca_id,"have a bid with multiple units");var api=bouncex.gbi.providerApi[ca.gbi.provider];api.buildHTML(ca_id,ca.gbi.lastResponse);loadImages(ca.images,function(){bouncex.gbi.log(ca_id,"images loaded");activateGbiCampaign(ca_id);if(onsuccess)onsuccess()})},requestCompleteSingle:function(ca_id,
html,onsuccess){bouncex.gbi.log(ca_id,"have a bid with a single unit");var campaign=bouncex.campaigns[ca_id];var container=campaign.obj1.find(".bx-step-"+(campaign.gbi.step||1)).find(".bx-group-placeholder").eq(0);var provider=campaign.gbi.provider;if(provider=="index"||provider=="pbm"||provider=="dfphtml")html+=bouncex.gbi.integrations.moat.display.getScriptTag({website:window.location.host+" ("+bouncex.website.id+")",deviceType:bouncex.state.mobile?"mobile":"desktop",trigger:campaign.trigger,adSize:campaign.gbi.config.units&&
campaign.gbi.config.units[0]||"unknown",placement:campaign.type==="overlay"?campaign.type:campaign.subtype});var frameDoc=bouncex.gbi.wrapContentInIframe(container,html,ca_id);if(!frameDoc)return bouncex.gbi.fail(ca_id,"failed to wrap content in iframe: check for missing placeholder group");attachClickReportingToIframe(container,ca_id);loadImages(jQuery(frameDoc).find("img").filter(":visible"),function(){bouncex.gbi.log(ca_id,"image loaded");activateGbiCampaign(ca_id);if(onsuccess)onsuccess()})},
requestCompleteSingleVideo:function(ca_id,vastData){bouncex.gbi.log(ca_id,"have a bid with a single vast unit");var ca=bouncex.campaigns[ca_id];var playerConfig=bouncex.gbi.getPlayerConfig(ca_id,vastData);var container=ca.obj1.find(".bx-step-"+(ca.gbi.step||1)).find(".bx-group-placeholder").eq(0);var shrinkToFitEnabled=ca.gbi.config.shrinkToFit||ca.gbi.config.shrinkToFitWindow;var isOverlayOrInlineZone=ca.type==="overlay"||ca.type==="agilityzone";if(shrinkToFitEnabled&&isOverlayOrInlineZone){var resizeData=
bouncex.gbi.getResizeData(ca_id);if(resizeData.scaleRatio<1){playerConfig.width=resizeData.scaledWidth;playerConfig.height=resizeData.scaledHeight;container.css({width:resizeData.scaledWidth,height:resizeData.scaledHeight})}}bouncex.gbi.initVideoFrame(ca_id,container,playerConfig)},initVideoFrame:function(ca_id,container,playerConfig){var campaign=bouncex.campaigns[ca_id];var iframeHtml='<html><body style="margin: 0px; overflow: hidden;"><div id="bx-video"></div></body></html>';var jwPlayerSource=
"//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/8.3.0/jwplayer.js";var jwPlayerKey="o8z/iG2QyTbuWcdH2vCzMM0waC0nOAeJ9/gVcpFiPZ+tv1+5";var moat=bouncex.gbi.integrations.moat;var containerWidth=container.width();var containerHeight=container.height();var jwScriptTag,videoFrame,iframeWindow,jwPlayerFailed;container.empty();videoFrame=createIframe({"class":"bx-gbi-frame",style:"border: 0; width: "+containerWidth+"px; height: "+containerHeight+"px;"});playerConfig.width=containerWidth;playerConfig.height=
containerHeight;container.append(videoFrame);iframeWindow=videoFrame.contentWindow;if(bouncex.browser.firefox){iframeWindow.oldGetComputedStyle=iframeWindow.getComputedStyle;iframeWindow.getComputedStyle=function(el,pseudoEl){var result=iframeWindow.oldGetComputedStyle(el,pseudoEl);return result===null?{}:result}}iframeWindow.document.write(iframeHtml);jwScriptTag=iframeWindow.document.createElement("script");jwScriptTag.setAttribute("src",jwPlayerSource);jwScriptTag.onload=function(){bouncex.gbi.log(ca_id,
"jwplayer script loaded");if(iframeWindow.jwplayer){bouncex.gbi.log(ca_id,"jwplayer executed");iframeWindow.jwplayer.key=jwPlayerKey;iframeWindow.player=campaign.gbi.player=iframeWindow.jwplayer("bx-video");campaign.gbi.player.setup(playerConfig);campaign.gbi.player.on("adClick",function(){bouncex.report(ca_id,"click",{value:"ad"})});campaign.gbi.player.on("adError",function(data){bouncex.gbi.log(ca_id,data.message?"ad error: "+data.message:"ad error")});campaign.gbi.contentLoaded=true;moat.video.loadPlugin(ca_id)}else bouncex.gbi.fail(ca_id,
"jwplayer failed to execute")};jwScriptTag.onerror=function(){jwPlayerFailed=true;bouncex.gbi.fail(ca_id,"jwplayer script failed to load")};iframeWindow.document.body.appendChild(jwScriptTag)},getPlayerConfig:function(ca_id,vastData){var campaign=bouncex.campaigns[ca_id];var playerConfig=campaign.gbi.config.videoPlayerConfig||{};var isInlineVast=/^[\s]*<VAST/i.test(vastData);var vastKey=isInlineVast?"vastxml":"tag";var $adPlaceholder=campaign.obj1.find(".bx-group-placeholder").eq(0);playerConfig.file=
"//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/blank.mp4";playerConfig.advertising=playerConfig.advertising||{};playerConfig.advertising.client="vast";playerConfig.advertising.vpaidcontrols=true;playerConfig.advertising[vastKey]=vastData;playerConfig.mute=true;playerConfig.width=playerConfig.width||$adPlaceholder.width();playerConfig.height=playerConfig.height||$adPlaceholder.height();campaign.gbi.config.playOnImpression=true;campaign.gbi.config.videoPlayerConfig=playerConfig;return playerConfig},
addFullVideoSupport:function(impression){if(!impression.video)return impression;impression.video.mimes=impression.video.mimes||[];if(impression.video.mimes.indexOf("video/mp4")===-1)impression.video.mimes.push("video/mp4");if(impression.video.mimes.indexOf("application/javascript")===-1)impression.video.mimes.push("application/javascript");return impression},cancelRequest:function(ca_id){var campaign=bouncex.campaigns[ca_id];if(campaign.gbi.ajaxRequest){bouncex.gbi.log(ca_id,"cancelling request");
campaign.gbi.ajaxRequest.abort()}bouncex.gbi.init(ca_id)},clearRequestAssets:function(ca_id){if(bouncex.events[ca_id]["gbiRequest"]){clearInterval(bouncex.events[ca_id]["gbiRequest"]);delete bouncex.events[ca_id]["gbiRequest"]}},getResizeDataForV2:function(ca_id){return bouncex.gbi.getResizeData(ca_id)},getResizeData:function(ca_id){var ca=bouncex.campaigns[ca_id];var config=bouncex.campaigns[ca_id].gbi.config;var unitSize;var extraPadding=((parseInt(ca.obj1.find(".bx-wrap").css("padding-left"),10)||
0)+(parseInt(ca.obj1.find(".bx-align").css("padding-left"),10)||0))*2;var scaleRatio=1;if(ca.gbi.isVideo)unitSize={w:config.videoPlayerConfig.width,h:config.videoPlayerConfig.height};else unitSize=config.imp[0].banner;if(ca.type==="agilityzone"&&ca.calloutTarget.length)scaleRatio=(ca.calloutTarget.width()-extraPadding)/unitSize.w;else if(ca.type==="overlay"){var widthRatio=(bouncex.wndsize().width-extraPadding)/unitSize.w;var heightRatio=(bouncex.wndsize().height-extraPadding)/unitSize.h;scaleRatio=
widthRatio>heightRatio?heightRatio:widthRatio}return{scaleRatio:scaleRatio,scaledWidth:unitSize.w*scaleRatio,scaledHeight:unitSize.h*scaleRatio}},getCreativeDimensions:function(ca_id){var creative=jQuery("#bx-creative-"+ca_id);creative.css("max-width","none");return{width:creative.width(),height:creative.height()}},shrinkToFitWindow:function(ca_id){var creativeDimensions=bouncex.gbi.getCreativeDimensions(ca_id);var windowSize=bouncex.wndsize();var windowPadding=12;windowSize.width-=windowPadding;
windowSize.height-=windowPadding;var widthRatio=creativeDimensions.width>windowSize.width?windowSize.width/creativeDimensions.width:1;var heightRatio=creativeDimensions.height>windowSize.height?windowSize.height/creativeDimensions.height:1;var ratio=widthRatio>heightRatio?heightRatio:widthRatio;if(ratio<1)bouncex.campaigns[ca_id].obj1.find(".bx-slab").css({width:creativeDimensions.width+windowPadding+"px",height:creativeDimensions.height+windowPadding+"px",overflow:"visible",top:"50%",left:"50%",
transform:"scale("+ratio+") translate(-50%, -50%)",transformOrigin:"0 0"})},shrinkToFitParent:function(ca_id){var creativeDimensions=bouncex.gbi.getCreativeDimensions(ca_id);var containerWidth=bouncex.campaigns[ca_id].obj1.parent().width();var widthRatio=creativeDimensions.width>containerWidth?containerWidth/creativeDimensions.width:1;if(widthRatio<1)bouncex.campaigns[ca_id].obj1.find(".bx-slab").css({width:creativeDimensions.width*widthRatio+"px",height:creativeDimensions.height*widthRatio+"px",
transform:"scale("+widthRatio+")",transformOrigin:"0 0"})},populateTemplate:function(ca_id,response,unitJsonPath,imageJsonPath){var creative=jQuery("#bx-creative-"+ca_id);var creativeClone=creative.clone(true);var templateGroups=creativeClone.find(".bx-group-placeholder");var groupLength=templateGroups.length;for(var k=0;k<groupLength;k+=1){var unit=eval(unitJsonPath+"[k];");var templateGroup=jQuery(templateGroups[k]);if(templateGroup.length)if(unit){var image=eval("unit."+imageJsonPath);templateGroup.find(".bx-lineshape").css("background-image",
"url("+image+")");bouncex.campaigns[ca_id].images.push(image);var html=templateGroup.html();html=html.replace(/{(.*?)}/gi,function(query,keyword){var content=eval("unit."+keyword);if(typeof content!=="undefined")return content});templateGroup.html(html)}else templateGroup.remove()}var html=creativeClone.html();html=html.replace(/{(.*?)}/gi,function(query,keyword){try{return eval("response."+keyword)}catch(err){return keyword}});creativeClone.html(html);creative.replaceWith(creativeClone)},generateDynamicRequestUrlParams:function(ca_id){var config=
bouncex.campaigns[ca_id].gbi.config;var dynamicQueryStr="";var dynamicParams=config.dynamic_request_params;if(dynamicParams)for(var param in dynamicParams)try{dynamicQueryStr+="&"+param+"="+encodeURIComponent(eval(dynamicParams[param]))}catch(e){bouncex.gbi.log("invalid dynamic request param "+param+" must have valid javascript as value")}return dynamicQueryStr},requestAndRefreshRequest:function(ca_id){var ca=bouncex.campaigns[ca_id];var api=bouncex.gbi.providerApi[ca.gbi.provider];ca.gbi.requestNum=
1;api.fetch(ca_id);bouncex.events[ca_id]["gbiRequest"]=setInterval2(function(){if(!can_show_ad(ca_id)&&!bouncex.campaigns[ca_id].failed){clearInterval(bouncex.events[ca_id]["gbiRequest"]);bouncex.gbi.log(ca_id,"clearing interval");return}bouncex.gbi.init(ca_id);ca.gbi.requestNum++;api.fetch(ca_id)},ca.gbi.config.reload||60*3*1E3)},playVideoBeforeImpression:function(type,ca_id){var campaign=bouncex.campaigns[ca_id];var player=campaign.gbi.player;player.on("adImpression",function(){player.off("adImpression");
player.off("adError");bouncex.gbi.log(ca_id,"video response detected");campaign.gbi.videoResponseLoaded=true;show_ad(type,ca_id)});player.on("adError",function(data){player.off("adImpression");player.off("adError");player.stop();bouncex.gbi.fail(ca_id,data.message?data.message:"error loading response")});player.play()}};
bouncex.gbi.integrations={moat:{display:{scriptSrc:document.location.protocol+"//z.moatads.com/bounceexchangedisplay18031701869/moatad.js",getScriptTag:function(params){if(shouldEnforcePolicies({gdpr:true})){bouncex.log("GDPR: MOAT script blocked");return""}var queryString=qs({moatClientLevel1:params.website,moatClientLevel2:params.deviceType,moatClientLevel3:params.trigger,moatClientLevel4:params.adSize,zMoatPlacement:params.placement});return'<script src="'+this.scriptSrc+"?"+queryString+'" type="text/javascript">\x3c/script>'}},
video:{scriptSrc:document.location.protocol+"//z.moatads.com/jwplayerplugin0938452/moatplugin.js",partnerCode:"bouncexjsvideojwplayer997111196347",loadPlugin:function(campaignId){if(shouldEnforcePolicies({gdpr:true})){bouncex.log("GDPR: MOAT script blocked");return""}var self=this;getScript(self.scriptSrc,function(){self.addImpressionListener(campaignId)})},addImpressionListener:function(campaignId){var campaign=bouncex.campaigns[campaignId];var self=this;campaign.gbi.player.on("adImpression",function(eventData){moatjw.add({partnerCode:self.partnerCode,
player:this,adImpressionEvent:eventData,ids:{level1:window.location.host+" ("+bouncex.website.id+")",level2:bouncex.state.mobile?"mobile":"desktop",level3:campaign.trigger,level4:"video",slicer1:campaign.type==="overlay"?campaign.type:campaign.subtype},duration:30})})}}},tag:{intermediaryId:"869cff86d1c453c1",generateId:function(){return this.intermediaryId+":"+bouncex.website.id}}};
bouncex.gbi.providerApi={aqbx:{initDemoAd:function(ca_id){var configObj;try{configObj=bouncex.campaigns[ca_id].gbi.config.imp[0]}catch(err){bouncex.gbi.fail(ca_id,"no creative dimensions have been set for this ad!")}if(configObj.video!==undefined){var aqbxVast='<VAST version="2.0"><Ad><InLine><AdSystem>Acudeo Compatible</AdSystem><AdTitle>VAST 2.0 AQBX</AdTitle><Description>VAST 2.0 AQBX</Description><Creatives><Creative><Linear><Duration>00:00:21</Duration><MediaFiles><MediaFile delivery="progressive" type="video/mp4" bitrate="500" width="400" height="300" scalable="true" maintainAspectRatio="true">https://'+
bouncex.website.biu+"/assets/global/videos/pub/demo/ads_demo_video.mp4</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>";bouncex.campaigns[ca_id].gbi.isVideo=true;bouncex.gbi.requestCompleteSingleVideo(ca_id,aqbxVast);bouncex.gbi.log(ca_id,"aqbx video ad loaded");activateGbiCampaign(ca_id)}else{var impDimensions=configObj.banner;var demoImgWidth=impDimensions.w;var demoImgHeight=impDimensions.h;var demoImgUrl="https://"+bouncex.website.biu+"/assets/global/images/pub/demo"+
demoImgWidth+"x"+demoImgHeight+".gif";var gbiHTML='<a><img height="'+demoImgHeight+'" width="'+demoImgWidth+'" src="'+demoImgUrl+'"/></a>';bouncex.campaigns[ca_id].gbi.html=gbiHTML;activateGbiCampaign(ca_id)}}},an:{getFetchOptions:function(ca_id){var self=this;var config=bouncex.campaigns[ca_id].gbi.config;var options={url:config.request_url,type:"POST",dataType:"json",processData:false,timeout:config.timeout||255,success:function(response){var gbiHTML=self.processResponse(ca_id,response);if(!gbiHTML)return bouncex.gbi.fail(ca_id,
"no bid");bouncex.gbi.requestCompleteSingle(ca_id,gbiHTML)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,textStatus)}};return options},processResponse:function(ca_id,response){if(response&&response.status=="ok")try{var resLength=response["native"].length;if(resLength>0){var html="";for(var i=0;i<resLength;i++){bouncex.campaigns[ca_id].gbi.clickPixels.push('<img src="'+response["native"][i].click_trackers+'"/>');var impressionTrackerLength=response["native"][i].impression_trackers.length;
if(impressionTrackerLength>0)for(var j=0;j<impressionTrackerLength;j++)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+response["native"][i].impression_trackers[j]+'"/>');html+='<a href="'+response["native"][i].click_url+'"><img height="100%" width="100%" title="';html+=response["native"][i].title+'" src="'+response["native"][i].main_media[0].url+'"/></a>'}return html}}catch(err){bouncex.gbi.fail(ca_id,err)}return""}},dfpi:{getFetchOptions:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;
var self=this;var options={url:config.request_url+"&c="+getTime2()+bouncex.gbi.generateDynamicRequestUrlParams(ca_id),type:"GET",dataType:"json",processData:false,timeout:config.timeout||1E3,success:function(response){var gbiHTML=self.processResponse(ca_id,response);if(!gbiHTML)return bouncex.gbi.fail(ca_id,"no bid");bouncex.gbi.requestCompleteSingle(ca_id,gbiHTML)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}};return options},processResponse:function(ca_id,
response){if(response&&response.main_media)try{var impressionTrackerLength=response.impression_trackers.length;if(impressionTrackerLength>0)for(var i=0;i<impressionTrackerLength;i++)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+response.impression_trackers[i]+'"/>');var clickTrackerLength=response.click_trackers.length;if(clickTrackerLength>0)for(var i=0;i<clickTrackerLength;i++)bouncex.campaigns[ca_id].gbi.clickPixels.push('<img src="'+response.click_trackers[i]+'"/>');var mediaLength=
response.main_media.length;if(mediaLength>0){var html="";for(var i=0;i<mediaLength;i++){html+='<a href="'+response.click_url+'"><img height="100%" width="100%" title="';html+=response.title+'" src="'+response.main_media[i].url+'"/></a>'}return html}}catch(err){bouncex.gbi.fail(ca_id,err)}return""}},dfps:{getFetchOptions:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;var self=this;var options={url:config.request_url+"&c="+getTime2()+bouncex.gbi.generateDynamicRequestUrlParams(ca_id),
type:"GET",dataType:"json",processData:false,timeout:config.timeout||1E3,success:function(response){var gbiHTML=self.processResponse(ca_id,response);if(!gbiHTML)return bouncex.gbi.fail(ca_id,"no bid");bouncex.gbi.requestCompleteSingle(ca_id,gbiHTML)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}};return options},processResponse:function(ca_id,response){if(response&&response.main_media)try{var impressionTrackerLength=response.impression_trackers.length;if(impressionTrackerLength>
0)for(var i=0;i<impressionTrackerLength;i++)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+response.impression_trackers[i]+'"/>');var mediaLength=response.main_media.length;if(mediaLength>0){var html="";for(var i=0;i<mediaLength;i++)html+=response.main_media[i].url;return html}}catch(err){bouncex.gbi.fail(ca_id,err)}return""}},dfphtml:{getFetchOptions:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;var options={url:config.request_url+"&c="+getTime2()+bouncex.gbi.generateDynamicRequestUrlParams(ca_id),
method:"GET",global:false,processData:false,timeout:config.timeout||1E3,complete:function(response,status){if(status=="success")if(response.status===200){var gbiHTML=response.responseText;if(!gbiHTML)return bouncex.gbi.fail(ca_id,"no bid");bouncex.campaigns[ca_id].gbi.html=gbiHTML;activateGbiCampaign(ca_id)}else bouncex.gbi.fail(ca_id,"response status "+response.status);else return bouncex.gbi.fail(ca_id,status+" "+response.status)}};return options}},crit:{getFetchOptions:function(ca_id,action){var self=
this;var config=bouncex.campaigns[ca_id].gbi.config;var options={url:config.endpoint+"/recommendations.get",data:config,dataType:"jsonp",method:"GET",timeout:15E3,success:function(response){if(self.processResponse(ca_id,response))activateGbiCampaign(ca_id)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}};return options},processResponse:function(ca_id,response){if(response&&response.response_status===0)try{return this.populatePixel(ca_id,response)&&this.populateCreative(ca_id,
response)}catch(err){bouncex.gbi.fail(ca_id,err)}else{if(response&&response.status_message)bouncex.gbi.fail(ca_id,"Bad response: "+response.status_message);else bouncex.gbi.fail(ca_id,"No bid");return false}},populatePixel:function(ca_id,response){var pixels=response.impression_pixels;var pixelLength=pixels.length;for(var k=0;k<pixelLength;k+=1)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+pixels[k].url+'"/>');return true},populateCreative:function(ca_id,response){bouncex.gbi.populateTemplate(ca_id,
response,"response.products","image.url");return true}},tabr:{getFetchOptions:function(ca_id,action){var self=this;var config=bouncex.campaigns[ca_id].gbi.config;config["source.id"]=window.location.pathname;config["source.url"]=window.location.href;config["rec.visible"]=false;config["user.session"]="init";config["app.type"]="desktop";var options={url:config.endpoint_domain+"/1.1/json/"+config["publisher-name"]+"/recommendations.get",data:config,dataType:"json",method:"GET",timeout:15E3,success:function(response){if(self.processResponse(ca_id,
response))activateGbiCampaign(ca_id)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}};return options},processResponse:function(ca_id,response){if(!(response&&response.id&&response.list.length>0))return bouncex.gbi.fail(ca_id,"no bid");try{if(!response.list)return bouncex.gbi.fail(ca_id,"no bid");bouncex.campaigns[ca_id].gbi.lastResponse=response;this.getPixels(ca_id,response);return true}catch(err){bouncex.gbi.fail(ca_id,err)}},buildHTML:function(ca_id,response){bouncex.gbi.populateTemplate(ca_id,
response,"response.list","thumbnail[0].url")},getPixels:function(ca_id,response){var config=bouncex.campaigns[ca_id].gbi.config;var impressionPixel=config.endpoint_domain+"/1.1/json/"+config["publisher-name"]+"/recommendations.notify-visible?";impressionPixel+="response.id="+response.id+"&response.session="+response.session;impressionPixel+="&app.type="+(bouncex.state.mobile?"mobile":"desktop")+"&app.apikey="+config["app.apikey"];bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+impressionPixel+
'"/>')}},oubr:{getFetchOptions:function(ca_id,action){var self=this;var config=bouncex.campaigns[ca_id].gbi.config;var options={url:config[config["environment"]+"_endpoint"]+"/recommendations/documents",dataType:"json",method:"GET",data:config.data,timeout:15E3,beforeSend:function(xhr){xhr.setRequestHeader("Authorization","API_KEY "+config["API_KEY"])},success:function(response){if(self.processResponse(ca_id,response))activateGbiCampaign(ca_id)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,
"timed out")}};return options},processResponse:function(ca_id,response){if(!(response&&response.requestId&&response.items&&response.items.length>0))return bouncex.gbi.fail(ca_id,"no bid");try{bouncex.campaigns[ca_id].gbi.lastResponse=response;return this.getPixels(ca_id,response)&&this.populateCreative(ca_id,response)}catch(err){bouncex.gbi.fail(ca_id,err)}},populateCreative:function(ca_id,response){bouncex.gbi.populateTemplate(ca_id,response,"response.items","thumbnail");return true},getPixels:function(ca_id,
response){var config=bouncex.campaigns[ca_id].gbi.config;var impressionPixel=response._actions.reportViewed;bouncex.campaigns[ca_id].gbi.impressionPixels.push(impressionPixel);return true}},index:{request:function(ca_id){var self=this;bouncex.gbi.init(ca_id);try{bouncex.gbi.requestAndRefreshRequest(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},isMultiBidRequest:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;return config.imp.length>1||config.jsonp},getRequestData:function(ca_id){var campaign=
bouncex.campaigns[ca_id];var config=campaign.gbi.config;var pageUrl=document.location.protocol+"//"+document.location.hostname+document.location.pathname;var multiBidParams=this.isMultiBidRequest(ca_id)&&config.params&&config.params.length?"&"+config.params:"";var urlWithParams=updateQS(pageUrl,"deployment",campaign.type,"device",bouncex.state.mobile?"mobile":"desktop")+multiBidParams;if(config.imp&&config.imp.length)for(var i=0;i<config.imp.length;i++)if(config.imp[i].video)config.imp[i]=bouncex.gbi.addFullVideoSupport(config.imp[i]);
var requestData={id:getTime2(),imp:config.imp,site:{page:urlWithParams,ref:bouncex.referrer,mobile:bouncex.state.mobile?1:0}};if(config.dynamic_site_page)requestData.site.page=document.location.protocol+"//"+document.location.hostname+"/"+eval(config.dynamic_site_page);requestData.source={pchain:bouncex.gbi.integrations.tag.generateId()};return requestData},getFetchOptions:function(ca_id){var self=this;var campaign=bouncex.campaigns[ca_id];var config=campaign.gbi.config;var data=self.getRequestData(ca_id);
var deployment=campaign.subtype||(campaign.type==="overlay"?"overlay":"none");var productionEndpoint=bouncex.ssl?"https://as-sec":"http://as";var endpointPrefix=config.production===false?"http://astest":productionEndpoint;var eventData={"partner":campaign.gbi.provider,"partner_site_id":config.s,"request_number":campaign.gbi.requestNum,"deployment":deployment,"requested_ad_units":config.units?config.units.join(", "):"","request_timestamp":getTimeMs(),"deal_id":"NA","price":"NA"};var options={url:endpointPrefix+
".casalemedia.com/cygnus",data:{v:"7",cb:getTimeMs(),s:config.s,r:bouncex.stringify(data)},dataType:"text",contentType:"application/x-www-form-urlencoded",global:false,crossDomain:true,xhrFields:{withCredentials:true},timeout:config.timeout||1E3,complete:function(response,status){self.handleResponse(ca_id,response,status,eventData)}};for(var i=0;i<data.imp.length;i++)if(data.imp[i].video){campaign.gbi.isVideo=true;options.data.v="8.8";options.data.fn="jsonp";break}return options},handleResponse:function(ca_id,
response,status,eventData){var self=this;var campaign=bouncex.campaigns[ca_id];var eventName="bid_error";if(status==="success"&&response.status===200&&response.responseText){var responseText=response.responseText;var responseJson=responseText.substring(responseText.indexOf("(")+1,responseText.lastIndexOf(")"));var bid=self.processResponse(ca_id,responseJson);var dealId=bid&&bid.ext&&bid.ext.dealid;if(dealId)eventData.deal_id=dealId;if(bid&&bid.ext&&bid.ext.pricelevel)eventData.price=this.convertPrice(bid.ext.pricelevel,
dealId);eventName=bid?"bid_fill":"bid_none"}else if(status==="success"&&!response.responseText)eventName="bid_empty";else if(response.status===0)eventName="bid_cancel";bouncex.gbi.report(ca_id,eventName,eventData);if(eventName==="bid_fill"){if(campaign.gbi.isVideo){campaign.gbi.vastUrl=bid.ext&&bid.ext.vasturl;bouncex.gbi.requestCompleteSingleVideo(ca_id,campaign.gbi.vastUrl)}else campaign.gbi.html=bid.adm;campaign.gbi.step=self.isMultiBidRequest(ca_id)?Number(bid.impid):1;bouncex.gbi.log(ca_id,"using step "+
campaign.gbi.step);activateGbiCampaign(ca_id)}else if(eventName==="bid_empty")return bouncex.gbi.fail(ca_id,"empty response");else if(eventName==="bid_none")return bouncex.gbi.fail(ca_id,"no bid");else if(eventName==="bid_error")return bouncex.gbi.fail(ca_id,status+" "+response.status)},fetch:function(ca_id){bouncex.gbi.doAjaxRequest(ca_id,this.getFetchOptions(ca_id))},processResponse:function(ca_id,response){if(response)try{response=bouncex.parseJSON(response);var highest=response.seatbid[0].bid[0];
if(this.isMultiBidRequest(ca_id))for(var i=0;i<response.seatbid.length;i++)for(var j=0;j<response.seatbid[i].bid.length;j++){if(!response.seatbid[i].bid[j].ext.pricelevel)continue;var price=Number(response.seatbid[i].bid[j].ext.pricelevel.substring(1));var high_price=Number(highest.ext.pricelevel.substring(1));if(price>high_price)highest=response.seatbid[i].bid[j]}return highest}catch(err){}return false},getRatio:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;var unitSize=config.imp[0].banner;
var windowSize=bouncex.wndsize();var wratio=1,hratio=1;if(unitSize.w>windowSize.width)wratio=windowSize.width/unitSize.w;if(unitSize.h>windowSize.height)hratio=windowSize.height/unitSize.h;return wratio>hratio?hratio:wratio},convertPrice:function(priceString,dealId){var decimalIndex=priceString.length-2;var charArray=priceString.split("");charArray.splice(decimalIndex,0,".");var formattedString=charArray.join("").replace(/[^0-9.]/g,"");var price=dealId?Number(formattedString):Number(formattedString)/
.85;return price.toFixed(5)}},pbm:{request:function(ca_id){bouncex.gbi.init(ca_id);try{if(this.userSynced())bouncex.gbi.requestAndRefreshRequest(ca_id);else this.syncUser(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},syncUser:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;var userSyncIframe=createIframe({style:"display: none;",src:"//"+config.user_sync_endpoint+"?p="+config.publisher_id});userSyncIframe.onload=function(){sessionStorage.setItem("bxpbmsynced","true");bouncex.gbi.requestAndRefreshRequest(ca_id)};
document.body.appendChild(userSyncIframe)},userSynced:function(){return!!sessionStorage.getItem("bxpbmsynced")},getTagId:function(ca_id,siteId){var campaign=bouncex.campaigns[ca_id];if(campaign.subtype)return{"masthead":"Masthead","endcap":"End_Cap","encore":"Encore","middleofarticle":"Middle_of_Article","skyline":"Skyline"}[campaign.subtype]+"_"+siteId;else if(campaign.type==="overlay")return"Overlay"+"_"+siteId;else return""},getRequestData:function(ca_id){var campaign=bouncex.campaigns[ca_id];
var config=campaign.gbi.config;var siteId=(bouncex.state.mobile?config.mobile_id:config.desktop_id).toString();var requestId=bouncex.cookie.vid+"_"+bouncex.cookie.sid;var requestData=config.isLegacy?config.requestData:{};var impressions=config.isLegacy?config.requestData.imp:config.imp;var tagId=this.getTagId(ca_id,siteId);if(impressions&&impressions.length)for(var i=0;i<impressions.length;i++)if(impressions[i].video)impressions[i]=bouncex.gbi.addFullVideoSupport(impressions[i]);jQuery.extend(requestData,
{id:requestId,site:{id:siteId,name:window.location.hostname,ref:decodeURIComponent(bouncex.referrer),page:decodeURIComponent(bouncex.calling_url),publisher:{id:config.publisher_id}},device:{ua:navigator.userAgent,ip:bouncex.state.vip},imp:impressions.map(function(impression,i){impression.id=getTimeMs().toString()+i;impression.secure=bouncex.ssl?1:0;impression.tagid=tagId;return impression}),at:1,tmax:200});var extraIds=this.getExtraIds();if(extraIds)requestData.user={eids:extraIds};requestData.source=
{pchain:bouncex.gbi.integrations.tag.generateId()};return requestData},getExtraIds:function(){var deviceId=window.bouncex.gbi.deviceOptedStatus;if(deviceId)return[{source:"bxid",uids:[{id:deviceId,atype:1}]}]},getFetchOptions:function(ca_id){var self=this;var campaign=bouncex.campaigns[ca_id];var config=campaign.gbi.config;var data=self.getRequestData(ca_id);var endpoint=(bouncex.ssl?"https://":"http://")+config.endpoint;var impressionCount=data.imp.length;var deployment=campaign.subtype||(campaign.type===
"overlay"?"overlay":"none");var deviceIdIncluded=!!(data.user&&data.user.eids&&data.user.eids[0]&&data.user.eids[0].uids&&data.user.eids[0].uids[0]&&data.user.eids[0].uids[0].id);for(var i=0;i<impressionCount;i++)if(data.imp[i].video){campaign.gbi.isVideo=true;break}var eventData={"partner":campaign.gbi.provider,"partner_site_id":data.site.id,"request_number":campaign.gbi.requestNum,"deployment":deployment,"requested_ad_units":config.units?config.units.join(", "):"","request_timestamp":getTimeMs(),
"device_id_included":deviceIdIncluded,"deal_id":"NA","price":"NA"};var options={url:endpoint,data:bouncex.stringify(data),method:"POST",type:"POST",dataType:"json",timeout:config.timeout||2E3,complete:function(response,status){self.handleResponse(ca_id,response,status,eventData)}};return options},handleResponse:function(ca_id,response,status,eventData){var self=this;var campaign=bouncex.campaigns[ca_id];var eventName="bid_error";if(status==="success"&&response.status===200){var bid=self.processResponse(ca_id,
response.responseText);if(bid&&bid.dealid)eventData.deal_id=bid.dealid;if(bid&&bid.price)eventData.price=bid.price;eventName=bid?"bid_fill":"bid_none"}else if(status==="nocontent"&&response.status===204)eventName="bid_empty";else if(response.status===0)eventName="bid_cancel";bouncex.gbi.report(ca_id,eventName,eventData);if(eventName==="bid_fill"){if(campaign.gbi.isVideo)bouncex.gbi.requestCompleteSingleVideo(ca_id,bid.adm);else campaign.gbi.html=bid.adm;activateGbiCampaign(ca_id)}else if(eventName===
"bid_empty")return bouncex.gbi.fail(ca_id,"empty bid response");else if(eventName==="bid_none")return bouncex.gbi.fail(ca_id,"no bid");else if(eventName==="bid_error")return bouncex.gbi.fail(ca_id,"status "+response.status+": "+status)},fetch:function(ca_id,uid){bouncex.gbi.doAjaxRequest(ca_id,this.getFetchOptions(ca_id))},processResponse:function(ca_id,response){if(response){response=bouncex.parseJSON(response);var bid=response.seatbid[0].bid[0];return bid}return false}},rcl:{request:function(ca_id){bouncex.gbi.init(ca_id);
try{this.init(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},init:function(ca_id){var campaign=bouncex.campaigns[ca_id];campaign.gbi.isVideo=true;campaign.gbi.playBeforeImpression=true;bouncex.gbi.requestCompleteSingleVideo(ca_id,this.getVastUrl(ca_id));activateGbiCampaign(ca_id)},getVastUrl:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;var vastUrl=config.requestUrl;var requestData=config.requestData;requestData.PAGE_URL=bouncex.calling_url;requestData.cb=getTime2();for(var key in requestData)vastUrl=
updateQS(vastUrl,key,requestData[key]);return vastUrl}}};

bouncex.gbi2={_activateBehavioralTriggers:function(campaignId){activateInstruments(campaignId)},_activateCampaign:function(campaignId){this.log(campaignId,"activating campaign");var reloadDelayInMilliseconds=5E4;var campaign=bouncex.campaigns[campaignId];var self=this;campaign.gbi.ready=true;if(!campaign.gbi.hasActivatedOnce){event_js_eval(campaignId,"activation");campaign.gbi.hasActivatedOnce=true}setTimeout2(function(){if(!campaign.ad_shown&&!campaign.failed){self._deactivateCampaign(campaignId);
self.initCampaign(campaignId)}},reloadDelayInMilliseconds)},_activateCreative:function(campaignId,creativeId){this.log(campaignId,"activating creative");var campaign=bouncex.campaigns[campaignId];var creative=bouncex.creatives[creativeId];var substitutionPattern=/{bpcid}/g;campaign.html=creative.html.replace(substitutionPattern,campaignId);campaign.styles=creative.styles.replace(substitutionPattern,campaignId);setCalloutTarget(campaign);if(isMissingTarget(campaign)){bouncex.gbi2.error(campaignId,
"no anchor found");return this._failCampaign(campaignId)}placeCampaign(campaignId);assignDomReferencesToCampaign(campaignId);cacheCreativeForm(campaignId,1);setAccessibilityProperties(campaignId);setTransitionEffect(campaignId);applyCampaignStyles(campaignId)},_activatePlacement:function(campaignId,winningBid){var campaign=bouncex.campaigns[campaignId];var placementId=winningBid.placementId;var placement=campaign.gbi.placements[placementId];var self=this;this.log(campaignId,"activating placement #"+
placementId);campaign.activePlacementId=placementId;campaign.activeAdUnitId=placement.adUnitId;this._activateCreative(campaignId,placement.creativeId);bouncex.recirc.populateCreative(campaignId);if(placement.mediaType=="display"){campaign.onImpression=function(onReady){self._populateDisplayAd(campaignId,{trigger:campaign.trigger,content:winningBid.adHtml,width:placement.width,height:placement.height,deployment:placement.deployment,onReady:onReady})};this._activateCampaign(campaignId)}else if(placement.mediaType==
"video"){var videoSettings={vast:winningBid.vastData,width:placement.width,height:placement.height};var bxVideoPlayer=campaign.obj1.find('video[id*="bx-video-player"]');if(bxVideoPlayer&&bxVideoPlayer.length>0){campaign.gbi.isVideo=true;bouncex.video.init(campaignId,videoSettings.vast,winningBid.provider,placement)}else this._prepareVideo(campaignId,videoSettings,function(){self._activateCampaign(campaignId)})}},_allRequestsAreComplete:function(campaignId){var requests=bouncex.campaigns[campaignId].gbi.requests;
var allComplete=true;for(var i=0;i<requests.length;i++)if(!requests[i].endTime)allComplete=false;return allComplete},_attachClickReporting:function(campaignId,container){bouncex.on(container,"mouseenter.gbi_click_events_"+campaignId,function(){bouncex.on(bouncex.window,"blur.gbi_click_events_"+campaignId,function(){bouncex.report(campaignId,"click",{value:"ad"})})});bouncex.events[campaignId]["gbi_click"]=function(){bouncex.off(bouncex.window,"blur.gbi_click_events_"+campaignId)};bouncex.on(container,
"mouseleave.gbi_click_events_"+campaignId,bouncex.events[campaignId]["gbi_click"])},_bidFilters:{isPerformanceBid:function(bids){var performanceBids=[];bids.forEach(function(bid){if(bid.provider==="perf")performanceBids.push(bid)});return performanceBids.length?performanceBids:bids},hasDealId:function(bids){var bidsWithDealIds=[];bids.forEach(function(bid){if(bid.dealId)bidsWithDealIds.push(bid)});return bidsWithDealIds.length?bidsWithDealIds:bids},hasHighestPrice:function(bids){var bidsWithHighestPrice=
[];var highestPrice=0;bids.forEach(function(bid){if(bid.price>highestPrice){highestPrice=bid.price;bidsWithHighestPrice=[bid]}else if(bid.price==highestPrice)bidsWithHighestPrice.push(bid)});return bidsWithHighestPrice.length?bidsWithHighestPrice:bids},arrivedFirst:function(bids){var firstBids=[];var earliestArrival=0;bids.forEach(function(bid){if(earliestArrival===0||bid.arrivalTime<earliestArrival){earliestArrival=bid.arrivalTime;firstBids=[bid]}else if(bid.arrivalTime==earliestArrival)firstBids.push(bid)});
return firstBids.length?firstBids:bids}},_compose:function(){var args=Array.prototype.slice.call(arguments);var obj={};args.forEach(function(argObj){for(var key in argObj)if(argObj.hasOwnProperty(key))obj[key]=argObj[key]});return obj},_constants:{auctionDelayInMilliseconds:2E3,bidEvents:{fill:"bid_fill",none:"bid_none",empty:"bid_empty",error:"bid_error",cancelled:"bid_cancel",selected:"bid_selected"},targetSelector:".bx-group-placeholder:eq(0)"},_createAndSendRequests:function(campaignId,placements){this.log(campaignId,
"sending bid requests");var requests=[];for(var placementId in placements)if(placements.hasOwnProperty(placementId)){var placement=placements[placementId];var providers=placement.providers;providers.forEach(function(provider){var request=this._createBidRequest(provider,{campaignId:campaignId,placementId:placementId,adUnitId:placement.adUnitId,type:placement.mediaType,width:placement.width,height:placement.height,deployment:placement.deployment});requests.push(request);request.init()}.bind(this))}return requests},
_createBid:function(settings){return{provider:settings.provider,campaignId:settings.campaignId,placementId:settings.placementId,adUnitId:settings.adUnitId,price:settings.price,adHtml:settings.adHtml,vastData:settings.vastData,dealId:settings.dealId,arrivalTime:settings.arrivalTime,targeting:settings.targeting}},_createBidRequest:function(provider,settings){return this._requestIndex[provider](settings)},_createDisplayFrame:function(){return createIframe({target:"_blank","class":"bx-gbi-frame",frameborder:"0",
horizontalscrolling:"no",verticalscrolling:"no",width:"100%",height:"100%",vspace:"0",hspace:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowTransparency:"true"})},_customizations:{anchor:{updateDynamicAnchor:function(campaignId){var campaign=bouncex.campaigns[campaignId];if(!campaign.dynamic_anchor||campaign.gbi.contentLoaded)return;var selector=parseSiteElementSelector(campaign.callout_t);campaign.visibleAnchors=BrowserUtil.viewport.getVisibleElements(selector,campaign.dom_placement_method);
if(campaign.visibleAnchors.length>0){setCampaignCalloutTargetToIndex(campaignId,campaign.visibleAnchors[0].index);placeCampaign(campaignId)}},passesViewabilityTest:function(campaignId){var campaign=bouncex.campaigns[campaignId];var minimumHeight=this._getMinimumHeight(campaign)||250;return BrowserUtil.viewport.distanceToBottom(campaign.calloutTarget[0],campaign.dom_placement_method,campaign.callout_voffset)>minimumHeight},_getMinimumHeight:function(campaign){var bidDimensions=this._getBidDimensions(campaign);
var insideTarget=campaign.dom_placement_method==="prepend"||campaign.dom_placement_method==="append";var containerWidth=insideTarget?campaign.calloutTarget.innerWidth():campaign.calloutTarget.parent().innerWidth();return containerWidth*(bidDimensions.height/bidDimensions.width)/2},_getBidDimensions:function(campaign){var bidPlacement=campaign.gbi.placements[campaign.winningBid.placementId];return{height:Number(bidPlacement.height),width:Number(bidPlacement.width)}}}},_deactivateCampaign:function(campaignId){this.log(campaignId,
"deactivating campaign");var campaign=bouncex.campaigns[campaignId];campaign.obj1.remove();campaign.gbi.ready=false},_endAllRequests:function(campaignId){bouncex.campaigns[campaignId].gbi.requests.forEach(function(request){request.end()})},_failCampaign:function(campaignId){this.log(campaignId,"campaign failed");var campaign=bouncex.campaigns[campaignId];var deployment=this._getDeploymentType(campaignId);this._failedDeployments.push(deployment);campaign.failed=true;campaign.gbi.ready=false},_failedDeployments:[],
_getAdUnitIds:function(campaignId){var campaign=bouncex.campaigns[campaignId];var placements=campaign.gbi&&campaign.gbi.placements;return Object.keys(placements).map(function(key){return placements[key].adUnitId})},_getDeploymentType:function(campaignId){var campaign=bouncex.campaigns[campaignId];var placements=campaign.gbi&&campaign.gbi.placements;if(placements)for(var placementId in placements)if(placements.hasOwnProperty(placementId))return placements[placementId].deployment;return""},_getProviderConfig:function(provider,
key){var sspConfig=bouncex.website.sspConfig;return sspConfig&&sspConfig[provider]&&sspConfig[provider][key]},_getReportablePrice:function(price){return Number(price).toFixed(5)},_getResizeData:function(campaignId,adDimensions){var campaign=bouncex.campaigns[campaignId];var $creative=campaign.obj1;var scaleRatio=1;var extraPadding=(parseInt($creative.find(".bx-wrap").css("padding-left"),10)||0)+(parseInt($creative.find(".bx-align").css("padding-left"),10)||0)*2;if(campaign.type==="agilityzone"&&campaign.calloutTarget.length)scaleRatio=
(campaign.calloutTarget.width()-extraPadding)/adDimensions.width;else if(campaign.type==="overlay"){var widthRatio=(bouncex.wndsize().width-extraPadding)/adDimensions.width;var heightRatio=(bouncex.wndsize().height-extraPadding)/adDimensions.height;scaleRatio=widthRatio>heightRatio?heightRatio:widthRatio}return{scaleRatio:scaleRatio,scaledWidth:adDimensions.width*scaleRatio,scaledHeight:adDimensions.height*scaleRatio}},_initAuction:function(campaignId){this.log(campaignId,"initializing auction");
var campaign=bouncex.campaigns[campaignId];var eligibleBids=campaign.gbi.bids;var filters=[this._bidFilters.isPerformanceBid,this._bidFilters.hasDealId,this._bidFilters.hasHighestPrice,this._bidFilters.arrivedFirst];if(eligibleBids.length==0){this.log(campaignId,"no bids were returned");return this._failCampaign(campaignId)}if(eligibleBids.length==1)return this._selectWinningBid(campaignId,eligibleBids[0]);for(var i=0;i<filters.length;i++){var filter=filters[i];eligibleBids=filter(eligibleBids);if(eligibleBids.length==
1)return this._selectWinningBid(campaignId,eligibleBids[0])}if(eligibleBids.length>0)return this._selectWinningBid(campaignId,eligibleBids[0]);this.error(campaignId,"there was an error while selecting a bid");this._failCampaign(campaignId)},_initRequests:function(campaignId,justPrefetched){var campaign=bouncex.campaigns[campaignId];var placements=campaign.gbi.placements;campaign.gbi.hasBegunAuction=true;campaign.gbi.bids=[];if(this._isForceTest(campaignId)&&!justPrefetched)this._prefetchBids(campaignId,
"aqbx",placements);else if(bouncex.vars.perf_ads_prefetch&&!justPrefetched)this._prefetchBids(campaignId,"perf",placements);else{campaign.gbi.requests=this._createAndSendRequests(campaignId,placements);this._setAuctionTimeout(campaignId)}},_integrations:{dfp:{lineItemIds:[],dfpReady:false,numTries:0,init:function(){BxInterval.addTask(this.dfpInterval.bind(this),30,"dfp_detection",this.failure.bind(this))},dfpInterval:function(){this.numTries+=1;this.getLineItemIds();if(this.dfpReady){this.success();
this.reportLineItems();bouncex.reload_campaigns("dfp_detection")}},success:function(){this.log("dfp ids found: "+bouncex.stringify(this.lineItemIds))},failure:function(){this.log("dfp max attempts")},getLineItemIds:function(){this.dfpReady=false;if(window.googletag&&typeof window.googletag.pubads==="function"){var slots=window.googletag.pubads().getSlots();var numSlots=slots.length;for(var i=0;i<numSlots;i++){var slotInformation=slots[i].getResponseInformation();var lineItemId=slotInformation&&slotInformation.lineItemId?
slotInformation.lineItemId:false;var isValidLineItemId=lineItemId&&typeof lineItemId==="number";if(isValidLineItemId&&this.lineItemIds.indexOf(lineItemId)===-1){this.dfpReady=true;this.lineItemIds.push(lineItemId)}}}},reportLineItems:function(){if(this.reportedLineItemsThisPageview)return;TrafficControl.apply({type:"canary",liveTraffic:5,internal:true},function(){this.reportedLineItemsThisPageview=true;var reportDfpUrl="https://dfp.bouncex.net/pub/"+bouncex.website.id+"?li="+this.lineItemIds.join("|");
jQuery.ajax({type:"GET",url:reportDfpUrl})}.bind(this))},log:function(msg){Logger.info({group:"dfp",message:msg,color:"#ffa500"})}},tag:{intermediaryId:"869cff86d1c453c1",generateId:function(){return this.intermediaryId+":"+bouncex.website.id}},moat:{display:{scriptSrc:document.location.protocol+"//z.moatads.com/bounceexchangedisplay18031701869/moatad.js",getScriptTag:function(params){if(shouldEnforcePolicies({gdpr:true})){bouncex.log("GDPR: MOAT script blocked");return""}var queryString=qs({moatClientLevel1:params.website,
moatClientLevel2:params.deviceType,moatClientLevel3:params.trigger,moatClientLevel4:params.adSize,zMoatPlacement:params.placement});return'<script src="'+this.scriptSrc+"?"+queryString+'" type="text/javascript">\x3c/script>'}},video:{scriptSrc:document.location.protocol+"//z.moatads.com/jwplayerplugin0938452/moatplugin.js",partnerCode:"bouncexjsvideojwplayer997111196347",loadPlugin:function(campaignId){if(shouldEnforcePolicies({gdpr:true})){bouncex.log("GDPR: MOAT script blocked");return""}var self=
this;getScript(self.scriptSrc,function(){self.addImpressionListener(campaignId)})},addImpressionListener:function(campaignId){var campaign=bouncex.campaigns[campaignId];var self=this;campaign.gbi.player.on("adImpression",function(eventData){moatjw.add({partnerCode:self.partnerCode,player:this,adImpressionEvent:eventData,ids:{level1:window.location.host+" ("+bouncex.website.id+")",level2:bouncex.state.mobile?"mobile":"desktop",level3:campaign.trigger,level4:"video",slicer1:campaign.type==="overlay"?
campaign.type:campaign.subtype},duration:30})})}}},jwplayer:{key:"o8z/iG2QyTbuWcdH2vCzMM0waC0nOAeJ9/gVcpFiPZ+tv1+5",createPlayerConfig:function(settings){var isInlineVast=/^[\s]*<VAST/i.test(settings.vastData);var vastKey=isInlineVast?"vastxml":"tag";var playerConfig={};playerConfig.file="//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/blank.mp4";playerConfig.mute=true;playerConfig.width=settings.width;playerConfig.height=settings.height;playerConfig.advertising={};playerConfig.advertising.client=
"vast";playerConfig.advertising.vpaidcontrols=true;playerConfig.advertising[vastKey]=settings.vastData;return playerConfig},createPlayerInstance:function(campaignId,container,playerConfig,onReady){bouncex.gbi2.log(campaignId,"creating video player instance");var assetUrl="//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/8.3.0/jwplayer.js";var iframeHtml='<html><body style="margin: 0px; overflow: hidden;"><div id="bx-video"></div></body></html>';var videoFrame=createIframe({"class":"bx-gbi-frame",
style:"border: 0; width: "+container.width()+"px; height: "+container.height()+"px;"});var self=this;container.append(videoFrame);var iframeWindow=videoFrame.contentWindow;if(bouncex.browser.firefox){iframeWindow.oldGetComputedStyle=iframeWindow.getComputedStyle;iframeWindow.getComputedStyle=function(el,pseudoEl){var result=iframeWindow.oldGetComputedStyle(el,pseudoEl);return result===null?{}:result}}iframeWindow.document.write(iframeHtml);var scriptTag=iframeWindow.document.createElement("script");
scriptTag.setAttribute("src",assetUrl);scriptTag.onload=function(){bouncex.gbi2.log(campaignId,"jwplayer script loaded");if(iframeWindow.jwplayer){bouncex.gbi2.log(campaignId,"jwplayer executed");iframeWindow.jwplayer.key=self.key;iframeWindow.player=iframeWindow.jwplayer("bx-video");iframeWindow.player.setup(playerConfig);iframeWindow.player.on("adClick",function(){bouncex.gbi2.report(campaignId,"click",{value:"ad"})});iframeWindow.player.on("adError",function(data){bouncex.gbi2.error(campaignId,
data.message?"video error: "+data.message:"video error")});onReady(iframeWindow.player)}else{bouncex.gbi2.error(campaignId,"jwplayer failed to execute");bouncex.gbi2._failCampaign(campaignId)}};scriptTag.onerror=function(){bouncex.gbi2.error(campaignId,"jwplayer script failed to load");bouncex.gbi2._failCampaign(campaignId)};iframeWindow.document.body.appendChild(scriptTag)}}},_isForceTest:function(campaignId){return bouncex.calling_url.indexOf("aqbxtest"+campaignId)>-1},_populateDisplayAd:function(campaignId,
settings){this.log(campaignId,"populating display ad");var campaign=bouncex.campaigns[campaignId];var container=campaign.obj1.find(bouncex.gbi2._constants.targetSelector);var moat=bouncex.gbi2._integrations.moat.display;var displayFrame=this._createDisplayFrame();var content=settings.content;var onReady=settings.onReady;var iframeBodyStyles="-webkit-transform-origin: 0 0; transform-origin: 0 0; max-width: 100%; max-height: 100%;";if(container.length===0){bouncex.gbi2.error(campaignId,"creative is missing an ad stack placeholder group");
bouncex.gbi2._failCampaign(campaignId);return false}var resizeData=bouncex.gbi2._getResizeData(campaignId,{width:settings.width,height:settings.height});if(resizeData.scaleRatio<1){iframeBodyStyles+="-webkit-transform: scale("+resizeData.scaleRatio+"); transform: scale("+resizeData.scaleRatio+");";container.css({width:resizeData.scaledWidth+"px",height:resizeData.scaledHeight+"px"})}container.append(displayFrame);content+=moat.getScriptTag({website:window.location.host+" ("+bouncex.website.id+")",
deviceType:bouncex.state.mobile?"mobile":"desktop",trigger:settings.trigger,adSize:settings.width+"x"+settings.height,placement:settings.deployment});try{var frameDoc=displayFrame.contentWindow.document;frameDoc.open();frameDoc.write('<html><head><base target="_blank"/></head><body marginwidth="0" marginheight="0" style="'+iframeBodyStyles+'">'+content+"</body>");frameDoc.close()}catch(e){bouncex.gbi2.error(campaignId,"error populating ad: "+e);bouncex.gbi2._failCampaign(campaignId);return false}this._attachClickReporting(campaignId,
container);loadImages(jQuery(frameDoc).find("img").filter(":visible"),function(){bouncex.gbi2.log(campaignId,"images loaded successfully");if(onReady)onReady()})},_prefetchBids:function(campaignId,provider,placements){this.log(campaignId,"prefetching "+provider);var campaign=bouncex.campaigns[campaignId];var prefetchTimeoutInMilliseconds=1E3;var prefetchPlacements={};for(var placementId in placements)if(placements.hasOwnProperty(placementId)){prefetchPlacements[placementId]=this._compose(placements[placementId]);
prefetchPlacements[placementId].providers=[provider]}campaign.gbi.requests=this._createAndSendRequests(campaignId,prefetchPlacements);setTimeout2(function(){this._endAllRequests(campaignId);if(campaign.gbi.bids.length>0)this._initAuction(campaignId);else this._initRequests(campaignId,true)}.bind(this),prefetchTimeoutInMilliseconds)},_prepareVideo:function(campaignId,settings,onReady){this.log(campaignId,"preparing video ad");var campaign=bouncex.campaigns[campaignId];var container=campaign.obj1.find(bouncex.gbi2._constants.targetSelector);
var jwplayer=bouncex.gbi2._integrations.jwplayer;var playerWidth=container.width();var playerHeight=container.height();var resizeData=bouncex.gbi2._getResizeData(campaignId,{width:playerWidth,height:playerHeight});if(resizeData.scaleRatio<1){playerWidth=resizeData.scaledWidth;playerHeight=resizeData.scaledHeight;container.css({width:playerWidth+"px",height:playerHeight+"px"})}var playerConfig=jwplayer.createPlayerConfig({vastData:settings.vast,width:playerWidth,height:playerHeight});jwplayer.createPlayerInstance(campaignId,
container,playerConfig,function(player){campaign.gbi.player=player;campaign.gbi.isVideo=true;campaign.gbi.config=campaign.gbi.config||{};campaign.gbi.config.playOnImpression=true;bouncex.gbi2._integrations.moat.video.loadPlugin(campaignId);campaign.gbi.contentLoaded=true;onReady()})},_requestIndex:{sharedBehaviors:{gbi:function(){return{fetch:function(options){this.startTime=getTimeMs();this.request=bouncex.utils.doAjaxRequest(options)},done:function(){this.endTime=getTimeMs();this.duration=this.endTime-
this.startTime},reportResult:function(result,eventData){bouncex.gbi2.report(this.campaignId,result,eventData)},end:function(){if(this.request)this.request.abort()}}},rtb:function(){return{createDisplayImpression:function(width,height,overrides){width=Number(width);height=Number(height);var displayImpression={id:1,banner:{w:width,h:height}};return bouncex.gbi2._compose(displayImpression,overrides)},createVideoImpression:function(width,height,overrides){var videoImpression={id:1,video:{mimes:["video/mp4",
"application/javascript"],minduration:3,maxduration:150,protocols:[2,3,5,6],linearity:1,ext:{playertype:1}}};if(width)videoImpression.video.w=Number(width);if(height)videoImpression.video.h=Number(height);return bouncex.gbi2._compose(videoImpression,overrides)},getExtraIds:function(){var deviceId=window.bouncex.gbi.deviceOptedStatus;if(deviceId)return[{source:"bxid",uids:[{id:deviceId,atype:1}]}];return[]}}}},aqbx:function(settings){var gbiRequest=bouncex.gbi2._requestIndex.sharedBehaviors.gbi;return bouncex.gbi2._compose(settings,
gbiRequest(),{init:function(){this.startTime=getTimeMs();this.done();this.handleResponse()},handleResponse:function(){var self=this;var campaign=bouncex.campaigns[this.campaignId];var bid=bouncex.gbi2._createBid({provider:"aqbx",campaignId:self.campaignId,placementId:self.placementId,adUnitId:self.adUnitId,price:0,adHtml:self.getDisplayHtml(self.width,self.height),vastData:self.getVastXml(),arrivalTime:self.endTime});campaign.gbi.bids.push(bid);bouncex.gbi2.log(this.campaignId,"bid simulated for force testing")},
getDisplayHtml:function(width,height){var origin="https://"+bouncex.website.biu;var url=origin+"/assets/global/images/pub/demo"+width+"x"+height+".gif";return'<a><img src="'+url+'" width="'+width+'" height="'+height+'"/></a>'},getVastXml:function(){return'<VAST version="2.0"><Ad><InLine><AdSystem>Acudeo Compatible</AdSystem><AdTitle>VAST 2.0 AQBX</AdTitle><Description>VAST 2.0 AQBX</Description><Creatives><Creative><Linear><Duration>00:00:21</Duration><MediaFiles><MediaFile delivery="progressive" type="video/mp4" bitrate="500" width="400" height="300" scalable="true" maintainAspectRatio="true">https://'+
bouncex.website.biu+"/assets/global/videos/pub/demo/ads_demo_video.mp4</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>"}})},perf:function(settings){var gbiRequest=bouncex.gbi2._requestIndex.sharedBehaviors.gbi;return bouncex.gbi2._compose(settings,gbiRequest(),{provider:"perf",fetch:function(options){this.startTime=getTimeMs();this.request=jQuery.ajax(options)},init:function(){var self=this;var options={url:bouncex.gbi2._getProviderConfig("perf","endpoint"),data:self.getRequestData(),
complete:function(response,status){self.done();self.handleResponse(response,status)}};this.fetch(options)},getRequestData:function(){var self=this;return{bxid:bouncex.dg.softID||"none",w:self.width,h:self.height}},handleResponse:function(response,status){var campaign=bouncex.campaigns[this.campaignId];var results=bouncex.gbi2._constants.bidEvents;var result=results.error;var self=this;var eventData={partner:"perf",deployment:self.deployment||"unknown",requested_ad_units:self.width+"x"+self.height,
request_timestamp:self.startTime,deal_id:"NA",price:"NA",auction_number:campaign.gbi.auctionCount,ad_unit_id:self.adUnitId};var bidResponse=response.responseJSON;if(response.status===200)if(bidResponse&&bidResponse.adHtml){result=results.fill;bouncex.gbi2.log(this.campaignId,"placement #"+this.placementId+" received a bid from performance ads");var bid=bouncex.gbi2._createBid({provider:"perf",campaignId:self.campaignId,placementId:self.placementId,adUnitId:self.adUnitId,adHtml:bidResponse.adHtml,
arrivalTime:self.endTime,targeting:bidResponse.targeting});campaign.gbi.bids.push(bid)}else result=results.none;else if(response.status===0)result=results.cancelled;this.reportResult(result,eventData)}})},bsw:function(settings){var gbiRequest=bouncex.gbi2._requestIndex.sharedBehaviors.gbi;return bouncex.gbi2._compose(settings,gbiRequest(),{provider:"bsw",init:function(){var self=this;var options={url:bouncex.gbi2._getProviderConfig("bsw","endpoint"),data:bouncex.stringify(self.getRequestData()),dataType:"json",
method:"POST",timeout:5E3,complete:function(response,status){self.done();self.handleResponse(response,status)}};this.fetch(options)},getRequestData:function(){var placement={code:this.deployment};var key=this.type==="display"?"banner":"video";placement[key]={sizes:[{w:Number(this.width),h:Number(this.height)}]};return{publisher_id:Number(bouncex.gbi2._getProviderConfig("bsw","site_id"))||0,placements:[placement]}},handleResponse:function(response,status){var campaign=bouncex.campaigns[this.campaignId];
var results=bouncex.gbi2._constants.bidEvents;var result=results.error;var eventData={partner:this.provider,partner_site_id:bouncex.gbi2._getProviderConfig("bsw","site_id")||"NA",deployment:this.deployment||"unknown",requested_ad_units:this.width+"x"+this.height,request_timestamp:this.startTime,deal_id:"NA",price:"NA",auction_number:campaign.gbi.auctionCount,ad_unit_id:this.adUnitId};var bidResponse=response.responseJSON&&response.responseJSON.placement_bid;if(response.status===200)if(bidResponse&&
bidResponse.length){result=results.fill;bouncex.gbi2.log(this.campaignId,"placement #"+this.placementId+" received a bid from bidswitch");var bidObj=bidResponse[0];eventData.deal_id=bidObj.dealid;eventData.price=bouncex.gbi2._getReportablePrice(bidObj.price);var bid=bouncex.gbi2._createBid({provider:this.provider,campaignId:this.campaignId,placementId:this.placementId,adUnitId:this.adUnitId,arrivalTime:this.endTime,adHtml:bidObj.adm,vastData:bidObj.adm,dealId:bidObj.dealid,price:bidObj.price});campaign.gbi.bids.push(bid)}else result=
results.none;else if(response.status===0)result=results.cancelled;this.reportResult(result,eventData)}})},index:function(settings){var gbiRequest=bouncex.gbi2._requestIndex.sharedBehaviors.gbi;var openRtbRequest=bouncex.gbi2._requestIndex.sharedBehaviors.rtb;return bouncex.gbi2._compose(settings,gbiRequest(),openRtbRequest(),{provider:"index",init:function(){var data=this.getRequestData();var self=this;var siteId=bouncex.gbi2._getProviderConfig("index",bouncex.campaigns[this.campaignId].qbxtest?"qa_site_id":
"s");var options={url:bouncex.ssl?"https://as-sec.casalemedia.com/cygnus":"http://as.casalemedia.com/cygnus",data:{v:"7",cb:getTimeMs(),s:siteId,r:bouncex.stringify(data)},dataType:"text",contentType:"application/x-www-form-urlencoded",global:false,crossDomain:true,xhrFields:{withCredentials:true},timeout:5E3,complete:function(response,status){self.done();self.handleResponse(response,status)}};if(this.type==="video"){options.data.v="8.8";options.data.fn="jsonp"}this.fetch(options)},getRequestData:function(){var campaign=
bouncex.campaigns[this.campaignId];var pageUrl=document.location.protocol+"//"+document.location.hostname+document.location.pathname;var device=bouncex.state.mobile?"mobile":"desktop";var urlWithParams=bouncex.updateQS(pageUrl,"deployment",campaign.type,"device",device);var impression;if(this.type=="display")impression=this.createDisplayImpression(this.width,this.height);else if(this.type=="video")impression=this.createVideoImpression();return{id:getTime2(),imp:[impression],site:{page:urlWithParams,
ref:bouncex.referrer,mobile:bouncex.state.mobile?1:0},source:{pchain:bouncex.gbi2._integrations.tag.generateId()}}},handleResponse:function(response,status){var campaign=bouncex.campaigns[this.campaignId];var results=bouncex.gbi2._constants.bidEvents;var result=results.error;var self=this;var eventData={partner:"index",partner_site_id:bouncex.gbi2._getProviderConfig("index","s"),deployment:self.deployment||"unknown",requested_ad_units:self.type==="display"?self.width+"x"+self.height:"video",request_timestamp:self.startTime,
deal_id:"NA",price:"NA",auction_number:campaign.gbi.auctionCount,ad_unit_id:self.adUnitId};if(status==="success"&&response.status===200){var bidResponse=this.getBidFromResponse(response.responseText);if(bidResponse){result=results.fill;bouncex.gbi2.log(this.campaignId,"placement #"+this.placementId+" received a bid from index exchange");var dealId=bidResponse.ext&&bidResponse.ext.dealid;var rawPrice=bidResponse.ext&&bidResponse.ext.pricelevel;var price=0;if(dealId)eventData.deal_id=dealId;if(rawPrice){price=
self.convertPrice(bidResponse.ext.pricelevel,dealId);eventData.price=bouncex.gbi2._getReportablePrice(price)}var bid=bouncex.gbi2._createBid({provider:"index",campaignId:self.campaignId,placementId:self.placementId,adUnitId:self.adUnitId,price:Number(price),adHtml:bidResponse.adm,vastData:bidResponse.ext&&bidResponse.ext.vasturl,dealId:dealId,arrivalTime:self.endTime});campaign.gbi.bids.push(bid)}else result=results.none}else if(status==="success"&&!response.responseText)result=results.empty;else if(response.status===
0)result=results.cancelled;this.reportResult(result,eventData)},getBidFromResponse:function(responseText){try{var jsonString=responseText.substring(responseText.indexOf("(")+1,responseText.lastIndexOf(")"));var json=bouncex.parseJSON(jsonString);var bidResponse=json.seatbid&&json.seatbid[0]&&json.seatbid[0].bid&&json.seatbid[0].bid[0];return bidResponse}catch(e){return false}},convertPrice:function(priceString,dealId){var decimalIndex=priceString.length-2;var charArray=priceString.split("");var netPercentageOfGross=
.85;charArray.splice(decimalIndex,0,".");var formattedString=charArray.join("").replace(/[^0-9.]/g,"");var price=dealId?Number(formattedString):Number(formattedString)/netPercentageOfGross;return price.toFixed(5)}})},pbm:function(settings){var gbiRequest=bouncex.gbi2._requestIndex.sharedBehaviors.gbi;var openRtbRequest=bouncex.gbi2._requestIndex.sharedBehaviors.rtb;return bouncex.gbi2._compose(settings,gbiRequest(),openRtbRequest(),{provider:"pbm",init:function(){if(!this.userSynced())return this.syncUser();
var data=this.getRequestData();var self=this;var options={url:document.location.protocol+"//"+bouncex.gbi2._getProviderConfig("pbm","endpoint"),data:bouncex.stringify(data),method:"POST",type:"POST",dataType:"json",timeout:5E3,complete:function(response,status){self.done();self.handleResponse(response,status)}};this.fetch(options)},getRequestData:function(){var campaign=bouncex.campaigns[this.campaignId];var requestId=bouncex.cookie.vid+"_"+bouncex.cookie.sid;var siteId=bouncex.gbi2._getProviderConfig("pbm",
bouncex.state.mobile?"mobile_id":"desktop_id");var tagId=this.getTagId(siteId,this.placementId);var integrations=bouncex.gbi2._integrations;var self=this;var impression;if(this.type==="display")impression=this.createDisplayImpression(this.width,this.height,{id:getTimeMs().toString(),secure:bouncex.ssl?1:0,tagid:tagId});else if(this.type==="video")impression=this.createVideoImpression(this.width,this.height);return{id:requestId,site:{id:siteId,name:window.location.hostname,ref:decodeURIComponent(bouncex.referrer),
page:decodeURIComponent(bouncex.calling_url),publisher:{id:bouncex.gbi2._getProviderConfig("pbm","publisher_id")}},device:{ua:navigator.userAgent,ip:bouncex.state.vip},imp:[impression],source:{pchain:integrations.tag.generateId()},user:{eids:self.getExtraIds()},at:1,tmax:200}},handleResponse:function(response,status){var campaign=bouncex.campaigns[this.campaignId];var results=bouncex.gbi2._constants.bidEvents;var result=results.error;var self=this;var eventData={partner:"pbm",partner_site_id:bouncex.gbi2._getProviderConfig("pbm",
bouncex.state.mobile?"mobile_id":"desktop_id"),deployment:self.deployment||"unknown",requested_ad_units:self.type==="display"?self.width+"x"+self.height:"video",request_timestamp:self.startTime,price:"NA",deal_id:"NA",auction_number:campaign.gbi.auctionCount,ad_unit_id:self.adUnitId};if(status==="success"&&response.status===200){var bidResponse=this.getBidFromResponse(response.responseText);if(bidResponse){result=results.fill;bouncex.gbi2.log(this.campaignId,"placement #"+this.placementId+" received a bid from pubmatic");
if(bidResponse.dealid)eventData.deal_id=bidResponse.dealid;if(bidResponse.price)eventData.price=bouncex.gbi2._getReportablePrice(bidResponse.price);var bid=bouncex.gbi2._createBid({provider:"pbm",campaignId:self.campaignId,placementId:self.placementId,adUnitId:self.adUnitId,price:bidResponse.price,adHtml:bidResponse.adm,vastData:bidResponse.adm,dealId:bidResponse.dealid,arrivalTime:self.endTime});campaign.gbi.bids.push(bid)}else result=results.none}else if(status==="nocontent"&&response.status===
204)result=results.empty;else if(response.status===0)result=results.cancelled;this.reportResult(result,eventData)},getBidFromResponse:function(responseText){try{var json=bouncex.parseJSON(responseText);var bidResponse=json.seatbid&&json.seatbid[0]&&json.seatbid[0].bid&&json.seatbid[0].bid[0];return bidResponse}catch(e){return false}},userSynced:function(){return!!sessionStorage.getItem("bxpbmsynced")},syncUser:function(){var endpoint=bouncex.gbi2._getProviderConfig("pbm","user_sync_endpoint");var publisherId=
bouncex.gbi2._getProviderConfig("pbm","publisher_id");if(!endpoint)return bouncex.gbi2.error(this.campaignId,"no endpoint found for pubmatic user sync");if(!publisherId)return bouncex.gbi2.error(this.campaignId,"no publisher id found for pubmatic user sync");var iframe=createIframe({style:"display: none;",src:"//"+endpoint+"?p="+publisherId});var self=this;iframe.onload=function(){sessionStorage.setItem("bxpbmsynced","1");self.init()};document.body.appendChild(iframe)},getTagId:function(siteId,placementId){var campaign=
bouncex.campaigns[this.campaignId];var placement=campaign.gbi.placements[placementId];if(placement&&placement.deployment)return{"overlay":"Overlay","masthead":"Masthead","endcap":"End_Cap","encore":"Encore","middleofarticle":"Middle_of_Article","skyline":"Skyline","infeed":"Infeed"}[placement.deployment]+"_"+siteId;return""}})}},_selectWinningBid:function(campaignId,winningBid){this.log(campaignId,"selecting bid from "+winningBid.provider);var campaign=bouncex.campaigns[campaignId];var placement=
campaign.gbi.placements[winningBid.placementId];var bidEvents=bouncex.gbi2._constants.bidEvents;var eventData={partner:winningBid.provider,deployment:placement.deployment,deal_id:winningBid.dealId||"NA",price:bouncex.gbi2._getReportablePrice(winningBid.price),auction_number:campaign.gbi.auctionCount,ad_unit_id:winningBid.adUnitId};campaign.winningBid=winningBid;this.report(campaignId,bidEvents.selected,eventData);this._activatePlacement(campaignId,winningBid)},_setAuctionTimeout:function(campaignId){var delay=
this._constants.auctionDelayInMilliseconds;var self=this;setTimeout2(function(){var canBeginAuction=bouncex.campaigns[campaignId].gbi.bids.length>0||self._allRequestsAreComplete(campaignId);if(canBeginAuction){self.log(campaignId,"one or more bids received, or all requests have resolved; ending wait period");self._endAllRequests(campaignId);self._initAuction(campaignId)}else{self.log(campaignId,"no bids after first wait period; some requests still pending; trying again");setTimeout2(function(){self.log(campaignId,
"ending wait period");self._endAllRequests(campaignId);self._initAuction(campaignId)},delay)}},delay)},canShowPubCampaign:function(type,campaignId){var campaign=bouncex.campaigns[campaignId];if(campaign.dynamic_anchor){this._customizations.anchor.updateDynamicAnchor(campaignId);if(campaign.visibleAnchors.length===0){this.log(campaignId,"dynamic anchor - no visible anchors",true);return false}if(!this._customizations.anchor.passesViewabilityTest(campaignId)){this.log(campaignId,"dynamic anchor - fails visibility test",
true);return false}}bouncex.gbi2.tryPop(campaignId,type);if(!campaign.gbi.ready){this.log(campaignId,"gbi.ready is false",true);return false}this.log(campaignId,"passes canShow criteria");return true},error:function(campaignId,message){this.log(campaignId,message,true)},getFailedDeployments:function(){return this._failedDeployments},initCampaign:function(campaignId){this.log(campaignId,"initializing campaign");var campaign=bouncex.campaigns[campaignId];if(campaign.gbi.auctionCount>13)this._failCampaign(campaignId);
if(!campaign.activated){this.report(campaignId,"eligible");event_js_eval(campaignId,"preactivation");this.log(campaignId,"activating behavioral triggers");this._activateBehavioralTriggers(campaignId);campaign.activated=true}if(campaign.gbi.auctionCount)campaign.gbi.auctionCount++;else campaign.gbi.auctionCount=1;this._initRequests(campaignId)},initDfp:function(){this._integrations.dfp.init()},getDfpLineItemIds:function(){return this._integrations.dfp.lineItemIds},log:function(campaignId,message,isError){var data=
{group:"gbi",message:message,campaignId:campaignId};isError?Logger.error(data):Logger.info(data)},report:function(campaignId,eventName,metadata){if(eventName.indexOf("bid_")===0&&bouncex.vars.block_bid_events)return false;this.log(campaignId,'reporting event "'+eventName+'"');var campaign=bouncex.campaigns[campaignId];metadata=metadata||{};switch(eventName){case "pop":var bid=campaign.winningBid;metadata.ad_unit_id=campaign.activeAdUnitId||0;if(bid){metadata.targeting=bid.provider==="perf"?bid.targeting:
"NA";metadata.partner=bid.provider;metadata.deal_id=bid.dealId;metadata.price=this._getReportablePrice(bid.price);metadata.deployment=this._getDeploymentType(campaignId);metadata.auction_number=campaign.gbi.auctionCount}else this.error(campaignId,'unable to find bid data to report on "pop"');break;case "trypop":metadata.ad_units=this._getAdUnitIds(campaignId).join(",");break;case "click":metadata.value=metadata.value||"nonad";break;case "eligible":metadata.ad_units=this._getAdUnitIds(campaignId).join(",");
break}metadata.source="ads";buildReport(campaignId,eventName,metadata)},tryPop:function(campaignId,activationType){var campaign=bouncex.campaigns[campaignId];if(!campaign.trypopTriggered){this.report(campaignId,"trypop",{activation:activationType});campaign.trypopTriggered=true}}};

bouncex.utils={addNamespace:function(obj,name){var namespacedObj={};for(var k in obj)if(obj.hasOwnProperty(k)){var namespacedKey=k;if(k.indexOf(":")===-1)namespacedKey=name+":"+k;namespacedObj[namespacedKey]=obj[k]}return namespacedObj},getOrigin:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},doAjaxRequest:function(options){options.crossDomain=true;options.global=false;var vernums=jQuery.fn.jquery.split(".");
options.xhrFields={withCredentials:true};if(parseInt(vernums[0])<=1&&parseInt(vernums[1])<=5){options.beforeSend=function(xhr){xhr.withCredentials=true};options.xhr=function(){var xhr=jQuery.ajaxSettings.xhr();var setRequestHeader=xhr.setRequestHeader;xhr.setRequestHeader=function(name,value){if(name=="X-Requested-With")return;setRequestHeader.call(this,name,value)};return xhr}}return jQuery.ajax(options)},gtmLookup:function(param,gtmId){gtmId=gtmId||this.url.getParam("id",jQuery('script[src*="googletagmanager"]').attr("src"));
if(!gtmId)return false;try{return google_tag_manager[gtmId].dataLayer.get(param)}catch(e){bouncex.err(e,{source:"gtmLookup"});return""}},getNestedProp:function(val,def,obj){var lastObj=typeof obj!=="undefined"?obj:window,badResp=typeof def!=="undefined"?def:undefined,arr=val;if(typeof val==="string"){var unacceptableCharRegex=/[^A-z0-9\[\].]/;if(!unacceptableCharRegex.test(val))arr=val.split(/[.\[]/).map(function(word){return word.replace(/[\]]/g,"")});else{bouncex.log("getNestedProp given bad value: "+
val);return badResp}}for(var i=0;i<arr.length;i++){var item=arr[i];if(typeof lastObj[item]==="undefined")return badResp;lastObj=lastObj[item]}return lastObj},cookies:{create:function(obj){defaults={name:"",value:"",domain:false,days:14};obj=jQuery.extend(defaults,obj);if(!obj.name)return false;var date=new Date;date.setTime(date.getTime()+obj.days*24*60*60*1E3);var exp="; expires="+date.toGMTString();var cookieString=obj.name+"="+obj.value+exp+"; path=/;";if(obj.domain)cookieString+="domain="+obj.domain+
";";document.cookie=cookieString},destroy:function(name){return this.create({name:name,days:-1})},read:function(name){var t=name+"=",vars=document.cookie.split(";");for(var r=0;r<vars.length;r++){var i=vars[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null}},records:{getRecords:function(filter){if(isBxInternalTraffic())return Records.getRecords(filter)},printRecords:function(filter){if(isBxInternalTraffic())return Records.printRecords(filter)}},
url:{allowParams:function(paramsToAllow,url){url=url||window.location.href;var segments=url.split(/([\?\#])/);if(!paramsToAllow)return segments[0];for(var i=1;i<segments.length;i++)if(segments[i]!=="?"&&segments[i]!=="#")segments[i]=this.filterParams(segments[i],function(param){return paramsToAllow.indexOf(param)>-1});return segments.join("").replace(/([\?\#](?=[\?\#])|[\?\#]+$)/g,"")},generateQuerystring:function(obj,firstChar){var querystring=firstChar||"";for(var key in obj)if(obj.hasOwnProperty(key))querystring+=
key+"="+obj[key]+"&";return querystring.substring(0,querystring.length-1)},queryStringToObject:function(queryString){queryString=typeof queryString==="undefined"?window.location.search:queryString;queryString=queryString.charAt(0)==="?"?queryString.substring(1):queryString;return queryString.split("&").reduce(function(obj,cur){var params=cur.split("=");var key=decodeURIComponent(params[0]);var value=decodeURIComponent(params[1]);obj[key]=value;return obj},{})},filterParams:function(qstring,condition){var params=
qstring.replace(/[\?\#]/,"").split("&");var filtered="";for(var i=0;i<params.length;i++){var key=params[i].split("=")[0].replace(/[\[]/,"").replace(/[\]]/,"");if(condition(key))filtered+="&"+params[i]}return filtered.replace("&","")},formatReferrer:function(referrer){return referrer?encodeURIComponent(referrer.split("/")[2]):""},getParam:function(name,qstring){var param_string=qstring?"?"+qstring:window.location.href;name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&#]"+name+
"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(param_string);if(results==null)return"";else return decodeURIComponent(results[1])},removeParams:function(paramsToRemove,url){url=url||window.location.href;paramsToRemove=["_ke","bxid","cid","email","et_rid","gclid","ibx_source","mc_cid","mc_eid","pid","RIID","spUserID","sfmc_sub","ueh","utm_source","utm_medium","utm_campaign","utm_term","utm_content"].concat(paramsToRemove);var segments=url.split(/([\?\#])/);for(var i=1;i<segments.length;i++)if(segments[i]!==
"?"&&segments[i]!=="#")segments[i]=this.filterParams(segments[i],function(param){return paramsToRemove.indexOf(param)===-1});return segments.join("").replace(/([\?\#](?=[\?\#])|[\?\#]+$)/g,"")}},validate:{email:function(email){var regex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return regex.test(email)},integer:function(val){return!isNaN(parseInt(val))},url:function(url){var regex=/^(https?):\/\/[^\s/$.?#].[^\s]*$/;
return regex.test(url)}},isObject:function(obj){return obj!==null&&typeof obj==="object"&&!Array.isArray(obj)}};bouncex.utils.getParam=bouncex.utils.url.getParam;

var Logger={_log:function(logData){if(logData.shouldLog){Records.addRecord(logData);var logString="%c ";if(logData.type)logString+="["+logData.type.toUpperCase()+"] ";if(logData.group)logString+="("+logData.group+") ";if(logData.campaignId)logString+="(#"+logData.campaignId+") ";logString+=logData.message;bouncex.log(logString,"color: "+logData.color)}},_prepareLog:function(input,props){var output=typeof input==="string"?{message:input}:input;if(typeof output.shouldLog!=="undefined")output.shouldLog=
output.shouldLog||props.shouldLog;for(var prop in props)if(typeof output[prop]==="undefined")output[prop]=props[prop];return output},info:function(input){this._log(this._prepareLog(input,{shouldLog:visitorTestMode("log"),type:"info",color:"#5d59e8"}))},warn:function(input){this._log(this._prepareLog(input,{shouldLog:visitorTestMode("log")||visitorTestMode("log:warn"),type:"warn",color:"#dd7300"}))},debug:function(input){this._log(this._prepareLog(input,{shouldLog:visitorTestMode("log")||visitorTestMode("log:debug"),
type:"debug",color:"#9500dd"}))},error:function(input){this._log(this._prepareLog(input,{shouldLog:visitorTestMode("log")||visitorTestMode("log:warn")||visitorTestMode("log:error"),type:"error",color:"#dd0000"}))}};

var NativeCapture={_captureContexts:[],_hasSentEvent:false,_inputExclusionIdentifiers:["[type=button]","[type=submit]","[type=reset]","[type=hidden]","[type=radio]","[type=checkbox]","[type=image]","[type=password]"],_submitIdentifiers:[["[type=submit]","[class*=submit]","[id*=submit]"],["[type=button]","[class*=button]","button"],["a"]],_addCaptureListeners:function(){this._log("adding capture context listeners");var self=this;this._captureContexts.forEach(function(captureContext){var eventHandler=
tryCatch(function(){self._log("submit detected; checking input value");var value=captureContext.input.value;if(value&&bouncex.utils.validate.email(value)){self._log("email detected");self._trackUser(value,captureContext.input.id)}else self._log("no email detected")});captureContext.submit.addEventListener("click",eventHandler);captureContext.input.addEventListener("keydown",function(e){if(e.code==="Enter"||e.keyCode===13)eventHandler()})})},_addCustomCaptureContexts:function(){var self=this;var customElements=
bouncex.website.els;var customPairs={};var inputKey="native_capture_input";var submitKey="native_capture_submit";if(customElements&&Object.keys(customElements).length>0)for(key in customElements){if(key.indexOf(inputKey)>-1){var input=jQuery(customElements[key]).get(0);var objKey=self._customElemObjKey(key,inputKey);customPairs[objKey]=customPairs[objKey]?customPairs[objKey]:{};customPairs[objKey].input=input}if(key.indexOf(submitKey)>-1){var trigger=jQuery(customElements[key]).get(0);var objKey=
self._customElemObjKey(key,submitKey);customPairs[objKey]=customPairs[objKey]?customPairs[objKey]:{};customPairs[objKey].submit=trigger}}for(pair in customPairs)if(customPairs[pair].input&&customPairs[pair].submit)self._captureContexts.push({input:customPairs[pair].input,submit:customPairs[pair].submit})},_customElemObjKey:function(key,searchKey){return key.replace(searchKey,"")+"_"},_getExclusionIdentifiers:function(customExclusions){var identifiers=this._inputExclusionIdentifiers.slice();if(customExclusions)return identifiers.concat(customExclusions.split(",").map(function(exclusion){return exclusion.trim()}));
return identifiers},_getInputSelector:function(){var selector="input";var exclusions=this._getExclusionIdentifiers(bouncex.website.ibx.miw_exclude);exclusions.forEach(function(exclusion){selector+=":not("+exclusion+")"});return selector},_initCaptureContexts:function(inputFields){var parentTraversalLimit=10;for(var i=0;i<inputFields.length;i++)submissionIdentifierLoop:for(var j=0;j<this._submitIdentifiers.length;j++){var submitString=this._submitIdentifiers[j].join(",");var currentNode=inputFields[i].parentNode;
for(var k=0;k<parentTraversalLimit;k++){if(!currentNode)break;var result=currentNode.querySelector(submitString);if(result){this._captureContexts.push({input:inputFields[i],submit:result});break submissionIdentifierLoop}currentNode=currentNode.parentNode}}},_log:function(message){Logger.info({group:"capture",message:message})},_trackUser:function(email,inputFieldId){if(this._hasSentEvent)return false;this._log("sending user event");var data={email:email,source:"input_submission"};if(inputFieldId)data.input_id=
inputFieldId;bouncex.push(["user",data]);this._hasSentEvent=true},init:function(){if(!bouncex.vars.native_capture_prototype)return false;this._log("initializing native capture");this._addCustomCaptureContexts();var inputSelector=this._getInputSelector();var inputFields=jQuery(inputSelector).get();if(!this._captureContexts.length&&!inputFields.length){this._log("no input fields found");return false}this._log("searching for capture contexts");this._initCaptureContexts(inputFields);if(!this._captureContexts.length)this._log("no capture contexts found");
else{this._log("found "+this._captureContexts.length+" capture contexts");this._addCaptureListeners()}}};

bouncex.osr={init:function(ca_id,itemId){try{bouncex.osr.log(ca_id,itemId?"init OSR on product page, excluding item #"+itemId:"init OSR",false);this._getOsrParamsJson(ca_id,bouncex.campaigns[ca_id].osr_params_json);this._getItems(ca_id,itemId)}catch(err){bouncex.err(err,{source:"osr js"})}},_getItems:function(ca_id,itemId){bouncex.osr.log(ca_id,"getting items",false);var osrConfig=bouncex.campaigns[ca_id].osr.config;var endpoint=osrConfig.endpoint;if(itemId)endpoint=endpoint+","+itemId;var options=
{url:endpoint,method:"GET",timeout:4E3,dataType:"json",complete:function(response,status){if(bouncex.osr._handleResponse(ca_id,response)){bouncex.osr.log(ca_id,"tracked items successfully loaded",false);cacheCreativeForm(ca_id,1);bouncex.osr.activateCampaign(ca_id)}if(!bouncex.campaigns[ca_id].osrItems)return bouncex.osr.fail(ca_id,"no items returned, OSR campaign "+ca_id+" is ineligible")}};bouncex.utils.doAjaxRequest(options)},_getOsrParamsJson:function(ca_id,osrParams){var osrParamsQuery;var config=
bouncex.parseJSON(osrParams);bouncex.campaigns[ca_id].osr={};bouncex.campaigns[ca_id].osr.config={};osrParamsQuery=config.sortBy+","+config.minProducts+","+config.maxProducts;config.endpoint="https://"+bouncex.website.osru+"?website_id="+bouncex.website.id+"&device_id="+bouncex.cookie.did+"&visit_id="+bouncex.cookie.vid+"&osr_params="+osrParamsQuery;bouncex.campaigns[ca_id].osr.config=config},_handleResponse:function(ca_id,response){if(response&&response.status===200)try{var responseText=response.responseText;
if(!responseText.trim()||responseText.length===0)bouncex.osr.fail(ca_id,"empty response");else{bouncex.campaigns[ca_id].osrItems=bouncex.parseJSON(responseText).items;return bouncex.osr._populateCreative(ca_id,bouncex.campaigns[ca_id].osrItems)}}catch(err){bouncex.osr.fail(ca_id,err)}else if(response&&response.status===202)try{var errorResponseText=response.responseText;if(errorResponseText.indexOf("Not enough 'view item' events")>-1)bouncex.osr.fail(ca_id,"OSR campaign's minimum # of products is greater than the user's history of 'view item' events.")}catch(err){bouncex.osr.fail(ca_id,
err)}return false},_populateCreative:function(ca_id,itemsJson){if(bouncex.campaigns[ca_id].control)return true;var creative=document.getElementById("bx-campaign-"+ca_id);var creativeClone=creative.cloneNode(true);creative.innerHTML=this._populateClonedCreativeTemplate(bouncex.campaigns[ca_id].numSteps,creativeClone,itemsJson,bouncex.campaigns[ca_id].osr.config,ca_id);return true},_populateClonedCreativeTemplate:function(numSteps,creativeClone,itemsJson,config,ca_id){var osrGroupNum=0;this._adjustLocalItemsObject(ca_id,
itemsJson,config);this._populateOsrItemNumberElements(this._getOsrItemNumberElements(creativeClone),bouncex.campaigns[ca_id].osrItems.length);if((bouncex.env==="development"||bouncex.env==="staging")&&itemsJson.length>bouncex.campaigns[ca_id].osrItems.length)itemsJson=bouncex.campaigns[ca_id].osrItems;for(var i=1;i<=numSteps;i++){var osrGroups=this._getOsrGroups(i,creativeClone);for(var k=0;k<osrGroups.length;k++){var item=itemsJson[k];var osrGroup=osrGroups[k];if(osrGroup&&item)osrGroup.innerHTML=
bouncex.osr._populateClonedCreativeGroups(osrGroup,item,config);else osrGroup.parentNode.removeChild(osrGroup)}if(osrGroups.length)osrGroupNum=osrGroups.length}if(bouncex.campaigns[ca_id].osr.config.inconsistentMaxParamToCreativeMax&&osrGroupNum>0&&osrGroupNum!==itemsJson.length){bouncex.campaigns[ca_id].osrItems=itemsJson.slice(0,osrGroupNum);this._populateOsrItemNumberElements(this._getOsrItemNumberElements(creativeClone),osrGroupNum)}return creativeClone.innerHTML},_adjustLocalItemsObject:function(ca_id,
itemsJson,config){var adjustedItemsJson=[];if(itemsJson.length>config.maxProducts){bouncex.campaigns[ca_id].osr.config.inconsistentMaxParamToCreativeMax=true;for(var i in itemsJson)if(adjustedItemsJson.length<config.maxProducts||adjustedItemsJson.length===undefined)adjustedItemsJson.push(itemsJson[i]);bouncex.campaigns[ca_id].osrItems=adjustedItemsJson}},_populateClonedCreativeGroups:function(osrGroup,item,config,i){var linkBehavior=bouncex.osr._setLinkBehavior(config.linkBehavior);var bxOsrEls=osrGroup.querySelectorAll("[data-bx-osr]",
i);var osrEl,prop;if(config.disableGroupLinks!=="true")bouncex.osr._setOsrAttributes(osrGroup,{"href":item.url,"data-click":"hyperlink","target":linkBehavior,"data-click-report":"default"});else bouncex.osr._setOsrAttributes(osrGroup,{"style":"cursor:default !important"});for(i=0;i<bxOsrEls.length;i++){osrEl=bxOsrEls[i];prop=osrEl.getAttribute("data-bx-osr");bouncex.osr._populateItemProperties(osrEl,prop,item,config,linkBehavior)}return osrGroup.innerHTML},_populateItemProperties:function(osrEl,prop,
item,config,linkBehavior){if(prop==="imageurl")bouncex.osr._populateImages(osrEl,item[prop]);else if(prop==="price")bouncex.osr._populatePrice(osrEl,config.currency,item[prop]);else if(prop==="url")bouncex.osr._populateUrl(osrEl,linkBehavior,item[prop]);else osrEl.firstChild.textContent=item[prop]},_getOsrGroups:function(step,creative){return creative.querySelectorAll(".bx-step-"+step+' [data-bx-osr="group"]')},_getOsrItemNumberElements:function(creative){return creative.querySelectorAll('[data-bx-osr="numitems"]')},
_populateOsrItemNumberElements:function(numItemsElements,numItems){for(var j=0;j<numItemsElements.length;j++){var numEl=numItemsElements[j];var itemsText;if(numEl&&numItems>0){itemsText=numEl.textContent.replace(numEl.textContent,numItems);numEl.textContent=itemsText}}},_setOsrAttributes:function(el,attrs){for(var key in attrs)el.setAttribute(key,attrs[key])},_populateUrl:function(element,linkBehavior,url){if(element.getElementsByTagName("button").length>0)element=element.getElementsByTagName("button")[0];
this._setOsrAttributes(element,{"href":url,"data-click":"hyperlink","target":linkBehavior,"data-click-report":"default"});element.classList.add("bx-osr-preventclicks")},_populatePrice:function(element,currency,price){var formattedPrice=this._getFormattedCurrency(currency,price);element.firstChild.textContent=formattedPrice},_populateImages:function(element,imageUrl){var isLineShape=element.firstChild.tagName==="DIV";isLineShape?element.firstChild.setAttribute("style","background-image:url('"+imageUrl+
"')"):element.firstChild.setAttribute("src",imageUrl)},_getFormattedCurrency:function(currency,price){switch(currency){case "USD":return"$"+price;case "EU":return"\u20ac"+price;default:return"$"+price}},_setLinkBehavior:function(behavior){switch(behavior){case "newTab":return"_blank";case "currTab":return"_self";default:return"_blank"}},activateCampaign:function(ca_id){bouncex.osr.log(ca_id,"activating OSR campaign",false);activate_campaign(ca_id)},log:function(ca_id,message,isError){var data={group:"osr",
campaignId:ca_id,message:message};isError?Logger.error(data):Logger.info(data)},fail:function(ca_id,msg){bouncex.campaigns[ca_id].failed=true;this.log(ca_id,msg,true)}};

bouncex.recirc={_articles:[],_constants:{selectors:{group:".bx-group-custom",image:".bx-row-line",headline:".bx-row-text-subheadline"}},_getArticles:function(){return this._articles},_getRequestOptions:function(){var self=this;return{url:self._settings.feedUrl,dataType:self._settings.feedFormat,complete:function(response,status){self._handleResponse(response,status)}}},_getStorageKey:function(){return"bx-recirc-"+bouncex.website.id},_getStoredArticles:function(){var key=this._getStorageKey();var results=
window.sessionStorage.getItem(key);return bouncex.parseJSON(results,[])},_getValidArticles:function(articles){var validArticles=[];for(var i=0;i<articles.length;i++)if(this._isValidArticle(articles[i]))validArticles.push(articles[i]);return validArticles},_getValidGroups:function(creative){var groups=creative.querySelectorAll(this._constants.selectors.group);var validGroups=[];for(var i=0;i<groups.length;i++)if(this._isValidGroup(groups[i]))validGroups.push(groups[i]);return validGroups},_handleResponse:function(response,
status){if(status==="error")return this.error(null,"error response from article feed");this.log(null,"parsing feed response");var articles=this._parseArticles(response);if(!articles)return this.error(null,"no articles found while parsing feed response");var validArticles=this._getValidArticles(articles);if(!validArticles.length)return this.error(null,"all articles failed validation");this.log(null,validArticles.length+"/"+articles.length+" articles passed validation");this._setArticles(validArticles);
this._storeArticles(validArticles)},_isValidGroup:function(group){var hasImageElement=group.querySelectorAll(this._constants.selectors.image).length===1;var hasTextElement=group.querySelectorAll(this._constants.selectors.headline).length===1;var hasLink=group.querySelectorAll("a").length===1;return hasImageElement&&hasTextElement&&hasLink},_requestFeed:function(ajaxOptions){this.log(null,"requesting articles from "+ajaxOptions.url);jQuery.ajax(ajaxOptions)},_setArticles:function(articles){this._articles=
articles},_storeArticles:function(articles){this.log(null,"storing articles in session storage");var key=this._getStorageKey();try{window.sessionStorage.setItem(key,JSON.stringify(articles))}catch(e){this.error(null,e)}},_isValidArticle:function(article){if(!article)return false;var validLink=!!(article.link&&bouncex.utils.validate.url(article.link));var validImage=!!(article.image&&bouncex.utils.validate.url(article.image));var validHeadline=!!article.headline;return validLink&&validImage&&validHeadline},
_parseArticles:function(response){switch(this._settings.feedFormat){case "xml":return this._settings.responseParser(response.responseXML);case "json":return this._settings.responseParser(response.responseJSON);default:this.error(null,"unrecognized feed format type");return false}},_populateGroup:function(campaignId,group,article){try{var imageEl=group.querySelectorAll(this._constants.selectors.image)[0].firstChild;var headlineEl=group.querySelectorAll(this._constants.selectors.headline)[0].firstChild;
var anchorEl=group.querySelector("a");imageEl.style.backgroundImage="url("+article.image+")";imageEl.style.backgroundSize="cover";headlineEl.textContent=article.headline;anchorEl.setAttribute("href",article.link)}catch(e){this.error(campaignId,e)}},_settings:{},_validateSettings:function(){return!!(this._settings.feedFormat&&this._settings.feedUrl&&this._settings.responseParser&&typeof this._settings.responseParser==="function")},addSettings:function(settings){for(var s in settings)bouncex.recirc._settings[s]=
settings[s]},articlesAvailable:function(){return this._articles.length>0},error:function(campaignId,message){this.log(campaignId,message,true)},init:function(){if(!this.isEnabled())return;if(this.articlesAvailable())return;if(!this._validateSettings())return this.log(null,"settings failed validation");var storedArticles=this._getStoredArticles();if(storedArticles&&storedArticles.length){this.log(null,"retrieving articles from session storage");this._setArticles(storedArticles)}else{this.log(null,
"no articles found in storage; requesting from feed");this._requestFeed(this._getRequestOptions())}},isEnabled:function(){return!!this._settings.enabled},log:function(campaignId,message,isError){var data={group:"recirc",campaignId:campaignId,message:message};isError?Logger.error(data):Logger.info(data)},populateCreative:function(campaignId){if(!this.isEnabled())return false;if(!this.articlesAvailable())return false;var creative=document.getElementById("bx-campaign-"+campaignId);if(!creative)return this.error(campaignId,
"no creative found");var validGroups=this._getValidGroups(creative);var articles=this._getArticles();if(validGroups.length&&validGroups.length<=articles.length){this.log(campaignId,"populating article groups");for(var i=0;i<validGroups.length;i++)this._populateGroup(campaignId,validGroups[i],articles[i])}else if(validGroups.length)this.log(campaignId,"not enough articles to populate creative")}};

var Records={_records:[],_capacity:500,addRecord:function(record){if(!isBxInternalTraffic())return false;if(this._atCapacity())this._dropFirstRecord();var formattedRecord=bouncex.utils.isObject(record)?record:{};if(typeof record==="string")formattedRecord.message=record;formattedRecord.group=formattedRecord.group||false;formattedRecord.message=formattedRecord.message||"";formattedRecord.isError=!!formattedRecord.isError;formattedRecord.timestamp=getTimeMs();this._records.push(formattedRecord)},_atCapacity:function(){return this._records.length>=
this._capacity},_dropFirstRecord:function(){this._records.shift()},getRecords:function(filter){return typeof filter==="function"?this._records.filter(filter):this._records},printRecords:function(filter){var logString,timeString,color;this.getRecords(filter).forEach(function(record){timeString=(new Date(record.timestamp)).toLocaleTimeString();color=record.isError?"#FF0000":"#00F";logString="%c ";if(record.group)logString+="("+record.group+") ";if(record.campaignId)logString+="("+record.campaignId+
") ";logString+="("+timeString+") ";logString+=record.message;bouncex.log(logString,"color: "+color)})}};

var TabTalk={_flashTitle:function(campaignId,howManyTimes){var self=this;var campaign=bouncex.campaigns[campaignId];function step(){if(!campaign.custom_tab_title.flashOn){campaign.custom_tab_title.flashOn=true;if(campaign.custom_tab_title.formattedTitle)document.title=campaign.custom_tab_title.formattedTitle;self.changeFavicon(campaignId,false)}else{campaign.custom_tab_title.flashOn=false;if(campaign.custom_tab_title.formattedTitle)document.title=bouncex.originalTitle;self.changeFavicon(campaignId,
true)}if(--howManyTimes>0)bouncex.events[campaignId].effect_timeout=setTimeout2(step,2E3)}howManyTimes=howManyTimes?howManyTimes:5;this.cancelTitleUpdate(campaignId);step()},_scrollTitle:function(campaignId,position){var campaign=bouncex.campaigns[campaignId];if(!campaign.custom_tab_title.formattedTitle)return;position=position||0;function step(){var msg=campaign.custom_tab_title.formattedTitle+"  ";if(position>msg.length)position=0;document.title=msg.substr(position)+msg.substr(0,position);position+=
3;bouncex.events[campaignId].effect_timeout=setTimeout2(step,1E3)}this.cancelTitleUpdate(campaignId);step()},cancelTitleUpdate:function(campaignId){clearTimeout(bouncex.events[campaignId].effect_timeout);if(bouncex.originalTitle)document.title=bouncex.originalTitle;else document.title="";delete bouncex.campaigns[campaignId].custom_tab_title.flashOn},changeFavicon:function(campaignId,toOrig){var campaign=bouncex.campaigns[campaignId];if(!campaign.custom_tab_title.favicon_url)return;jQuery('link[rel~="icon"]').remove();
var link=document.createElement("link");link.type=toOrig?"image/x-icon":campaign.linkType;link.rel="icon";link.href=toOrig?campaign.originalFavicon:campaign.custom_tab_title.favicon_url;document.getElementsByTagName("head")[0].appendChild(link)},updateTitle:function(campaignId){var campaign=bouncex.campaigns[campaignId];bouncex.originalTitle=bouncex.originalTitle||document.title;var iconLink=jQuery('link[rel~="icon"]');campaign.originalFavicon=iconLink&&iconLink.attr("href")||"/favicon.ico";campaign.linkType=
campaign.custom_tab_title.favicon_type||"image/x-icon";var effect=campaign.custom_tab_title.effect;var flashTimes=effect==="flashForever"?Infinity:1;if(effect==="scroll")this._scrollTitle(campaignId);else this._flashTitle(campaignId,flashTimes*2-1);this.changeFavicon(campaignId,false)}};

var TrafficControl={apply:function(settings,callback){if(this._passesTrafficCheck(settings))callback()},_passesTrafficCheck:function(settings){if(settings.internal&&isBxInternalTraffic())return true;if(settings.liveTraffic)switch(settings.type){case "canary":return this._filterByPage(settings.liveTraffic);case "device":return this._filterByDevice(settings.liveTraffic);default:return this._filterByDevice(settings.liveTraffic)}return false},_filterByPage:function(percentage){this._pageId=typeof this._pageId===
"number"?this._pageId:Math.floor(Math.random()*100);return this._pageId<percentage},_filterByDevice:function(percentage){var deviceId=bouncex.cookie&&bouncex.cookie.did;return!!deviceId&&Number(deviceId.substr(deviceId.length-2))<percentage}};

bouncex.vst={_init:{buildVastEnv:function(campaignId,vastData){bouncex.vst._internal.groupCollapsed(campaignId,"init vast parser",false);var campaign,vastKey;campaign=bouncex.campaigns[campaignId];bouncex.vst.campaignId=campaignId;campaign.video.vast={handlingWrapper:false,wrapperLevel:0,tracking:{}};vastKey=bouncex.vst._helpers.isVastOrTag(vastData);bouncex.vst._init.kickoffVastParse(campaignId,vastKey,vastData)},kickoffVastParse:function(campaignId,key,vastData){switch(key){case "tag":return this.extractVastData(campaignId,
vastData);case "vastxml":return bouncex.vst._response.vastResponse(vastData)}},extractVastData:function(campaignId,vastUrl){bouncex.video.log(campaignId,"extract vast url: "+vastUrl,"vast");var validatedVastUrl=bouncex.vst._validations.checkVastUrl(vastUrl);bouncex.vst._http.call(campaignId,validatedVastUrl,"GET",null,bouncex.vst._response.vastResponse)}},_http:{call:function(campaignId,url,method,body,callback,secondTry){bouncex.video.log(campaignId,"making HTTP request","vast");bouncex.vst._validations.checkHttpRequest(campaignId,
url,callback);var xml=bouncex.vst._http.createXMLRequest();xml.onreadystatechange=function(){if(xml.readyState==4)if(xml.status===200){if(callback)callback(this,xml)}else if(!secondTry)bouncex.vst&&bouncex.vst._http.call(campaignId,url,method,body,callback,true);else if(xml.status!==0){bouncex.video.fail(campaignId,"XML request to parse vast data failed");return false}};xml.open(method,bouncex.vst._validations.checkUrl(url).href,true);if(secondTry)xml.withCredentials=true;try{if(body)xml.send(body);
else xml.send()}catch(err){var logSecondTryMsg=secondTry===true?" on second try":".";bouncex.video.fail(campaignId,"VAST [httpCall]: XHR request failed"+logSecondTryMsg+err.message);if(!secondTry)bouncex.vst._http.call(campaignId,url,method,body,callback,true,"vast")}},success:function(status){return status>=200&&status<300},createXMLRequest:function(){var xml;if(window.XMLHttpRequest)xml=new XMLHttpRequest;else if(window.ActiveXObject)xml=new ActiveXObject("Microsoft.XMLHTTP");return xml}},_response:{vastResponse:function(response){var campaignId=
bouncex.vst.campaignId;var ca=bouncex.campaigns[campaignId];var vastXml,adRecord;if(ca.video.vast.wrapperLevel>0&&!ca.video.vast.handlingWrapper){var loop=ca.video.vast.wrapperLevel;bouncex.vst._internal.groupCollapsed(campaignId,"re-init vast parser, wrapper found - on loop: "+loop,false)}else bouncex.video.log(campaignId,"init vast parser","vast");vastXml=bouncex.vst._validations.checkXml(response);adRecord=ca.video.vast;bouncex.vst._processVastData.getAd(campaignId,vastXml,response);if(!ca.failed&&
adRecord.vpaidUrl){bouncex.video.log(campaignId," -> Found VPAID","vast");bouncex.vst._loadPlayer.vpaidMedia(campaignId,adRecord)}else if(!ca.failed){bouncex.video.log(campaignId,"vast parse complete","vast");if(!ca.video.vast.handlingWrapper)bouncex.vst._loadPlayer.vastMedia(campaignId,adRecord)}if(!ca.video.vast.handlingWrapper)bouncex.vst._internal.groupEnd(campaignId,"exit vast parser",false)}},_xml:{convertStringToXML:function(xmlString){if(!typeof window.DOMParser){var internetExplorerXML=new ActiveXObject("Microsoft.XMLDOM");
internetExplorerXML.loadXML(xmlString);return internetExplorerXML}var xmlParser=new DOMParser;var parsedXML;try{parsedXML=xmlParser.parseFromString(xmlString,"application/xml");if(!parsedXML||parsedXML===""||this.parsingError(parsedXML))bouncex.log("error parsing XML string")}catch(err){bouncex.log("error parsing XML string")}return parsedXML},parsingError:function(xml){try{var parser=new DOMParser;var xmlError=parser.parseFromString("INVALID","text/xml");var xmlErrorMsg=xmlError.getElementsByTagName("parsererror")[0].namespaceURI;
return xml.getElementsByTagNameNS(xmlErrorMsg,"parsererror").length>0}catch(err){bouncex.log("xml parsing error: ",err)}},parseXmlText:function(text){if(/^\s*$/.test(text))return null;if(/^(?:true|false)$/i.test(text))return text.toLowerCase()==="true";return text.trim()},elementParsers:{init:function(campaignId,vastAd,vastXml,adRecord){var impressions,trackingEvents,wrapper,inline,video,companion,error,nonLinear;impressions=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastAd,"Impression",1);
trackingEvents=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastAd,"Tracking",1);wrapper=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastXml,"Wrapper",0);inline=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastAd,"InLine",0)!==null?bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastAd,"InLine",0):false;video=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,inline,"Linear",0)||bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,inline,"Video",0);error=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,
vastAd,"Error",1);if(!video&&!inline){nonLinear=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,inline,"NonLinear",0);companion=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastAd,"Companion",0)}if(companion)bouncex.video.log(campaignId,"SKIP -> [parseVastElements]: companion ads not currently supported","warning");if(nonLinear)bouncex.video.log(campaignId,"SKIP -> [parseVastElements]: nonlinear ads not currently supported","warning");if(error)bouncex.vst._tracking.recordErrorPixels(campaignId,
adRecord,error);if(impressions)bouncex.vst._tracking.recordImpressionPixels(adRecord,impressions);if(trackingEvents)bouncex.vst._tracking.recordEventPixels(adRecord,trackingEvents);if(wrapper){bouncex.vst._xml.elementParsers.handleWrapper(campaignId,wrapper);bouncex.campaigns[campaignId].video.vast.handlingWrapper=false;bouncex.campaigns[campaignId].video.vast.wrapperLevel+=1}if(video)this.handleVideo(campaignId,adRecord,video)},handleVideo:function(campaignId,adRecord,video){bouncex.vst._tracking.recordVideoClickTrackingPixels(campaignId,
adRecord,video);this.handleDuration(campaignId,adRecord,video);this.handleMediaFiles(campaignId,adRecord,video)},handleDuration:function(campaignId,adRecord,video){var duration=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,video,"Duration",0);var seconds,parsedDuration;if(duration!==null){if(bouncex.vst._xml.nodeParsers.nodeExists(duration)&&typeof duration!=="string")duration=bouncex.vst._xml.nodeParsers.getNodeValue(duration);duration=duration.split(".")[0];seconds=duration.split(":");parsedDuration=
parseInt(seconds[0]*60*60)+parseInt(seconds[2]);adRecord.duration=parsedDuration;bouncex.video.log(campaignId,"media duration -> "+adRecord.duration+"s","vast")}},handleMediaFiles:function(campaignId,adRecord,video){var mediaFiles=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,video,"MediaFile",1);var nonMp4File=null;var foundMp4=false;var path;if(mediaFiles===null||mediaFiles.length===0)bouncex.video.log(campaignId,"0 media files found","error");if(mediaFiles&&mediaFiles.length){for(var j=0;j<
mediaFiles.length;j++){adRecord.width=mediaFiles[j].getAttribute("width");adRecord.height=mediaFiles[j].getAttribute("height");adRecord.aspectRatio=adRecord.height/adRecord.width*100;adRecord.apiFramework=mediaFiles[j].getAttribute("apiFramework")||false;adRecord.type=mediaFiles[j].getAttribute("type");adRecord.aspectRatio=bouncex.vst._helpers.calculateAspectRatioData(adRecord.width,adRecord.height);adRecord.isVPAID=adRecord.apiFramework&&adRecord.apiFramework.toLowerCase()==="vpaid"&&adRecord.type===
"application/javascript"?true:false;adRecord.offsetAspectRatio=bouncex.campaigns[campaignId].video.player.offsetHeight/bouncex.campaigns[campaignId].video.player.offsetWidth*100;path=bouncex.vst._xml.nodeParsers.getNodeValue(mediaFiles[j])!==null?bouncex.vst._xml.nodeParsers.getNodeValue(mediaFiles[j]):this.handleUrlSources(campaignId);if(adRecord.type.toLowerCase().indexOf("mp4")>-1){adRecord.src=path;foundMp4=true;break}else if(adRecord.type.toLowerCase().indexOf("application/javascript")>-1)return bouncex.vst._loadPlayer.handleVPAID(campaignId,
adRecord,video,path);else{nonMp4File={"path":path,"type":adRecord.type};adRecord.src=nonMp4File.path;adRecord.type=nonMp4File.type;adRecord.vpaidUrl=false}}if(foundMp4===false&&!adRecord.vpaidUrl&&nonMp4File!==null){adRecord.src=nonMp4File.path;adRecord.type=nonMp4File.type;adRecord.vpaidUrl=false}}},handleUrlSources:function(campaignId){var path;var sources=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,video,"URL",1);if(sources)for(var k=0;k<sources.length;k++)path=bouncex.vst._xml.nodeParsers.getNodeValue(sources[k]);
return path},handleWrapper:function(campaignId,wrapper){var urlNode,vastUrl;bouncex.vst._tracking.processWrapperEventPixels(campaignId,wrapper);urlNode=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,wrapper,"VASTAdTagURL",0)||bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,wrapper,"VASTAdTagURI",0);vastUrl=urlNode.firstChild.nodeValue?urlNode.firstChild.nodeValue.trim():false;if(vastUrl){bouncex.campaigns[campaignId].video.vast.handlingWrapper=true;bouncex.vst._init.extractVastData(campaignId,
vastUrl)}else bouncex.video.fail(campaignId,"failed to extract a VAST URL node from the XML Wrapper element")}},nodeParsers:{getXmlNode:function(campaignId,xml,node,which){var elements,logMsg,randomFactor,randomNumber;if(xml===null||xml===undefined||xml.length<1){bouncex.video.log(campaignId,"Failed to extract node -> "+node+". XML is null. Searched node: "+node,"warning");return null}elements=typeof xml==="object"?xml.getElementsByTagName(node):false;if(elements===null||elements.length<1){if(node!==
"Companion"&&node!=="NonLinear")bouncex.video.log(campaignId,"Failed to find node -> "+node,"vast");return null}if(which===0){bouncex.video.log(campaignId,"Extracted first occurrence of node -> "+node,"vast");return elements[0]}else if(which===1){if(elements.length>1)logMsg="Extracted "+elements.length+" occurrences of node -> "+node;else logMsg="Extracted "+elements.length+" occurrence of node -> "+node;bouncex.video.log(campaignId,logMsg,"vast");return elements}else{randomFactor=elements.length-
1;randomNumber=Math.round(Math.random()*randomFactor);bouncex.video.log(campaignId,"Extracted random element["+randomNumber+"] out of "+elements.length+" "+node+" nodes","vast");return elements[randomNumber]}},parseNodeText:function(node){return node&&(node.textContent||node.text)},nodeExists:function(node){return node!==null&&node.firstChild!==null},getNodeValue:function(node){var firstChildExist=node&&node.firstChild?true:false;var firstChild=firstChildExist?node.firstChild:false;if(node.nodeName===
"MediaFile")if(node&&node.childNodes&&node.childNodes.length>1&&firstChild.nodeName==="#text")for(var i=0;i<node.childNodes.length;i++)if(node.childNodes[i].nodeName==="URL"){firstChild=node.childNodes[i];firstChildExist=true}if(firstChildExist){if(firstChild.nodeValue&&firstChild.nodeValue.trim()!=="")return firstChild.nodeValue;if(firstChild.nextSibling&&firstChild.nextSibling.data&&firstChild.nextSibling.data.trim()!=="")return firstChild.nextSibling.data;if(firstChild.wholeText&&firstChild.wholeText!==
""&&firstChild.wholeText.trim()!=="")return firstChild.wholeText.trim()}return null}}},_tracking:{recordEventPixels:function(adRecord,trackingEvents){var videoEvent;for(var k=0;k<trackingEvents.length;k++){var trackingNode=trackingEvents[k];if(bouncex.vst._xml.nodeParsers.nodeExists(trackingNode)){trackingNode=bouncex.vst._xml.nodeParsers.getNodeValue(trackingNode);videoEvent=trackingEvents[k].getAttribute("event");adRecord.tracking[videoEvent]=adRecord.tracking[videoEvent]||[];if(adRecord.tracking[videoEvent].indexOf(trackingNode)===
-1)adRecord.tracking[videoEvent].push(trackingNode)}}},recordVideoClickTrackingPixels:function(campaignId,adRecord,video){var videoClicks=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,video,"VideoClicks",0);var clickTracking,clickTrackingUrl,clickThrough;if(videoClicks!==null){clickThrough=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,videoClicks,"ClickThrough",0);if(clickThrough!==null&&clickThrough.firstChild!==null)adRecord.clickThrough=bouncex.vst._xml.nodeParsers.getNodeValue(clickThrough);
clickTracking=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,videoClicks,"ClickTracking",0);clickTrackingUrl=clickTracking?bouncex.vst._xml.nodeParsers.getNodeValue(clickTracking):null;adRecord.tracking.clickTracking=adRecord.tracking.clickTracking||[];if(clickTrackingUrl&&adRecord.tracking.clickTracking.indexOf(clickTrackingUrl)===-1)adRecord.tracking.clickTracking.push(clickTrackingUrl)}},recordErrorPixels:function(adRecord,error){for(var i=0;i<error.length;i++){var node=error[i];if(bouncex.vst._xml.nodeParsers.nodeExists(node)){node=
bouncex.vst._xml.nodeParsers.getNodeValue(node);adRecord.tracking.error=adRecord.tracking.error||[];if(node!==null&&adRecord.tracking.error.indexOf(node)===-1)adRecord.tracking.error.push(node)}}},recordImpressionPixels:function(adRecord,impressions){for(var i=0;i<impressions.length;i++){var node=impressions[i];if(bouncex.vst._xml.nodeParsers.nodeExists(node)){node=bouncex.vst._xml.nodeParsers.getNodeValue(node);adRecord.tracking.impression=adRecord.tracking.impression||[];if(node!==null&&adRecord.tracking.impression.indexOf(node)===
-1)adRecord.tracking.impression.push(node)}}},processWrapperEventPixels:function(campaignId,wrapper){bouncex.video.log(campaignId,"WRAPPER: init extraction","vast");var adRecord=bouncex.campaigns[campaignId].video.vast;var impressions=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,wrapper,"Impression",1);var trackingEvents=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,wrapper,"Tracking",1);var video=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,wrapper,"Linear",0);var error=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,
wrapper,"Error",1);if(impressions){bouncex.video.log(campaignId,"WRAPPER: handling impressions","vast");bouncex.vst._tracking.recordImpressionPixels(adRecord,impressions)}if(error){bouncex.video.log(campaignId,"WRAPPER: handling error pixels","vast");bouncex.vst._tracking.recordErrorPixels(campaignId,adRecord,error)}if(trackingEvents){bouncex.video.log(campaignId,"WRAPPER: handling tracking events","vast");bouncex.vst._tracking.recordEventPixels(adRecord,trackingEvents)}if(video){bouncex.video.log(campaignId,
"WRAPPER: handling inline ad click tracking","vast");bouncex.vst._xml.elementParsers.handleVideo(campaignId,adRecord,video)}}},_processVastData:{getAd:function(campaignId,vastXml,response){var mediaFile=vastXml.getElementsByTagName("MediaFile"),vastAd=this.addMetaData(campaignId,vastXml),adRecord=bouncex.campaigns[campaignId].video.vast;bouncex.vst._validations.checkMediaExists(campaignId,vastXml,mediaFile,response);bouncex.vst._xml.elementParsers.init(campaignId,vastAd,vastXml,adRecord)},addMetaData:function(campaignId,
vastXml){var vastAd=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastXml,"Ad",2);var adMetaData={};if(vastAd===null)return false;adMetaData.adId=vastAd.getAttribute("id")||null;adMetaData.type=vastAd.nodeName||null;adMetaData.system=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("AdSystem")[0])||false;adMetaData.title=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("AdTitle")[0])||false;adMetaData.description=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("Description")[0])||
false;adMetaData.system=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("AdSystem")[0])||false;adMetaData.title=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("AdTitle")[0])||false;adMetaData.description=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("Description")[0])||false;adMetaData.advertiser=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("Advertiser")[0])||false;adMetaData.pricing=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("Pricing")[0])||
false;adMetaData.category=bouncex.vst._xml.nodeParsers.parseNodeText(vastAd.getElementsByTagName("Category")[0])||false;if(bouncex.campaigns[campaignId].video.vast.wrapperLevel===0)bouncex.campaigns[campaignId].video.vast.metaData=adMetaData;return vastAd}},_validations:{checkMediaExists:function(campaignId,vastXml,mediaFile,response){if(mediaFile===null||mediaFile.length<1){var xmlWrapper=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,vastXml,"Wrapper",0);var xmlStatus=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,
vastXml,"status",0);if(xmlStatus&&xmlStatus.innerHTML==="NO_AD")bouncex.video.fail(campaignId,"vastResponse with no ad - status: "+xmlStatus.innerHTML+", campaign failed.");if(xmlWrapper===null)bouncex.video.fail(campaignId,"vastResponse without video, campaign failed")}},checkVastUrl:function(vastUrl){var vastUrlCheck=bouncex.vst._validations.checkUrl(vastUrl);var validatedVastUrl=vastUrlCheck.href||null;if(window.location.protocol==="https:"&&vastUrlCheck.protocol!=="https")validatedVastUrl="https:"+
validatedVastUrl.substring(5);return validatedVastUrl},checkHttpRequest:function(campaignId,url,callback){if(typeof callback!=="function")bouncex.video.fail(campaignId,"VAST [validateHttpCall]: callback is not a function",true);if(typeof url!=="string")bouncex.video.fail(campaignId,"VAST [validateHttpCall]: not a valid url",true)},checkUrl:function(url){var quirksMode=document.documentMode;var urlNode=document.createElement("a");if(quirksMode){urlNode.setAttribute("href",url);url=urlNode.href}urlNode.setAttribute("href",
url);return{href:urlNode.href,protocol:urlNode.protocol?urlNode.protocol.replace(/:$/,""):"",hostname:urlNode.hostname,path:urlNode.pathname.charAt(0)==="/"?urlNode.pathname:"/"+urlNode.pathname}},checkXml:function(response){var vastXmlResponse;if(typeof response==="string"){var parsedXml=bouncex.vst._xml.convertStringToXML(response);vastXmlResponse=parsedXml}else if(response!==null||response.responseXML!==null||response.responseText!==null){var xmlResponse=response.responseXML||response.responseText||
response.response;if(typeof xmlResponse==="string")try{vastXmlResponse=bouncex.vst._xml.convertStringToXML(response.responseText)}catch(err){bouncex.video.log(campaignId,"vastResponse returned null from url "+params,"error");return false}else vastXmlResponse=xmlResponse}else{var params=response?{"url":encodeURIComponent(response.responseURL)}:{};bouncex.video.log(campaignId,"vast url returned null response | "+params,"error");return false}return vastXmlResponse}},_loadPlayer:{vastMedia:function(campaignId,
vastRecord){if(bouncex.video.canPlayMedia(campaignId)){var src=vastRecord.src&&typeof vastRecord.src!=="string"?JSON.stringify(vastRecord.src):vastRecord.src?vastRecord.src:"";bouncex.video.log(campaignId,"found compatible media file ("+src+")","vast");bouncex.campaigns[campaignId].video.status.vastDataLoaded=true;bouncex.video.configPlayer(campaignId)}},vpaidMedia:function(campaignId,adRecord){bouncex.campaigns[campaignId].video.status.vastDataLoaded=true;var scriptElement=document.createElement("SCRIPT");
scriptElement.type="text/javascript";scriptElement.src=adRecord.vpaidUrl;scriptElement.onload=function(){bouncex.vpd.generateVPAIDManager(campaignId)};window.top.document.body.appendChild(scriptElement)},handleVPAID:function(campaignId,adRecord,video,path){var adParams=bouncex.vst._xml.nodeParsers.getXmlNode(campaignId,video,"AdParameters",0);adRecord.vpaidWidth=jQuery("#bx-creative-"+campaignId+" .bx-video-wrapper").css("width").replace(/[^0-9.]/g,"");adRecord.vpaidHeight=jQuery("#bx-creative-"+
campaignId+" .bx-video-wrapper").css("height").replace(/[^0-9.]/g,"");adRecord.vpaidUrl=window.location.protocol==="https:"&&path.indexOf("http:")===0?"https:"+path.substring(5):path;adRecord.isVPAID=true;bouncex.campaigns[campaignId].video.isVPAID=true;if(adParams){adParams=bouncex.vst._xml.nodeParsers.getNodeValue(adParams);adRecord.vpaidAdParams=adParams}}},_helpers:{isVastOrTag:function(data){var isInlineVast=/^[\s]*<VAST/i.test(data);return isInlineVast?"vastxml":"tag"},toCamelCase:function(str){return str.charAt(0).toLowerCase()+
str.slice(1)},calculateAspectRatioData:function(width,height){var data={};var ratio=parseInt(width)/parseInt(height);switch(ratio){case 4/3:data.paddingTop="75%";break;case 3/2:data.paddingTop=String(100/(3/2))+"%";break;case 16/9:data.paddingTop="56.25%";break;case 1:data.paddingTop=false;break;case 8/5:data.paddingTop="62.5%";break}data.ratio=ratio;return data}},_internal:{groupCollapsed:function(campaignId,msg,fail){var campaign=campaignId?"("+campaignId+")":"";bouncex.console.groupCollapsed("%c vast parser "+
campaign+": "+msg,"color: "+(fail?"#FF0000":"#09AF59"))},groupEnd:function(campaignId,msg,fail){var campaign=campaignId?"("+campaignId+")":"";bouncex.console.groupEnd("%c vast parser "+campaign+": "+msg,"color: "+(fail?"#FF0000":"#09AF59"))}}};

bouncex.video={init:function(campaignId,vastData,provider,placement){bouncex.campaigns[campaignId].video=bouncex.campaigns[campaignId].video||{};bouncex.video.buildEnv(campaignId,provider,placement);try{bouncex.vst._init.buildVastEnv(campaignId,vastData)}catch(err){bouncex.video.fail(campaignId,err)}},buildEnv:function(campaignId,provider,placement){var self=bouncex.campaigns[campaignId].video;self.player=document.getElementById("bx-video-player-"+campaignId);self.uniqueEventPixels=[];self.vast={};
self.vpaid={};self.integrations={};self.integrations.moatApiReference={};self.config={};self.config.provider=provider;self.creative={};self.creative.requestWidth=placement.width;self.creative.requestHeight=placement.height;self.status={ready:false,qOne:false,midpoint:false,qThree:false,vastDataLoaded:false,stopped:false}},canPlayMedia:function(campaignId){var dummyPlayer=document.createElement("VIDEO");var mediaType=bouncex.campaigns[campaignId].video.vast.type;if(dummyPlayer.canPlayType(mediaType)===
"maybe"||dummyPlayer.canPlayType(mediaType)==="probably"){bouncex.video.log(campaignId,"media file supported","player");return true}else{var wrapperLevel=bouncex.campaigns[campaignId].video.vast.wrapperLevel||false;bouncex.vst._internal.groupEnd(campaignId,"vast parser exit",false);if(wrapperLevel&&!mediaType)bouncex.video.log(campaignId,"no media found on wrapper level "+wrapperLevel,"warning");else bouncex.video.log(campaignId,"video player does not support "+mediaType,"error")}},bxPlayerPop:function(campaignId,
type){var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player);report(campaignId,"pop",{"pop:activation":type,"video_type":playerSnapshot.isVPAID?"VPAID":"VAST","media_type":playerSnapshot.type,"media_size":playerSnapshot.dimensions.videoWidth+"x"+playerSnapshot.dimensions.videoHeight})},onPlay:function(campaignId){var ca=bouncex.campaigns[campaignId];var player=ca.video.player;var provider=ca.video.config.provider;var staticVastTag=bouncex.campaigns[campaignId].video.config.src.indexOf("/demo/ads_demo_video.mp4")>
-1;var playerState=bouncex.video.getPlayerSnapshot(campaignId,player);bouncex.off(jQuery(player),"onplay");ca.video.videoResponseLoaded=true;if(provider==="aqbx"&&staticVastTag)bouncex.video.aqbxStyleFix(campaignId,player);try{player.play()}catch(err){bouncex.video.log(campaignId,"error: "+err,"error")}bouncex.video.report(campaignId,"video_play");bouncex.video.fireTrackingEvents(campaignId,"start");var moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoStart",playerState.volume);
ca.video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},play:function(campaignId){var campaign=bouncex.campaigns[campaignId];var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,campaign.video.player);if(playerSnapshot.isVPAID&&playerSnapshot.ready&&campaign.video.videoResponseLoaded)campaign.video.vpaid.ad.startAd();else if(!playerSnapshot.playing&&playerSnapshot.ready&&campaign.video.videoResponseLoaded)campaign.video.player.play()},playVideoBeforeImpression:function(type,
campaignId){var campaign=bouncex.campaigns[campaignId];this._integrations.moat.init(campaignId,campaign.video.vast);var player=campaign.video.player;var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,campaign.video.player);var moatDispatch=this._integrations.moat.apiReference;campaign.video.integrations.moatApiReference=bouncex.video._integrations.moat.initMoatTracking(moatDispatch.container,moatDispatch.ids,moatDispatch.duration,moatDispatch.partnerCode,moatDispatch.url);if(playerSnapshot.isVPAID)bouncex.vpd.playVPAIDBeforeImpression(type,
campaignId);else{bouncex.on(jQuery(player),"onplay",bouncex.video.onPlay(campaignId));bouncex.on(jQuery(player),"onerror",function(data){jQuery(player).off("onerror");player.pause();bouncex.campaigns[campaignId].video.status.stopped=true;bouncex.video.fail(campaignId,data.message?data.message:"error loading video response")});if(campaign.video.videoResponseLoaded){show_ad(type,campaignId);bouncex.video.report(campaignId,"video_impression");bouncex.video.fireTrackingEvents(campaignId,"impression")}}},
configPlayer:function(campaignId){var campaign=bouncex.campaigns[campaignId];var playerConfig=campaign.video.config||{};var vastConfig=campaign.video.vast;var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,campaign.video.player);if(!playerSnapshot.isVPAID){playerConfig.src=vastConfig.src||"//"+bouncex.website.biu+"/assets/global/videos/pub/demo/ads_demo_video.mp4";playerConfig.clickThroughUrl=vastConfig.clickThrough||false}playerConfig.aspectRatio=vastConfig.aspectRatio;playerConfig.offsetAspectRatio=
vastConfig.offsetAspectRatio;if(playerSnapshot.isVPAID){playerConfig.width=vastConfig.vpaidWidth;playerConfig.height=vastConfig.vpaidHeight}else{playerConfig.width=vastConfig.width;playerConfig.height=vastConfig.height}bouncex.video.stylePlayer(campaignId);if(!playerSnapshot.isVPAID){var videoPlayer=document.getElementById("bx-video-player-"+campaignId);jQuery(videoPlayer).attr("src",bouncex.campaigns[campaignId].video.config.src);bouncex.video.setClickThroughUrl(campaignId,playerConfig.clickThroughUrl);
bouncex.video.addVideoEventTrackingListeners(campaignId)}campaign.video.config=playerConfig},setClickThroughUrl:function(campaignId,url){var player=bouncex.campaigns[campaignId].video.player;if(url!==""&&url!==false)jQuery(player).attr("href",url)},clickThroughHelper:function(campaignId,url){var newTab=window.open(url,"_blank");newTab.focus()},toggleMute:function(campaignId){var player=bouncex.campaigns[campaignId].video.player;jQuery(".bx-video-wrapper").toggleClass("bx-video-player-unmuted");if(player.muted)player.muted=
!player.muted;else player.muted=true},playPausePlayer:function(campaignId){var player=bouncex.campaigns[campaignId].video.player;if(player.paused||player.ended)player.play();else player.pause()},updateProgressPlayer:function(campaignId){var totalTime=document.getElementById("bx-video-progress-wrapper-"+campaignId).getElementsByClassName("bx-video-progress-time-total");var timeElapsed=document.getElementById("bx-video-progress-wrapper-"+campaignId).getElementsByClassName("bx-video-progress-time-left");
var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player);var currentTime=playerSnapshot.time.inSeconds!==false?playerSnapshot.time.inSeconds:0;var adDuration=Math.floor(playerSnapshot.time.durationRounded);var currentFormatted=bouncex.video.getFormattedTime(currentTime);var durationFormatted=bouncex.video.getFormattedTime(adDuration);jQuery(timeElapsed).text(currentFormatted);jQuery(totalTime).text(durationFormatted)},toMinutes:function(time){return(time/
60).toFixed(2).replace(".",":")},toSeconds:function(time){if(time<10)time=("0"+time).slice(-2);time="0:"+time;return time},getFormattedTime:function(time){var formatted;if(time<60)formatted=bouncex.video.toSeconds(time);else formatted=bouncex.video.toMinutes(time);return formatted},canPlay:function(campaignId){if(!bouncex.campaigns[campaignId].video.isVPAID){var playerState=bouncex.campaigns[campaignId].video.status;playerState.ready=true;playerState.canPlayEvent=true;bouncex.video.playerReady(campaignId);
jQuery(bouncex.campaigns[campaignId].video.player).unbind("canplay.bx-"+campaignId)}},ready:function(campaignId){var campaign=bouncex.campaigns[campaignId];return campaign.video.status&&campaign.video.status.ready&&!campaign.video.videoResponseLoaded},playerReady:function(campaignId){if(bouncex.campaigns[campaignId].video.status.ready){if(!bouncex.campaigns[campaignId].video.isVPAID)bouncex.video.updateProgressPlayer(campaignId);bouncex.gbi2._activateCampaign(campaignId)}else bouncex.video.log(campaignId,
"player not ready","player")},getPlayerSnapshot:function(campaignId,player){var adRecord=bouncex.campaigns[campaignId].video.vast;var duration=player.duration||adRecord.duration;var firstQuartile=Math.floor(duration*.25);var midpoint=Math.floor(firstQuartile*2);var thirdQuartile=Math.floor(firstQuartile*3);var status=bouncex.campaigns[campaignId].video.status;var campaignVast=bouncex.campaigns[campaignId].video.vast;var creative=bouncex.campaigns[campaignId].video.creative;var state={ended:player.ended,
playing:!player.paused,paused:player.paused,type:player.currentType||adRecord.type,src:player.currentSrc||campaignVast.vpaidUrl,clickThroughUrl:adRecord.clickThrough,muted:player.muted,volume:player.volume,ready:status.ready||false,playbackRate:player.playbackRate,seeking:player.seeking,isVPAID:bouncex.campaigns[campaignId].video.vast.isVPAID,vastDataLoaded:status.vastDataLoaded,dimensions:{offsetWidth:player.offsetWidth,offsetHeight:player.offsetHeight,videoWidth:player.videoWidth||adRecord.vpaidWidth,
videoHeight:player.videoHeight||adRecord.vpaidHeight,requestWidth:creative.requestWidth,requestHeight:creative.requestHeight},time:{duration:duration,durationRounded:Math.floor(duration),currentUnformatted:player.currentTime||false,inSeconds:parseInt(player.currentTime%60)||false,firstQuartile:{value:firstQuartile,passed:status.qOne||false},midpoint:{value:midpoint,passed:status.midpoint||false},thirdQuartile:{value:thirdQuartile,passed:status.qThree||false}}};return state},stylePlayer:function(campaignId){var creative=
bouncex.campaigns[campaignId].video.creative;creative.dynamicHeight=bouncex.campaigns[campaignId].obj1.find(".bx-creative-"+campaignId+" .bx-row-video").width();creative.dynamicWidth=bouncex.campaigns[campaignId].obj1.find(".bx-creative-"+campaignId+" .bx-row-video").height();jQuery(".bxc.bx-campaign-"+campaignId).addClass("bx-width-full-content");jQuery("body").on("focus","#bx-video-btns-"+campaignId+" .bx-video-btn",function(){jQuery("#bx-video-wrapper-"+campaignId).addClass("bx-video-wrapper-has-focus")}).on("blur",
"#bx-video-btns-"+campaignId+" .bx-video-btn",function(){jQuery(".bx-video-wrapper-"+campaignId).removeClass("bx-video-wrapper-has-focus")});if(!bouncex.campaigns[campaignId].video.vast.isVPAID)bouncex.video.adjustAspectRatio(campaignId)},adjustAspectRatio:function(campaignId){var video=bouncex.campaigns[campaignId].video;var mediaPadding=video.vast.aspectRatio.paddingTop;var mediaAspectRatio=video.vast.aspectRatio.ratio;var creativeWidth=video.creative.dynamicWidth;var creativeHeight=video.creative.dynamicHeight;
var creativeAspectRatio=creativeWidth/creativeHeight;var staticAqbxVastTag=video.config.src.indexOf("/demo/ads_demo_video.mp4")>-1&&bouncex.campaigns[campaignId].video.config.provider==="aqbx";var threeToFourRatio=video.config.height==="300"&&video.config.width==="400"&&mediaPadding==="75%";if(mediaPadding&&mediaAspectRatio!==creativeAspectRatio&&!staticAqbxVastTag&&!threeToFourRatio){jQuery("#bx-video-wrapper-"+campaignId).addClass("bx-video-aspectRatio-fix-"+campaignId);jQuery(".bx-video-aspectRatio-fix-"+
campaignId).css("padding-top",mediaPadding)}},aqbxStyleFix:function(campaignId,player){var mediaHeight=jQuery(player)[0].videoHeight;var mediaWidth=jQuery(player)[0].videoWidth;var currentVideoCreativeWidth=Number(jQuery(".bx-creative-"+campaignId+" .bx-row-video").css("width").split("px")[0]);var aspectRatio=mediaWidth/mediaHeight;var newHeight=(currentVideoCreativeWidth/aspectRatio).toString()+"px";jQuery(".bx-creative-"+campaignId+" .bx-video-wrapper").css("height",newHeight)},detectVideoProgress:function(campaignId,
qOne,mid,qThree){var playerState=bouncex.campaigns[campaignId].video.status;var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player);var seconds=playerSnapshot.time.inSeconds;var moatEventData;if(qOne===seconds&&!playerSnapshot.time.firstQuartile.passed){moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoFirstQuartile",playerSnapshot.volume);bouncex.video.report(campaignId,"video_play_first_quartile");bouncex.video.fireTrackingEvents(campaignId,
"firstQuartile");playerState.qOne=true}else if(mid===seconds&&!playerSnapshot.time.midpoint.passed){moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoMidpoint",playerSnapshot.volume);bouncex.video.report(campaignId,"video_play_midpoint");bouncex.video.fireTrackingEvents(campaignId,"midpoint");playerState.midpoint=true}else if(qThree===seconds&&!playerSnapshot.time.thirdQuartile.passed){moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoThirdQuartile",playerSnapshot.volume);
bouncex.video.report(campaignId,"video_play_third_quartile");bouncex.video.fireTrackingEvents(campaignId,"thirdQuartile");playerState.qThree=true}if(moatEventData)bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},addVideoEventTrackingListeners:function(campaignId){var player=document.getElementById("bx-video-player-"+campaignId);var playerEvents=" volumechange.bx-"+campaignId+" canplay.bx-"+campaignId+" durationchange.bx-"+campaignId+" ended.bx-"+
campaignId+" pause.bx-"+campaignId+" play.bx-"+campaignId+" playing.bx-"+campaignId+" timeupdate.bx-"+campaignId+" loadeddata.bx-"+campaignId+" error.bx-"+campaignId+" click.bx-"+campaignId+" canplaythrough.bx-"+campaignId+"touchend.bx-"+campaignId+"onplay.bx-"+campaignId;bouncex.campaigns[campaignId].video.player=player;bxBind(player,playerEvents,function(event){bouncex.video.handleVideoEvents(campaignId,player,event)});this.handleVideoClose(campaignId)},handleVideoEvents:function(campaignId,player,
event){var type=event.type;var playerState=bouncex.campaigns[campaignId].video.status;var playerMetadata=bouncex.video.getPlayerSnapshot(campaignId,player);if(type==="canplaythrough"&&!playerState.canPlayEvent)bouncex.video.canPlay(campaignId);else if(type==="loadeddata")bouncex.video.report(campaignId,"video_load");else if(type==="canplay")bouncex.video.canPlay(campaignId);else if(type==="play")this.handlePlayEvent(campaignId,playerMetadata);else if(type==="volumechange")this.handleVolumechangeEvent(campaignId,
playerMetadata,player);else if(type==="timeupdate"&&!playerMetadata.isVPAID)this.handleTimeUpdateEvent(campaignId,playerMetadata);else if(type==="pause"&&!bouncex.campaigns[campaignId].video.status.stopped&&!bouncex.campaigns[campaignId].video.player.ended)this.handlePauseEvent(campaignId,playerMetadata);else if(type==="ended")this.handleEndEvent(campaignId,playerMetadata);else if(type==="error"){var errorMessage=e.data&&e.data.message?e.data.message:"an error has occurred, campaign failed";bouncex.video.fail(campaignId,
errorMessage)}else if(type==="click"||type==="touchend")this.handleClickEvent(campaignId,playerMetadata)},handleVideoClose:function(campaignId){var player=document.getElementById("bx-video-player-"+campaignId);var closeBtn=document.getElementById("bx-creative-"+campaignId).getElementsByClassName("bx-close-link");bouncex.campaigns[campaignId].video.player=player;jQuery(closeBtn).on("click.bx-"+campaignId,function(){var playerMetadata=bouncex.video.getPlayerSnapshot(campaignId,player);var moatEventData=
bouncex.video._integrations.moat.getDispatchEventParams("AdStopped",playerMetadata.volume);if(bouncex.campaigns[campaignId].video.vast.isVPAID===false){bouncex.campaigns[campaignId].video.status.stopped=true;player.pause()}player.ended=true;bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)})},handlePlayEvent:function(campaignId,playerMetadata){var moatEventData=this._integrations.moat.getDispatchEventParams("AdPlaying",playerMetadata.volume);
jQuery(".bx-creative-"+campaignId+" .bx-video-wrapper").toggleClass("bx-video-player-paused");bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},handleVolumechangeEvent:function(campaignId,playerMetadata,player){var moatEventData=this._integrations.moat.getDispatchEventParams("AdVolumeChange",playerMetadata.volume);if(player.muted)bouncex.video.fireTrackingEvents(campaignId,"mute");bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,
campaignId)},handleTimeUpdateEvent:function(campaignId,playerMetadata){bouncex.video.updateProgressPlayer(campaignId);bouncex.video.detectVideoProgress(campaignId,playerMetadata.time.firstQuartile.value,playerMetadata.time.midpoint.value,playerMetadata.time.thirdQuartile.value)},handlePauseEvent:function(campaignId,playerMetadata){var moatEventData=bouncex.video._integrations.moat.getDispatchEventParams("AdPaused",playerMetadata.volume);jQuery(".bx-creative-"+campaignId+" .bx-video-wrapper").toggleClass("bx-video-player-paused");
bouncex.video.report(campaignId,"video_pause");bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},handleClickEvent:function(campaignId,playerMetadata){if(playerMetadata.clickThroughUrl)bouncex.video.clickThroughHelper(campaignId,playerMetadata.clickThroughUrl);bouncex.video.fireTrackingEvents(campaignId,"click")},handleEndEvent:function(campaignId,playerMetadata){var moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoComplete",
playerMetadata.volume);bouncex.video.report(campaignId,"video_play_complete");bouncex.video.fireTrackingEvents(campaignId,"complete");bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId);bouncex.off(bouncex.window," volumechange.bx-"+campaignId+" canplay.bx-"+campaignId+" durationchange.bx-"+campaignId+" ended.bx-"+campaignId+" pause.bx-"+campaignId+" play.bx-"+campaignId+" playing.bx-"+campaignId+" timeupdate.bx-"+campaignId+" loadeddata.bx-"+
campaignId+" error.bx-"+campaignId+" click.bx-"+campaignId+" canplaythrough.bx-"+campaignId+"touchend.bx-"+campaignId+"onplay.bx-"+campaignId);bouncex.close_ad(campaignId)},getEventUrls:function(campaignId,event){var eventUrls;if(bouncex.campaigns[campaignId].video.vast.vpaidUrl)eventUrls=bouncex.campaigns[campaignId].video.vpaid.vastConfig.tracking[event];else eventUrls=bouncex.campaigns[campaignId].video.vast.tracking[event];if(!eventUrls||eventUrls.length===0)return false;else if(typeof eventUrls===
"string")eventUrls=[eventUrls];return eventUrls},fireTrackingEvents:function(campaignId,event){var alreadyCalled=false;var calledEvents=bouncex.campaigns[campaignId].video.uniqueEventPixels||[];var eventPixel;var eventUrls=this.getEventUrls(campaignId,event);if(!eventUrls)return;for(var i=0;i<eventUrls.length;i++){var eventPixelUrl=eventUrls[i];if(eventPixelUrl==null||eventPixelUrl.length<1||eventPixelUrl.indexOf("http")===-1)continue;if(calledEvents.includes(eventPixelUrl)){alreadyCalled=true;continue}else calledEvents.push(eventPixelUrl);
bouncex.video.log(campaignId,!alreadyCalled?"firing event pixel "+eventPixelUrl+" for "+event:"already fired event pixel for "+event,"eventpixel");eventPixel=document.createElement("img");eventPixel.src=eventPixelUrl}},_integrations:{moat:{apiReference:{},init:function(campaignId,vastData){bouncex.video.log(campaignId,"init moat integration","moat");bouncex.video._integrations.moat.apiReference=this.getMoatApiReference(campaignId,vastData)},initMoatTracking:function(a,c,d,h,k){var f=document.createElement("script"),
b=[];c={adData:{ids:c,duration:d,url:k},dispatchEvent:function(a,id){if(id)bouncex.video.log(id,a.type,"moat");this.sendEvent?(b&&(b.push(a),a=b,b=!1),this.sendEvent(a)):b.push(a)}};d="_moatApi"+Math.floor(1E8*Math.random());var e,g;try{e=a.ownerDocument,g=e.defaultView||e.parentWindow}catch(l){e=document,g=window}g[d]=c;f.type="text/javascript";a&&a.insertBefore(f,a.childNodes[0]||null);f.src="https://z.moatads.com/"+h+"/moatvideo.js#"+d;return c},getMoatApiReference:function(campaignId,vastData){var campaign=
bouncex.campaigns[campaignId];var params={partnerCode:"bouncexjsvideo854426616072",container:bouncex.campaigns[campaignId].video.player,url:vastData.src,duration:vastData.duration,ids:{level1:window.location.host+"("+bouncex.website.id+")",level2:campaign.type==="overlay"?campaign.type:campaign.subtype,level3:vastData.isVPAID?"VPAID":"VAST",level4:"video",slicer1:bouncex.state.mobile?"mobile":"desktop",slicer2:campaign.trigger}};return params},getDispatchEventParams:function(eventName,volume){return{type:eventName,
adVolume:volume}}}},report:function(campaignId,eventName,metadata){bouncex.video.log(campaignId,'reporting event "'+eventName+'"',"player");var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player);var metadata=metadata||{};metadata.source="ads";metadata.agent="js";metadata.video_type=playerSnapshot.isVPAID?"VPAID":"VAST";metadata.media_type=playerSnapshot.type;metadata.media_size=playerSnapshot.dimensions.videoWidth+"x"+playerSnapshot.dimensions.videoHeight;
metadata.video_length=playerSnapshot.time.duration;if(eventName==="video_pause")metadata.pause_location=playerSnapshot.time.currentUnformatted;buildReport(campaignId,eventName,metadata)},log:function(campaignId,msg,job){var campaign=campaignId?"["+campaignId+"]":"";var provider="("+(bouncex.campaigns[campaignId]?bouncex.campaigns[campaignId].video.config.provider||"no provider":"stack")+")";var color;var error=job==="error"?"#FF0000":"#00F";Records.addRecord({group:"video",campaignId:campaignId,message:msg,
isError:error});switch(job){case "vast":color="#09AF59";break;case "vpaid":color="#226666";break;case "player":color="#8E29D4";break;case "moat":color="#A13647";break;case "error":color="#FF0000";bouncex.video.report(campaignId,"video_error",msg);break;case "warning":color="#F67917";break;case "eventpixel":color="#956843";break;default:color="#8E29D4";break}if(job==="vast")bouncex.log("%c [vast]: "+msg,"color: "+color);else bouncex.log("%c video ["+job+"] "+campaign+provider+": "+msg,"color: "+color)},
fail:function(campaignId,msg){bouncex.campaigns[campaignId].failed=true;bouncex.video.log(campaignId,msg,"error")}};

bouncex.vpd={generateVPAIDManager:function(campaignId){bouncex.video.configPlayer(campaignId);bouncex.campaigns[campaignId].video.vpaid=bouncex.campaigns[campaignId].vpaid||{};bouncex.vpd.campaignId=campaignId;try{bouncex.video.log(campaignId,"getVPAIDAd() called","vpaid");bouncex.campaigns[campaignId].video.vpaid.ad=getVPAIDAd();this._versionCheck(campaignId)}catch(err){bouncex.campaigns[campaignId].video.vpaid.ad=document.getVPAIDAd()}this._init(campaignId)},_versionCheck:function(campaignId){var versionCheck=
bouncex.campaigns[campaignId].video.vpaid.ad.handshakeVersion("2.0");if(versionCheck&&versionCheck!=="2.0"){bouncex.video.log(campaignId,"generateVPAIDManager -> Ad VPAID version ("+versionCheck+") is not supported","error");return false}},_buildVpaidEnv:function(campaignId,vpaidObj,player,playerWrapper){bouncex.video.log(campaignId,"building VPAID environment","vpaid");var self=vpaidObj;self.ad=bouncex.campaigns[campaignId].video.vpaid.ad;self.vastConfig=bouncex.campaigns[campaignId].video.vast;
self.config={};self.callbacks={"AdClickThru":this.onAdClickThru,"AdDurationChange":this.onAdDurationChange,"AdError":this.onAdError,"AdImpression":this.onAdImpression,"AdLoaded":this.onAdLoaded,"AdPaused":this.onAdPaused,"AdPlaying":this.onAdPlaying,"AdSizeChange":this.onAdSizeChange,"AdSkippableStateChange":this.onAdSkippableStateChange,"AdSkipped":this.onAdSkipped,"AdStarted":this.onAdStarted,"AdStopped":this.onAdStopped,"AdUserAcceptInvitation":this.onAdUserAcceptInvitation,"AdUserClose":this.onAdUserClose,
"AdUserMinimize":this.onAdUserMinimize,"AdVideoComplete":this.onAdVideoComplete,"AdVideoFirstQuartile":this.onAdVideoFirstQuartile,"AdVideoMidpoint":this.onAdVideoMidpoint,"AdVideoStart":this.onAdVideoStart,"AdVideoThirdQuartile":this.onAdVideoThirdQuartile,"AdVolumeChange":this.onAdVolumeChange};self.adUnit={lastVolume:""};self.config.creativeData={};self.config.environmentVars={};self.config.viewMode="normal";self.config.desiredBitrate=-1;self.config.environmentVars.slot=playerWrapper;self.config.environmentVars.videoSlot=
player;self.config.environmentVars.autoPlay=false;self.config.environmentVars.videoSlotCanAutoPlay=true;return self},_init:function(campaignId){bouncex.video.log(campaignId,"init VPAID","vpaid");var player=bouncex.document[0].getElementById("bx-video-player-"+campaignId);var playerWrapper=bouncex.document[0].getElementById("bx-video-wrapper-"+campaignId);var self=this._buildVpaidEnv(campaignId,bouncex.campaigns[campaignId].video.vpaid,player,playerWrapper);var ad=self.ad;playerWrapper.removeChild(playerWrapper.childNodes[3]);
for(var eventName in self.callbacks)ad.subscribe(self.callbacks[eventName],eventName);if(self.vastConfig.vpaidAdParams)self.config.creativeData={"AdParameters":self.vastConfig.vpaidAdParams};if(!bouncex.vpd._validateVPAID(ad))bouncex.video.log(campaignId,"_validateVPAID Error: VPAID interface check failed","error");bouncex.vpd._adjustCreativeForVpaid(campaignId);ad.initAd(self.vastConfig.vpaidWidth,self.vastConfig.vpaidHeight,self.config.viewMode,self.config.desiredBitrate,self.config.creativeData,
self.config.environmentVars)},_validateVPAID:function(ad){if(ad.handshakeVersion&&typeof ad.handshakeVersion=="function"&&ad.initAd&&typeof ad.initAd=="function"&&ad.startAd&&typeof ad.startAd=="function"&&ad.stopAd&&typeof ad.stopAd=="function"&&ad.skipAd&&typeof ad.skipAd=="function"&&ad.resizeAd&&typeof ad.resizeAd=="function"&&ad.pauseAd&&typeof ad.pauseAd=="function"&&ad.resumeAd&&typeof ad.resumeAd=="function"&&ad.expandAd&&typeof ad.expandAd=="function"&&ad.collapseAd&&typeof ad.collapseAd==
"function"&&ad.subscribe&&typeof ad.subscribe=="function"&&ad.unsubscribe&&typeof ad.unsubscribe=="function")return true;return false},_adjustCreativeForVpaid:function(campaignId){var vastConfig=bouncex.campaigns[campaignId].video.vast;var creativePadding=jQuery("#bx-creative-"+campaignId+" .bx-wrap").css("padding-left").replace(/[^0-9]/g,"")*2;jQuery("#bx-creative-"+campaignId).css("max-width",parseInt(vastConfig.vpaidWidth)+creativePadding+"px");jQuery("#bx-video-controls-"+campaignId).remove()},
_fireVpaidTrackingEvents:function(event,urls){var calledTrackingEvents=bouncex.campaigns[bouncex.vpd.campaignId].video.uniqueEventPixels||[];var ad=bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.ad;var alreadyCalled=false;if(urls==null||urls.length==0||bouncex.video.disableTrackingEvents)return;if(typeof urls==="string")urls=[urls];for(var i=0;i<urls.length;i++){var url=urls[i];if(url===null||url.length<1||url.indexOf("http")===-1)continue;if(calledTrackingEvents.includes(url)){alreadyCalled=
true;continue}else calledTrackingEvents.push(url);if(ad.allowCacheBusting==="true"||ad.allowCacheBusting===true)if(url.indexOf("?")>-1)url+="&rnd="+Math.random();else url+="?rnd="+Math.random();bouncex.video.log(bouncex.vpd.campaignId,!alreadyCalled?"firing event pixel "+url+" for "+event:"already fired event pixel for "+event,"eventpixel");var img=document.createElement("img");img.src=url}},playVPAIDBeforeImpression:function(type,campaignId){var videoCampaign=bouncex.campaigns[campaignId].video;
videoCampaign.videoResponseLoaded=true;videoCampaign.triggerType=type;videoCampaign.vpaid.ad.startAd()},_adLoaded:function(campaignId,vpaidAd){bouncex.video.report(campaignId,"video_load");bouncex.campaigns[campaignId].video.status.ready=true;bouncex.video.playerReady(campaignId)},_adStarted:function(campaignId){if(bouncex.campaigns[campaignId].video.videoResponseLoaded){var type=bouncex.campaigns[campaignId].video.triggerType;show_ad(type,campaignId)}},_currentAdVolume:function(){var ad=bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.ad;
return ad.getAdVolume()},onAdLoaded:function(){var self=bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid;bouncex.vpd._adLoaded(bouncex.vpd.campaignId,self);bouncex.vpd._fireVpaidTrackingEvents("AdLoaded",self.vastConfig.tracking.loaded);self.ad.unsubscribe(self.callbacks.onAdLoaded,"AdLoaded")},onAdStarted:function(){var vol=bouncex.vpd._currentAdVolume();bouncex.vpd._fireVpaidTrackingEvents("AdStarted",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.creativeView);bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.adUnit.lastVolume=
vol;bouncex.vpd._adStarted(bouncex.vpd.campaignId)},onAdUserClose:function(){bouncex.vpd._fireVpaidTrackingEvents("AdUserClose",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.close)},onAdUserMinimize:function(){bouncex.vpd._fireVpaidTrackingEvents("AdUserMinimize",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.collapse)},onAdUserAcceptInvitation:function(){bouncex.vpd._fireVpaidTrackingEvents("AdUserAcceptInvitation",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.acceptInvitation)},
onAdSkippableStateChange:function(){bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.ad.getAdSkippableState()},onAdStopped:function(){var vol=bouncex.vpd._currentAdVolume();bouncex.campaigns[bouncex.vpd.campaignId].video.status.stopped=true;bouncex.close_ad(bouncex.vpd.campaignId);bouncex.vpd._moatDispatch("AdStopped",vol)},onAdPaused:function(){var vol=bouncex.vpd._currentAdVolume();bouncex.vpd._fireVpaidTrackingEvents("AdPaused",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.pause);
bouncex.video.report(bouncex.vpd.campaignId,"video_pause");bouncex.vpd._moatDispatch("AdPaused",vol)},onAdPlaying:function(){var vol=bouncex.vpd._currentAdVolume();bouncex.vpd._fireVpaidTrackingEvents("AdPlaying",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.resume);bouncex.vpd._moatDispatch("AdPlaying",vol)},onAdVolumeChange:function(){var vol=bouncex.vpd._currentAdVolume();var lastVolume=bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.adUnit.lastVolume;if(vol===
0&&lastVolume>0)bouncex.vpd._fireVpaidTrackingEvents("AdVolumeChange",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.mute,"volumechange");else if(vol>0&&lastVolume===0)bouncex.vpd._fireVpaidTrackingEvents("AdVolumeChange",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.unmute,"volumechange");bouncex.vpd._moatDispatch("AdVolumeChange",vol);bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.adUnit.lastVolume=vol},onAdImpression:function(){bouncex.vpd._fireVpaidTrackingEvents("AdImpression",
bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.impression);bouncex.video.report(bouncex.vpd.campaignId,"video_impression")},onAdVideoStart:function(){var vol=bouncex.vpd._currentAdVolume();bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.adUnit.started=true;bouncex.vpd._fireVpaidTrackingEvents("AdVideoStart",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.start);bouncex.video.report(bouncex.vpd.campaignId,"video_play");bouncex.vpd._moatDispatch("AdVideoStart",
vol)},onAdSkipped:function(){bouncex.vpd._fireVpaidTrackingEvents("AdSkipped",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.skip);bouncex.close_ad(bouncex.vpd.campaignId)},onAdVideoFirstQuartile:function(){var vol=bouncex.vpd._currentAdVolume();bouncex.vpd._fireVpaidTrackingEvents("AdVideoFirstQuartile",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.firstQuartile);bouncex.campaigns[bouncex.vpd.campaignId].video.status.qOne=true;bouncex.vpd._moatDispatch("AdVideoFirstQuartile",
vol);bouncex.video.report(bouncex.vpd.campaignId,"video_play_first_quartile")},onAdVideoMidpoint:function(){var vol=bouncex.vpd._currentAdVolume();bouncex.vpd._fireVpaidTrackingEvents("AdVideoMidpoint",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.midpoint);bouncex.campaigns[bouncex.vpd.campaignId].video.status.midpoint=true;bouncex.vpd._moatDispatch("AdVideoMidpoint",vol);bouncex.video.report(bouncex.vpd.campaignId,"video_play_midpoint")},onAdVideoThirdQuartile:function(){var vol=
bouncex.vpd._currentAdVolume();bouncex.vpd._fireVpaidTrackingEvents("AdVideoThirdQuartile",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.thirdQuartile);bouncex.campaigns[bouncex.vpd.campaignId].video.status.qThree=true;bouncex.vpd._moatDispatch("AdVideoThirdQuartile",vol);bouncex.video.report(bouncex.vpd.campaignId,"video_play_third_quartile")},onAdClickThru:function(url,id,playerHandles){bouncex.campaigns[bouncex.vpd.campaignId].video.vast.clickThrough=url;if(typeof playerHandles!=
"undefined"&&playerHandles==true)if(url)window.open(url);else if(bouncex.campaigns[bouncex.vpd.campaignId].video.vast.clickThrough)window.open(bouncex.campaigns[bouncex.vpd.campaignId].video.vast.clickThrough);bouncex.vpd._fireVpaidTrackingEvents("AdClickThru",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.clickTracking)},onAdDurationChange:function(){bouncex.vpd._fireVpaidTrackingEvents("AdDurationChange",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.durationchange)},
onAdSizeChange:function(){if(document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement)bouncex.vpd._fireVpaidTrackingEvents("AdSizeChange",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.fullscreen)},onAdVideoComplete:function(){bouncex.vpd._fireVpaidTrackingEvents("AdVideoComplete",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.complete);bouncex.video.report(bouncex.vpd.campaignId,
"video_play_complete");bouncex.vpd._moatDispatch("AdVideoComplete",bouncex.vpd._currentAdVolume());bouncex.close_ad(bouncex.vpd.campaignId)},onAdError:function(msg){bouncex.vpd._fireVpaidTrackingEvents("AdError",bouncex.campaigns[bouncex.vpd.campaignId].video.vpaid.vastConfig.tracking.error);bouncex.video.report(bouncex.vpd.campaignId,"video_error")},_moatDispatch:function(type,adVolume){var moat=bouncex.campaigns[bouncex.vpd.campaignId].video.integrations.moatApiReference;moat.dispatchEvent({"type":type,
"adVolume":adVolume},bouncex.vpd.campaignId)}};

if(bouncex.website){perf.times("tag");if(bouncex.website.sd>0&&!bouncex.website.fbe)setTimeout2(InitSequence.preInit1.entry,bouncex.website.sd);else tryCatch(InitSequence.preInit1.entry)()};

/*! C.js version: 1.5.26 */
var _0x53ec=['dHJ5TG9j','YnJlYWs=','Y29udGludWU=','Y29tcGxldGU=','aWxsZWdhbCBjYXRjaCBhdHRlbXB0','cmV0dXJuIHRoaXM=','YXNzaWdu','ZGl2','Q2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVl','YWJjZGVmZ2hpamtsbW5vcHFyc3Q=','SUVfUFJPVE8=','bWF4','bWlu','Z2V0T3duUHJvcGVydHlTeW1ib2xz','UHJvbWlzZQ==','Y2hhckNvZGVBdA==','c3R5bGU=','ZGlzcGxheQ==','bm9uZQ==','amF2YXNjcmlwdDo=','Y29udGVudFdpbmRvdw==','d3JpdGU=','PHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDwvc2NyaXB0Pg==','ZGVmaW5lUHJvcGVydGllcw==','Z2V0UHJvdG90eXBlT2Y=','VHlwZUVycm9y','ZmFpbA==','ZG9tYWlu','ZW50ZXI=','ZXhpdA==','ZW1pdA==','dW5oYW5kbGVkUmVqZWN0aW9u','VW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9u','cmVqZWN0aW9uSGFuZGxlZA==','b25yZWplY3Rpb25oYW5kbGVk','YWxs','IGlzIG5vdCBpdGVyYWJsZSE=','QlJFQUs=','UkVUVVJO','TXV0YXRpb25PYnNlcnZlcg==','Y3JlYXRlVGV4dE5vZGU=','b2JzZXJ2ZQ==','Yy5taW4uanM=','ZGF0YXNldA==','Z2V0RWxlbWVudEJ5SWQ=','Yy5qcw==','c2NyaXB0W3NyYyo9ImlkPWMuanMiXQ==','aWQ9Yy5qcw==','cGFyc2VTY3JpcHQ=','Z2V0SXRlcmF0b3I=','SlNPTg==','c3RyaW5naWZ5','ZnJvbQ==','bmV0','cmVwbGFjZQ==','YT1jYW5kaWRhdGU=','aG9zdA==','UlRDSWNlR2F0aGVyZXI=','Z2V0TmV0LU1TLW9uZXJyb3I=','b25sb2NhbGNhbmRpZGF0ZQ==','d2Via2l0UlRDUGVlckNvbm5lY3Rpb24=','UlRDUGVlckNvbm5lY3Rpb24=','bW96UlRDUGVlckNvbm5lY3Rpb24=','Z2V0TmV0LW9uZXJyb3I=','Y2FuZGlkYXRl','bmV0Q29tcGxldGU=','T0JTX0VO','aXNJT1NXZWJWaWV3','SURTdGFnZVByZWZpcmU=','c2VuZFJlcXVlc3RUb0lE','b3B0T3V0WU9D','WU9DX0VSUk9SX01FU1NBR0U=','SURfR0VOX0ZBSUxFRA==','Y2F0Y2g=','Z2V0T2JzZXJ2ZXI=','T0JTX0RPTUFJTlM=','aHR0cHM6Ly8=','LmNkbmJhc2tldC5uZXQ=','UkVRX1RJTUVPVVQ=','b2JzUmVx','dGFn','b2xkSUQx','b2xkSUQ=','bmV3SUQx','bmV3SUQ=','UkVRX0NPVU5U','SUQy','SURfTEVOR1RI','SURfVVJM','P2Nvb2tpZUlEPQ==','JnY9','JlNDSDE9','JkdDUzE9','JkdDUzI9','JnBlPQ==','aXNBcnJheQ==','Y2FudmFz','Z2V0Q29udGV4dA==','V0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbw==','Z2V0UGFyYW1ldGVy','VU5NQVNLRURfUkVOREVSRVJfV0VCR0w=','aGVpZ2h0','MzIweDU2OA==','aVBob25l','NzY4eDEwMjQ=','aVBhZA==','QWly','aVBvZA==','Mzc1eDY2Nw==','NDE0eDczNg==','UGx1cw==','QThY','QWlyMg==','QTlY','UHJvOS43','MTAyNHgxMzY2','UHJvMTIuOQ==','QTEw','QTEwWA==','ODM0eDExMTI=','UHJvMTAuNQ==','QTEx','QTEy','Mzc1eDgxMg==','WFNNYXg=','QTEyWA==','UHJvMTE=','UG93ZXJWUiBTR1ggNTM1','UG93ZXJWUiBTR1ggNTQz','MzIweDQ4MA==','VG91Y2g1','UG93ZXJWUiBTR1ggNTU0','d3NpZA==','YnhkaWQ=','Ynh2aWQ=','ZGF0YUZvclBpeGVsRmlyaW5nSXNWYWxpZA==','ZmlyZVBpeGVscw==','Ynh3aWQ=','ZmlyZVBhcnRuZXJQaXhlbA==','ZmlyZUdyYXBo','ZmlyZVNvZnRJRFN5bmM=','YnhpbmZv','UElYRUxfVVJM','P0NJRD0=','Jml2PQ==','JmRldmljZWlkPQ==','JnZpc2l0aWQ9','VVNFUl9VUkw=','JmJ4ZGlkPQ==','JmJ4dmlkPQ==','JmJ4d2lkPQ==','JmdtPQ==','JmFwaWtleT0=','ZXhwb3J0cw==','Y2FsbA==','ZGVmaW5lUHJvcGVydHk=','X19lc01vZHVsZQ==','ZGVmYXVsdA==','cHJvdG90eXBl','aGFzT3duUHJvcGVydHk=','dW5kZWZpbmVk','TWF0aA==','d2tz','U3ltYm9s','ZnVuY3Rpb24=','U3ltYm9sLg==','c3RvcmU=','Mi41LjE=','bnVtYmVy','IGlzIG5vdCBhbiBvYmplY3Qh','cGFyc2U=','bG9jYXRpb24=','QVBJS0VZ','YXBpa2V5','d2FycHNwZWVk','R01fRU4=','UElYX0VO','RVhQX0VO','ZGV2','ZXh0ZXJuYWxpZA==','REVNT19FTg==','Ynh0ZXN0','VkVSQk9TRV9FTg==','dmVyYm9zZQ==','Q0xJRU5UX0NC','QURfQ0I=','YWRjYg==','SURTX09OTFlfQ0I=','aWRzb25seWNi','U09VUkNF','c3Jj','QlhfSU5GTw==','Ym91bmNleA==','d2Vic2l0ZQ==','bGVuZ3Ro','YXBwbHk=','dmlydHVhbA==','ZGF0YQ==','dmlldw==','aHR0cHM6Ly9pZHMuY2Rud2lkZ2V0LmNvbQ==','bmF2aWdhdG9y','dXNlckFnZW50','aG9zdG5hbWU=','QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLw==','c3BsaXQ=','c2xpY2U=','am9pbg==','Y29va2ll','aW5kZXhPZg==','O2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVEM=','dGVzdA==','Ym91bmNleC5jb20=','REVWX0VO','YXR0YWNoRXZlbnQ=','YWRkRXZlbnRMaXN0ZW5lcg==','X19pZGNvbnRleHQ=','YnhncmFwaEdEUFJPcHRPdXQ=','aHR0cHM6Ly91LmNkbndpZGdldC5jb20=','aHR0cHM6Ly9ldmVudHMuY2Rud2lkZ2V0LmNvbQ==','aHR0cHM6Ly9waXguY2Rud2lkZ2V0LmNvbQ==','aHR0cHM6Ly9lLmNkbndpZGdldC5jb20=','cmVkaXJlY3Q=','aWQtc2VydmljZQ==','SUQgZ2VuZXJhdGlvbiBlcnJvcg==','Q2FsbGJhY2sgZXJyb3I=','SUQgZ2VuZXJhdGlvbiBmYWlsZWQ=','VXNlciBpcyBvcHRlZC1vdXQgd2l0aCBHRFBS','V2FybmluZw==','VXNlciBpcyBvcHRlZC1vdXQgd2l0aCBZT0M=','bWF0Y2g=','dXNhZ2U=','VXNlciBpcyBvcHRlZC1vdXQgd2l0aCBJQUIgQ29uc2VudCBGcmFtZXdvcms=','c2Vzc2lvblN0b3JhZ2VMb2Fk','R1JBUEhfRU4=','U0NSSVBUX1ZFUlNJT04=','Z2V0TG9nVmFsdWU=','bG9nT2JqZWN0','Z2V0','c2V0','QWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQh','dmFsdWU=','ZG9uZQ==','cmVzb2x2ZQ==','dGhlbg==','dGhyb3c=','bmV4dA==','c3RyaW5n','c3RhY2s=','L2Nqcy1sb2dnZXI/c291cmNlPQ==','JnNldmVyaXR5PQ==','YnhncmFwaA==','SURz','JmRldmljZUlEPQ==','JkJYV0lEPQ==','JndhcnBzcGVlZD0=','bG9hZElE','JnZlcnNpb249','ZGVidWc=','REVCVUcg','V0FSTklORw==','SU5GTw==','bWV0YQ==','ZXJyb3Jz','cHVzaA==','bXNDcnlwdG8=','bm93','c3RvcHdhdGNo','c3RhcnRUaW1l','dGltaW5n','YWRkRXZlbnQ=','TElTVEVOX0ZPUl9FVkVOVA==','SUZfSVNfT0xEX0lF','dHJpZ2dlckNsaWVudENhbGxiYWNr','cG9w','Zm9yRWFjaA==','ZGVmaW5lQ2FsbGJhY2tTY2hlbWE=','Y29uZGl0aW9uYWxDYlRyeUNhdGNo','YnhER1Rlc3Q=','cmFuZG9t','ZGV2aWNlSUQ=','Y29va2llSUQ=','aW5mbw==','b3B0T3V0TkFJ','UEVfRU4=','aWRHZW5FcnJvcg==','Q0JfRVJST1I=','R0RQUl9FUlJPUl9NRVNTQUdF','SU5WQUxJRF9UUkFGRklDX01FU1NBR0U=','SURfR0VOX0VSUk9S','bWFrZVJlcXVlc3Q=','cmVhZHlTdGF0ZQ==','RVhQRUNURURfU1RBVFVTX0NPREVT','c3RhdHVz','cmVzcG9uc2VUZXh0','c3RhdHVzVGV4dA==','ZXJyb3I=','cmVwb3J0V2FybmluZw==','UmVxdWVzdCBwYXJzZSBlcnJvcjog','b250aW1lb3V0','SURfU0VSVklDRV9UQUc=','aWQtc2VydmljZS10aW1lb3V0','aXNPbmVQZXJjZW50Um9sbA==','cmVwb3J0SW5mbw==','UmVxdWVzdCB0aW1lb3V0OiA=','b25lcnJvcg==','aWQtc2VydmljZS1lcnJvcg==','UmVxdWVzdCBlcnJvcjog','d2l0aENyZWRlbnRpYWxz','b3Blbg==','R0VU','dGltZW91dA==','c2VuZA==','dGltZWRQcm9taXNl','YmluZA==','cmFjZQ==','cmVwb3J0RXJyb3I=','RVJST1I=','Z2V0QlhJbmZv','bWFyaw==','d3JhcA==','cHJldg==','Qk9VTkNFWF9BUElLRVk=','YWJydXB0','cmV0dXJu','ZGlk','dmlk','QlhfSU5GT19JTlRFUlZBTA==','ZGlkbnQgZmluaXNo','QlhfSU5GT19USU1FT1VU','ZW5k','c3RvcA==','aXNCYXNlNjQ=','aXNPcHRlZE91dFZpYUdEUFJDb25zZW50','Z2V0VmVuZG9yQ29uc2VudHM=','Q09OU0VOVF9WRU5ET1JfSUQ=','dHJ1ZQ==','Z2RwckFwcGxpZXM=','dmVuZG9yQ29uc2VudHM=','cHVycG9zZUNvbnNlbnRz','Z2VuZXJhdGVMb2FkSUQ=','QUJDREVGR0hJSktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OQ==','Z2V0UmFuZG9tVmFsdWVz','Y2hhckF0','ZmlyZUNsaWVudEFuYWx5dGljcw==','RVZFTlRTX1VSTA==','L3BpeGVsLnBuZz90eXBlPWNhJnN1YnR5cGU9','RVhURVJOQUxfSUQ=','JmxvYWRJRD0=','Z2V0RnV0dXJlRGF0ZUluRGF5cw==','IGlzIG5vdCBhIGZ1bmN0aW9uIQ==','dG9TdHJpbmc=','Y3JlYXRlRWxlbWVudA==','Q2FuJ3QgY2FsbCBtZXRob2Qgb24gIA==','Zmxvb3I=','a2V5cw==','U3RyaW5n','aXRlcmF0b3I=','Z2V0SXRlcmF0b3JNZXRob2Q=','QEBpdGVyYXRvcg==','cHJvbWlzZQ==','QmFkIFByb21pc2UgY29uc3RydWN0b3I=','cmVqZWN0','cHJvcGVydHlJc0VudW1lcmFibGU=','X19jb3JlLWpzX3NoYXJlZF9f','U3ltYm9sKA==','Y29uY2F0','Y29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9m','IEl0ZXJhdG9y','dmFsdWVz','QXJyYXk=','ZW50cmllcw==','bmFtZQ==','ZG9jdW1lbnQ=','ZG9jdW1lbnRFbGVtZW50','dG9TdHJpbmdUYWc=','Q1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3Q=','QXJndW1lbnRz','VW5kZWZpbmVk','T2JqZWN0','c3BlY2llcw==','Y29uc3RydWN0b3I=','cHJvY2Vzcw==','Y2xlYXJJbW1lZGlhdGU=','RGlzcGF0Y2g=','bmV4dFRpY2s=','cG9ydDI=','cG9ydDE=','aW1wb3J0U2NyaXB0cw==','bWVzc2FnZQ==','YXBwZW5kQ2hpbGQ=','b25yZWFkeXN0YXRlY2hhbmdl','cmVtb3ZlQ2hpbGQ=','X2VuY29kZUZvclN0b3JhZ2U=','OyBleHBpcmVzPQ==','OyBwYXRoPS87IGRvbWFpbj0=','SE9TVA==','X2dldENvb2tpZQ==','KF58Oylccyo=','X2RlY29kZUZvclJldHJldmlhbA==','ZGVsZXRlQ29va2ll','PTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVDsgcGF0aD0vOyBkb21haW49Lg==','X2dldExvY2FsU3RvcmFnZQ==','bG9jYWxTdG9yYWdl','X3NldExvY2FsU3RvcmFnZQ==','c2Vzc2lvblN0b3JhZ2U=','c3RvcmVJRERhdGE=','bWFzdGVySURz','X3NldENvb2tpZQ==','U1RPUkFHRV9LRVk=','Q0xJRU5UX1NQRUNJRklDX1NUT1JBR0VfS0VZ','X3NldFNlc3Npb25TdG9yYWdl','RklWRV9ZRUFSU19BTkRfVFdPX0RBWVM=','Z2V0U2Vzc2lvbkRhdGE=','X2dldFNlc3Npb25TdG9yYWdl','U0VTU0lPTl9TVE9SQUdFX0xPQUQ=','Z2V0U2Vzc2lvbkRhdGEtc2Vzc2lvblN0b3JhZ2U=','Z2V0T3B0T3V0','Z2V0TG9jYWxTdG9yYWdlSURz','Z2V0U3RvcmVkTWFzdGVySURz','aW5kZXhlZERC','bW96SW5kZXhlZERC','d2Via2l0SW5kZXhlZERC','cmVxdWVzdEZpbGVTeXN0ZW0=','VEVNUE9SQVJZ','aXNGaXJlZm94','b25zdWNjZXNz','aXNTYWZhcmk=','aXNNaWNyb3NvZnQ=','c2V0SXRlbQ==','b3BlbkRhdGFiYXNl','ZGV0ZWN0UE0=','b3RoZXI=','ZmlyZWZveA==','b3BlcmE=','Y2hyb21l','c2FmYXJp','dHJpZGVudA==','b3By','dG9Tb3VyY2U=','b3NjcHU=','dG9Mb3dlckNhc2U=','d2luZG93cyBwaG9uZQ==','d2luZG93cw==','YW5kcm9pZA==','bGludXg=','aXBob25l','aXBhZA==','bWFj','aW9z','d2lu','cGlrZQ==','cGx1Z2lucw==','bXNNYXhUb3VjaFBvaW50cw==','Y3JlYXRlRXZlbnQ=','VG91Y2hFdmVudA==','bGFuZ3VhZ2U=','bGFuZ3VhZ2Vz','c3Vic3Ry','c2NyZWVu','d2lkdGg=','bXNEb05vdFRyYWNr','ZG9Ob3RUcmFjaw==','Z2V0VGltZXpvbmVPZmZzZXQ=','YWdlbnQ=','ZGV2aWNl','Z2V0RGV2aWNlVHlwZQ==','Zmlyc3RMb2Fk','Z2V0Q3VycmVudFNjcmlwdA==','aW5pdGlhbGl6ZQ==','bWFpbg==','RVhQT1NFX1JFU0VU','YnhncmFwaFJlc2V0','cmVzZXQ=','X19jbXA=','SURzT25seUNC','SURzT25seUNCOiA=','VVNBR0VfQU5BTFlUSUNT','ZXh0ZXJuYWxJRA==','TUFUQ0hfQU5BTFlUSUNT','YnVpbGRJbmZv','c2VudA==','SURTdGFnZQ==','Y3VzdG9tRXJyb3JNZXNzYWdl','R0RQUl9PUFRPVVRfSURFTlRJRklFUg==','SURzUmVjZWl2ZWQ=','SURzLXJlY2VpdmVkOiA=','b3B0T3V0R0RQUg==','aWRzLWNhdGNoLWFsbA==','dXNlclN0YWdl','dXNlci1jYXRjaC1hbGw=','cmVnZW5lcmF0b3JSdW50aW1l','Z2V0T3duUHJvcGVydHlOYW1lcw==','X2ludm9rZQ==','bm9ybWFs','YXJn','b2JqZWN0','X19hd2FpdA==','bWV0aG9k','X3NlbnQ=','ZGlzcGF0Y2hFeGNlcHRpb24=','dHlwZQ==','VGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZA==','ZGVsZWdhdGU=','Y2F0Y2hMb2M=','ZmluYWxseUxvYw==','YWZ0ZXJMb2M=','dHJ5RW50cmllcw==','Y29tcGxldGlvbg==','cm9vdA==','c3VzcGVuZGVkU3RhcnQ=','ZXhlY3V0aW5n','Y29tcGxldGVk','Y3JlYXRl','ZGlzcGxheU5hbWU=','aXNHZW5lcmF0b3JGdW5jdGlvbg==','R2VuZXJhdG9yRnVuY3Rpb24=','c2V0UHJvdG90eXBlT2Y=','X19wcm90b19f','YXdyYXA=','QXN5bmNJdGVyYXRvcg==','YXN5bmM=','W29iamVjdCBHZW5lcmF0b3Jd','cmV2ZXJzZQ=='];(function(a,c){var b=function(b){while(--b){a['push'](a['shift']());}};b(++c);}(_0x53ec,0x99));var _0xc53e=function(b,d){b=b-0x0;var a=_0x53ec[b];if(_0xc53e['initialized']===undefined){(function(){var b=function(){var a;try{a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(b){a=window;}return a;};var a=b();var c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';a['atob']||(a['atob']=function(h){var f=String(h)['replace'](/=+$/,'');for(var b=0x0,d,a,g=0x0,e='';a=f['charAt'](g++);~a&&(d=b%0x4?d*0x40+a:a,b++%0x4)?e+=String['fromCharCode'](0xff&d>>(-0x2*b&0x6)):0x0){a=c['indexOf'](a);}return e;});}());_0xc53e['base64DecodeUnicode']=function(e){var b=atob(e);var c=[];for(var a=0x0,d=b['length'];a<d;a++){c+='%'+('00'+b['charCodeAt'](a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(c);};_0xc53e['data']={};_0xc53e['initialized']=!![];}var c=_0xc53e['data'][b];if(c===undefined){a=_0xc53e['base64DecodeUnicode'](a);_0xc53e['data'][b]=a;}else{a=c;}return a;};!function(c){function a(e){if(b[e])return b[e][_0xc53e('0x0')];var d=b[e]={'i':e,'l':!0x1,'exports':{}};return c[e][_0xc53e('0x1')](d[_0xc53e('0x0')],d,d['exports'],a),d['l']=!0x0,d[_0xc53e('0x0')];}var b={};a['m']=c,a['c']=b,a['d']=function(b,c,d){a['o'](b,c)||Object[_0xc53e('0x2')](b,c,{'configurable':!0x1,'enumerable':!0x0,'get':d});},a['n']=function(b){var c=b&&b[_0xc53e('0x3')]?function(){return b[_0xc53e('0x4')];}:function(){return b;};return a['d'](c,'a',c),c;},a['o']=function(a,b){return Object[_0xc53e('0x5')][_0xc53e('0x6')]['call'](a,b);},a['p']='',a(a['s']=0x39);}([function(b,c){var a=b['exports']=_0xc53e('0x7')!=typeof window&&window[_0xc53e('0x8')]==Math?window:_0xc53e('0x7')!=typeof self&&self[_0xc53e('0x8')]==Math?self:Function('return\x20this')();'number'==typeof __g&&(__g=a);},function(f,g,c){var a=c(0x26)(_0xc53e('0x9')),e=c(0x27),b=c(0x0)[_0xc53e('0xa')],d=_0xc53e('0xb')==typeof b;(f['exports']=function(c){return a[c]||(a[c]=d&&b[c]||(d?b:e)(_0xc53e('0xc')+c));})[_0xc53e('0xd')]=a;},function(b,c){var a=b[_0xc53e('0x0')]={'version':_0xc53e('0xe')};_0xc53e('0xf')==typeof __e&&(__e=a);},function(b,d,c){var a=c(0xc);b[_0xc53e('0x0')]=function(b){if(!a(b))throw TypeError(b+_0xc53e('0x10'));return b;};},function(c,f,d){'use strict';function e(a){try{return JSON[_0xc53e('0x11')]((0x0,b[_0xc53e('0x4')])(a||{}));}catch(a){return{};}}var a=d(0x23),b=function(a){return a&&a[_0xc53e('0x3')]?a:{'default':a};}(a);c[_0xc53e('0x0')]={'initialize':function(b,d){var a=e(b&&b['dataset']),c=window[_0xc53e('0x12')]['href']||'';return this[_0xc53e('0x13')]=a[_0xc53e('0x14')]||a[_0xc53e('0x15')],this[_0xc53e('0x16')]='1'===a['gm'],this[_0xc53e('0x17')]='1'===a['fire'],this[_0xc53e('0x18')]='1'===a['exp'],this['PE_EN']='1'===a['pe'],this['DEV_EN']='1'===a[_0xc53e('0x19')],this['EXTERNAL_ID']=a[_0xc53e('0x1a')]||a['externalID']||null,this[_0xc53e('0x1b')]='1'===a['demo']||-0x1!==c['indexOf'](_0xc53e('0x1c')),this[_0xc53e('0x1d')]='1'===a[_0xc53e('0x1e')],this[_0xc53e('0x1f')]=a['cb']||null,this[_0xc53e('0x20')]=a[_0xc53e('0x21')]||null,this[_0xc53e('0x22')]=a[_0xc53e('0x23')]||null,this['SCRIPT_VERSION']=d,this[_0xc53e('0x24')]=b&&b[_0xc53e('0x25')],this[_0xc53e('0x26')]={'wsid':window['bouncex']&&window[_0xc53e('0x27')]['website']&&window[_0xc53e('0x27')][_0xc53e('0x28')]['id']||void 0x0},this;}};},function(g,h,c){var b=c(0x0),d=c(0x2),e=c(0xa),f=c(0x6),a=function(h,l,m){var c,o,g,q=h&a['F'],k=h&a['G'],r=h&a['S'],p=h&a['P'],s=h&a['B'],t=h&a['W'],j=k?d:d[l]||(d[l]={}),n=j[_0xc53e('0x5')],i=k?b:r?b[l]:(b[l]||{})[_0xc53e('0x5')];k&&(m=l);for(c in m)(o=!q&&i&&void 0x0!==i[c])&&c in j||(g=o?i[c]:m[c],j[c]=k&&'function'!=typeof i[c]?m[c]:s&&o?e(g,b):t&&i[c]==g?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments[_0xc53e('0x29')]){case 0x0:return new a();case 0x1:return new a(b);case 0x2:return new a(b,c);}return new a(b,c,d);}return a[_0xc53e('0x2a')](this,arguments);};return b[_0xc53e('0x5')]=a[_0xc53e('0x5')],b;}(g):p&&_0xc53e('0xb')==typeof g?e(Function[_0xc53e('0x1')],g):g,p&&((j['virtual']||(j[_0xc53e('0x2b')]={}))[c]=g,h&a['R']&&n&&!n[c]&&f(n,c,g)));};a['F']=0x1,a['G']=0x2,a['S']=0x4,a['P']=0x8,a['B']=0x10,a['W']=0x20,a['U']=0x40,a['R']=0x80,g[_0xc53e('0x0')]=a;},function(d,e,a){var b=a(0xb),c=a(0x18);d[_0xc53e('0x0')]=a(0xd)?function(a,d,e){return b['f'](a,d,c(0x1,e));}:function(a,b,c){return a[b]=c,a;};},function(r,t,s){'use strict';var b=s(0x4),f=[_0xc53e('0x2c'),'page',_0xc53e('0x2d')],g='__idcontext_'+b['APIKEY'],h=b['DEMO_EN']?'https://d.cdnwidget.com':_0xc53e('0x2e'),a=window[_0xc53e('0x2f')]&&window[_0xc53e('0x2f')]['userAgent']&&window[_0xc53e('0x2f')][_0xc53e('0x30')]['toLowerCase']()||'',j=function(){for(var a=location[_0xc53e('0x31')],b=_0xc53e('0x32'),c=b+'=1',d=a[_0xc53e('0x33')]('.'),e=d[_0xc53e('0x29')]-0x1;e--;)if(a=d[_0xc53e('0x34')](e)[_0xc53e('0x35')]('.'),document[_0xc53e('0x36')]=c+';domain=.'+a+';',document[_0xc53e('0x36')][_0xc53e('0x37')](c)>-0x1)return document[_0xc53e('0x36')]=b+'=;domain=.'+a+_0xc53e('0x38'),a;}(),e=/^((?!chrome|android|windows).)*safari/[_0xc53e('0x39')](a),l=/firefox/[_0xc53e('0x39')](a),m=/(msie 10\.)|(windows.*(rv:11|edge\/))/[_0xc53e('0x39')](a),d=/version\/[0-8]{1}(\.[0-9]+)?(\.[0-9]+)? /[_0xc53e('0x39')](a),o=/(iPhone|iPod|iPad).*AppleWebKit((?!.*Safari)|(?!Safari IPhoneAppVersion))/i[_0xc53e('0x39')](a),p=!d,q=document&&document['URL'][_0xc53e('0x37')](_0xc53e('0x3a'))>-0x1||b[_0xc53e('0x3b')],c=window['attachEvent']?'on':'',k=c?_0xc53e('0x3c'):_0xc53e('0x3d'),i={200:!0x0,401:!0x0,403:!0x0,422:!0x0},n=[0x1,0x2,0x4,0x5];r[_0xc53e('0x0')]={'REQ_COUNT':0x3,'ID_LENGTH':0x9,'OBS_DOMAINS':f,'REQ_TIMEOUT':0x1770,'SC_TIMEOUT':0x1d4c0,'CLIENT_SPECIFIC_STORAGE_KEY':g,'STORAGE_KEY':_0xc53e('0x3e'),'GDPR_OPTOUT_IDENTIFIER':_0xc53e('0x3f'),'ID_URL':h,'USER_URL':_0xc53e('0x40'),'EVENTS_URL':_0xc53e('0x41'),'PIXEL_URL':_0xc53e('0x42'),'LOG_URL':_0xc53e('0x43'),'PT1_ROUTE':_0xc53e('0x44'),'PT3_ROUTE':'pt3redirect','ID_SERVICE_TAG':_0xc53e('0x45'),'UA':a,'HOST':j,'ID_GEN_ERROR':_0xc53e('0x46'),'CB_ERROR':_0xc53e('0x47'),'ID_GEN_FAILED':_0xc53e('0x48'),'GDPR_ERROR_MESSAGE':_0xc53e('0x49'),'isSafari':e,'isFirefox':l,'isMicrosoft':m,'isBelowSafari8':d,'isIOSWebView':o,'OBS_EN':p,'IF_IS_OLD_IE':c,'EXPOSE_RESET':q,'LISTEN_FOR_EVENT':k,'INFO':'Info','ERROR':'Error','WARNING':_0xc53e('0x4a'),'UNAUTHORIZED':'Unauthorized','YOC_ERROR_MESSAGE':_0xc53e('0x4b'),'INVALID_TRAFFIC_MESSAGE':'Not\x20Allowed\x20on\x20EU\x20traffic','MATCH_ANALYTICS':_0xc53e('0x4c'),'USAGE_ANALYTICS':_0xc53e('0x4d'),'EXPECTED_STATUS_CODES':i,'CONSENT_VENDOR_ID':0x100,'CONSENT_PURPOSE_IDS':n,'IAB_CONSENT_MESSAGE':_0xc53e('0x4e'),'BOUNCEX_APIKEY':'2^HIykD','BX_INFO_INTERVAL':0xc8,'BX_INFO_TIMEOUT':0xbb8,'SESSION_STORAGE_LOAD':_0xc53e('0x4f'),'THIRTEEN_MONTHS':0x18b,'FIVE_YEARS_AND_TWO_DAYS':0x723};},function(d,g,e){'use strict';var f=e(0x15),c=function(a){return a&&a[_0xc53e('0x3')]?a:{'default':a};}(f),b=e(0x4),a={'config':{'gmEN':b[_0xc53e('0x16')],'pixEN':b['PIX_EN'],'graphEN':b[_0xc53e('0x50')]},'apikey':b[_0xc53e('0x13')],'cjsversion':b[_0xc53e('0x51')]};d[_0xc53e('0x0')][_0xc53e('0x52')]=function(b){return a[b];},d[_0xc53e('0x0')][_0xc53e('0x53')]=function(b,d){return b&&(d?a[d]=(0x0,c[_0xc53e('0x4')])(a[d]||{},b):a=(0x0,c['default'])(a,b)),a;};},function(a,c,b){a['exports']=b(0x3a);},function(b,d,c){var a=c(0x11);b[_0xc53e('0x0')]=function(b,c,d){if(a(b),void 0x0===c)return b;switch(d){case 0x1:return function(a){return b[_0xc53e('0x1')](c,a);};case 0x2:return function(a,d){return b[_0xc53e('0x1')](c,a,d);};case 0x3:return function(a,d,e){return b[_0xc53e('0x1')](c,a,d,e);};}return function(){return b['apply'](c,arguments);};};},function(g,f,a){var b=a(0x3),c=a(0x3e),d=a(0x3f),e=Object['defineProperty'];f['f']=a(0xd)?Object['defineProperty']:function(f,g,a){if(b(f),g=d(g,!0x0),b(a),c)try{return e(f,g,a);}catch(a){}if(_0xc53e('0x54')in a||_0xc53e('0x55')in a)throw TypeError(_0xc53e('0x56'));return _0xc53e('0x57')in a&&(f[g]=a[_0xc53e('0x57')]),f;};},function(a,b){a[_0xc53e('0x0')]=function(a){return'object'==typeof a?null!==a:_0xc53e('0xb')==typeof a;};},function(a,c,b){a[_0xc53e('0x0')]=!b(0x16)(function(){return 0x7!=Object[_0xc53e('0x2')]({},'a',{'get':function(){return 0x7;}})['a'];});},function(e,b,d){'use strict';b[_0xc53e('0x3')]=!0x0;var c=d(0x14),a=function(a){return a&&a[_0xc53e('0x3')]?a:{'default':a};}(c);b[_0xc53e('0x4')]=function(b){return function(){var c=b[_0xc53e('0x2a')](this,arguments);return new a[(_0xc53e('0x4'))](function(d,e){function b(h,i){try{var f=c[h](i),g=f[_0xc53e('0x57')];}catch(a){return void e(a);}if(!f[_0xc53e('0x58')])return a[_0xc53e('0x4')][_0xc53e('0x59')](g)[_0xc53e('0x5a')](function(a){b('next',a);},function(a){b(_0xc53e('0x5b'),a);});d(g);}return b(_0xc53e('0x5c'));});};};},function(a,b){a[_0xc53e('0x0')]={};},function(b,s,d){'use strict';function f(a){return a&&a['__esModule']?a:{'default':a};}function h(h,b,d){var f=b?_0xc53e('0x5d')==typeof b?b:b[_0xc53e('0x5e')]:'',i=_0xc53e('0x5f')+h+_0xc53e('0x60')+d+'&error='+encodeURIComponent(f)+'&cookieID='+(window[_0xc53e('0x61')][_0xc53e('0x62')]&&window[_0xc53e('0x61')][_0xc53e('0x62')]['cookieID']||'')+_0xc53e('0x63')+(window['bxgraph'][_0xc53e('0x62')]&&window['bxgraph'][_0xc53e('0x62')]['deviceID']||'')+_0xc53e('0x64')+(c[_0xc53e('0x26')]['wsid']||'')+_0xc53e('0x65')+(c[_0xc53e('0x13')]||'')+'&loadID='+(g['getLogValue'](_0xc53e('0x66'))||'')+_0xc53e('0x67')+c['SCRIPT_VERSION'],e=encodeURI(a['LOG_URL']+i);window[_0xc53e('0x61')]['meta'][_0xc53e('0x68')]?console['log'](_0xc53e('0x69')+d+':\x20'+h+'\x20'+f+'\x20'+e):(b||d===a[_0xc53e('0x6a')])&&(d!==a[_0xc53e('0x6b')]&&window[_0xc53e('0x61')][_0xc53e('0x6c')][_0xc53e('0x6d')][_0xc53e('0x6e')](e),new Image()[_0xc53e('0x25')]=e);}var l=d(0x36),p=f(l),q=d(0x35),r=f(q),j=d(0x9),i=f(j),m=d(0xe),n=f(m),o=d(0x14),e=f(o),a=d(0x7),g=d(0x8),c=d(0x4),k=window[_0xc53e('0x6f')]||window['crypto'];b[_0xc53e('0x0')]['startTime']=Date[_0xc53e('0x70')](),b[_0xc53e('0x0')][_0xc53e('0x71')]=function(b){var a={};a[b]=Date[_0xc53e('0x70')]()-this[_0xc53e('0x72')],g[_0xc53e('0x53')](a,_0xc53e('0x73'));},b['exports'][_0xc53e('0x74')]=function(b,c,d){b[a[_0xc53e('0x75')]](a[_0xc53e('0x76')]+c,d,!0x0);},b['exports'][_0xc53e('0x77')]=function(f,b,h){var g=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:{},a=window;if(b){var c=b[_0xc53e('0x33')]('.'),d=c[_0xc53e('0x78')]();if(c[_0xc53e('0x79')](function(b){a=a[b];}),_0xc53e('0xb')==typeof a[d]){var e=void 0x0;e=null!==f?null:this[_0xc53e('0x7a')](h,g,b),this['conditionalCbTryCatch'](a,d,f,e);}}},b[_0xc53e('0x0')][_0xc53e('0x7b')]=function(a,b,d,e){if(!window[_0xc53e('0x7c')]&&(Math[_0xc53e('0x7d')]()<0.01||c[_0xc53e('0x1d')]||window[_0xc53e('0x61')][_0xc53e('0x6c')][_0xc53e('0x68')]))a[b](d,e);else try{a[b](d,e);}catch(a){}},b[_0xc53e('0x0')][_0xc53e('0x7a')]=function(d,b,e){var a={'IDs':{'deviceID':b[_0xc53e('0x62')][_0xc53e('0x7e')],'cookieID':b[_0xc53e('0x62')][_0xc53e('0x7f')]},'version':window[_0xc53e('0x61')][_0xc53e('0x6c')]['version'],'warpspeed':c[_0xc53e('0x13')]};switch(e){case c[_0xc53e('0x20')]:b[_0xc53e('0x80')][_0xc53e('0x81')]?(a['deviceID']='',a[_0xc53e('0x62')][_0xc53e('0x7f')]='',a[_0xc53e('0x62')][_0xc53e('0x7e')]=''):a['deviceID']=b[_0xc53e('0x62')][_0xc53e('0x7e')];break;case c[_0xc53e('0x1f')]:a[_0xc53e('0x80')]=b[_0xc53e('0x80')],c[_0xc53e('0x82')]&&d&&(a[_0xc53e('0x36')]=d);}return a;},b['exports'][_0xc53e('0x83')]=function(b,c){try{this[_0xc53e('0x77')](b,c);}catch(b){this['reportWarning'](a[_0xc53e('0x84')],b);}b!==a[_0xc53e('0x85')]&&b!==a[_0xc53e('0x86')]&&this['reportWarning'](a[_0xc53e('0x87')],b);},b[_0xc53e('0x0')][_0xc53e('0x88')]=function(f,b,g){var d=this;return new e[(_0xc53e('0x4'))](function(i){var h=new XMLHttpRequest(),e={'tag':b};h['onload']=function(){if(0x4===this[_0xc53e('0x89')]){if(a[_0xc53e('0x8a')][this[_0xc53e('0x8b')]])try{this[_0xc53e('0x8c')]?e['data']=JSON[_0xc53e('0x11')](this['responseText']):this[_0xc53e('0x8d')]&&(e[_0xc53e('0x2c')]={},e[_0xc53e('0x2c')][_0xc53e('0x8e')]=this['statusText']);}catch(a){d[_0xc53e('0x8f')](_0xc53e('0x90')+b,a);}i(e);}},h[_0xc53e('0x91')]=function(){b===a[_0xc53e('0x92')]?e[_0xc53e('0x2c')]={'error':_0xc53e('0x93')}:(d[_0xc53e('0x94')]||c[_0xc53e('0x1d')])&&d[_0xc53e('0x95')](_0xc53e('0x96')+b),i(e);},h[_0xc53e('0x97')]=function(){b===a[_0xc53e('0x92')]?e[_0xc53e('0x2c')]={'error':_0xc53e('0x98')}:(d[_0xc53e('0x94')]||c[_0xc53e('0x1d')])&&d[_0xc53e('0x95')](_0xc53e('0x99')+b),i(e);},b===a[_0xc53e('0x92')]&&(h[_0xc53e('0x9a')]=!0x0),h[_0xc53e('0x9b')](_0xc53e('0x9c'),f,!0x0),h[_0xc53e('0x9d')]=g,h[_0xc53e('0x9e')]();});},b['exports'][_0xc53e('0x9f')]=function(b,c){var a=new e['default'](function(a){setTimeout(a[_0xc53e('0xa0')](null,{}),b);});return e[_0xc53e('0x4')][_0xc53e('0xa1')]([c,a]);},b[_0xc53e('0x0')][_0xc53e('0x95')]=function(b){h(arguments[_0xc53e('0x29')]>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:a[_0xc53e('0x6b')],b,a['INFO']);},b[_0xc53e('0x0')]['reportWarning']=function(b,c){h(b,c,a[_0xc53e('0x6a')]);},b[_0xc53e('0x0')][_0xc53e('0xa2')]=function(b,c){h(b,c,a[_0xc53e('0xa3')]);},b[_0xc53e('0x0')][_0xc53e('0xa4')]=(0x0,n[_0xc53e('0x4')])(i[_0xc53e('0x4')][_0xc53e('0xa5')](function b(){return i['default'][_0xc53e('0xa6')](function(b){for(;;)switch(b[_0xc53e('0xa7')]=b[_0xc53e('0x5c')]){case 0x0:if(!c[_0xc53e('0x13')]!==a[_0xc53e('0xa8')]){b['next']=0x2;break;}throw new Error('not\x20bx\x20site');case 0x2:return b[_0xc53e('0xa9')](_0xc53e('0xaa'),new e[(_0xc53e('0x4'))](function(c,d){var b=setInterval(function(){window[_0xc53e('0x27')]&&window[_0xc53e('0x27')][_0xc53e('0x36')]&&window[_0xc53e('0x27')][_0xc53e('0x36')][_0xc53e('0xab')]&&window['bouncex'][_0xc53e('0x36')][_0xc53e('0xac')]&&(clearInterval(b),c({'bxdid':window[_0xc53e('0x27')][_0xc53e('0x36')][_0xc53e('0xab')],'bxvid':window['bouncex'][_0xc53e('0x36')][_0xc53e('0xac')]}));},a[_0xc53e('0xad')]);setTimeout(function(){clearInterval(b),d(_0xc53e('0xae'));},a[_0xc53e('0xaf')]);}));case 0x3:case _0xc53e('0xb0'):return b[_0xc53e('0xb1')]();}},b,this);})),b[_0xc53e('0x0')][_0xc53e('0x94')]=function(){return Math[_0xc53e('0x7d')]()<0.01;}(),b[_0xc53e('0x0')][_0xc53e('0xb2')]=function(a){try{return btoa(atob(a))===a;}catch(a){return!0x1;}},b[_0xc53e('0x0')][_0xc53e('0xb3')]=function(){var b=this;return new e[(_0xc53e('0x4'))](function(c){try{b['isOnePercentRoll']&&b[_0xc53e('0x95')]('iab\x20consent:\x20'+window[_0xc53e('0x12')]['hostname']);}catch(a){}window['__cmp'](_0xc53e('0xb4'),[a[_0xc53e('0xb5')]],function(b,j){if(j&&(_0xc53e('0xb6')===b['gdprApplies']||!0x0===b[_0xc53e('0xb7')])&&b[_0xc53e('0xb8')]){if(!0x1===b[_0xc53e('0xb8')][a[_0xc53e('0xb5')]])return c(!0x0);var d=!0x0,f=!0x1,g=void 0x0;try{for(var h,e=(0x0,r[_0xc53e('0x4')])(a['CONSENT_PURPOSE_IDS']);!(d=(h=e['next']())[_0xc53e('0x58')]);d=!0x0){var i=h[_0xc53e('0x57')];if(!0x1===b[_0xc53e('0xb9')][i])return c(!0x0);}}catch(a){f=!0x0,g=a;}finally{try{!d&&e[_0xc53e('0xaa')]&&e[_0xc53e('0xaa')]();}finally{if(f)throw g;}}}return c(!0x1);});});},b[_0xc53e('0x0')][_0xc53e('0xba')]=function(){var a='',b=_0xc53e('0xbb');return(0x0,p['default'])(k[_0xc53e('0xbc')](new Uint8Array(0xf)))[_0xc53e('0x79')](function(c){a+=b[_0xc53e('0xbd')](c%b[_0xc53e('0x29')]);}),a;},b[_0xc53e('0x0')][_0xc53e('0xbe')]=function(e,b,f){var d=g[_0xc53e('0x52')](_0xc53e('0x66'))||'';new Image()['src']=a[_0xc53e('0xbf')]+_0xc53e('0xc0')+e+'&wsid='+f+'&cookieID='+b[_0xc53e('0x62')]['cookieID']+_0xc53e('0x63')+b[_0xc53e('0x62')]['deviceID']+'&wps='+c[_0xc53e('0x13')]+'&externalID='+c[_0xc53e('0xc1')]+'&optOutNAI='+b[_0xc53e('0x80')][_0xc53e('0x81')]+_0xc53e('0xc2')+d;},b[_0xc53e('0x0')][_0xc53e('0xc3')]=function(){var a=arguments[_0xc53e('0x29')]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x18b;return new Date(new Date()['getTime']()+0x5265c00*a)['toGMTString']();};},function(a,b){a[_0xc53e('0x0')]=function(a){if(_0xc53e('0xb')!=typeof a)throw TypeError(a+_0xc53e('0xc4'));return a;};},function(b,c){var a={}[_0xc53e('0x6')];b[_0xc53e('0x0')]=function(b,c){return a[_0xc53e('0x1')](b,c);};},function(b,c){var a={}[_0xc53e('0xc5')];b['exports']=function(b){return a[_0xc53e('0x1')](b)[_0xc53e('0x34')](0x8,-0x1);};},function(a,c,b){a[_0xc53e('0x0')]={'default':b(0x46),'__esModule':!0x0};},function(a,c,b){a[_0xc53e('0x0')]={'default':b(0x3c),'__esModule':!0x0};},function(a,b){a[_0xc53e('0x0')]=function(a){try{return!!a();}catch(a){return!0x0;}};},function(e,f,c){var b=c(0xc),a=c(0x0)['document'],d=b(a)&&b(a[_0xc53e('0xc6')]);e[_0xc53e('0x0')]=function(b){return d?a[_0xc53e('0xc6')](b):{};};},function(a,b){a[_0xc53e('0x0')]=function(a,b){return{'enumerable':!(0x1&a),'configurable':!(0x2&a),'writable':!(0x4&a),'value':b};};},function(d,e,a){var b=a(0x25),c=a(0x1a);d[_0xc53e('0x0')]=function(a){return b(c(a));};},function(a,b){a[_0xc53e('0x0')]=function(a){if(void 0x0==a)throw TypeError(_0xc53e('0xc7')+a);return a;};},function(c,e,d){var a=d(0x1c),b=Math['min'];c['exports']=function(c){return c>0x0?b(a(c),0x1fffffffffffff):0x0;};},function(c,d){var a=Math['ceil'],b=Math[_0xc53e('0xc8')];c['exports']=function(c){return isNaN(c=+c)?0x0:(c>0x0?b:a)(c);};},function(d,e,b){var a=b(0x26)(_0xc53e('0xc9')),c=b(0x27);d[_0xc53e('0x0')]=function(b){return a[b]||(a[b]=c(b));};},function(b,d,c){var a=c(0x1a);b[_0xc53e('0x0')]=function(b){return Object(a(b));};},function(c,d,a){'use strict';var b=a(0x48)(!0x0);a(0x29)(String,_0xc53e('0xca'),function(a){this['_t']=String(a),this['_i']=0x0;},function(){var a,c=this['_t'],d=this['_i'];return d>=c[_0xc53e('0x29')]?{'value':void 0x0,'done':!0x0}:(a=b(c,d),this['_i']+=a['length'],{'value':a,'done':!0x1});});},function(e,f,a){var c=a(0xb)['f'],d=a(0x12),b=a(0x1)('toStringTag');e[_0xc53e('0x0')]=function(a,e,f){a&&!d(a=f?a:a[_0xc53e('0x5')],b)&&c(a,b,{'configurable':!0x0,'value':e});};},function(e,f,a){var b=a(0x2d),c=a(0x1)(_0xc53e('0xcb')),d=a(0xf);e[_0xc53e('0x0')]=a(0x2)[_0xc53e('0xcc')]=function(a){if(void 0x0!=a)return a[c]||a[_0xc53e('0xcd')]||d[b(a)];};},function(b,e,c){'use strict';function d(d){var b,c;this[_0xc53e('0xce')]=new d(function(a,d){if(void 0x0!==b||void 0x0!==c)throw TypeError(_0xc53e('0xcf'));b=a,c=d;}),this[_0xc53e('0x59')]=a(b),this[_0xc53e('0xd0')]=a(c);}var a=c(0x11);b[_0xc53e('0x0')]['f']=function(a){return new d(a);};},function(a,c,b){a[_0xc53e('0x0')]={'default':b(0x5d),'__esModule':!0x0};},function(d,e,a){var b=a(0x41),c=a(0x28);d[_0xc53e('0x0')]=Object[_0xc53e('0xc9')]||function(a){return b(a,c);};},function(b,d,c){var a=c(0x13);b[_0xc53e('0x0')]=Object('z')[_0xc53e('0xd1')](0x0)?Object:function(b){return'String'==a(b)?b[_0xc53e('0x33')](''):Object(b);};},function(c,e,d){var a=d(0x0),b=a[_0xc53e('0xd2')]||(a[_0xc53e('0xd2')]={});c[_0xc53e('0x0')]=function(a){return b[a]||(b[a]={});};},function(c,d){var a=0x0,b=Math[_0xc53e('0x7d')]();c[_0xc53e('0x0')]=function(c){return _0xc53e('0xd3')[_0xc53e('0xd4')](void 0x0===c?'':c,')_',(++a+b)[_0xc53e('0xc5')](0x24));};},function(a,b){a[_0xc53e('0x0')]=_0xc53e('0xd5')[_0xc53e('0x33')](',');},function(n,o,a){'use strict';var f=a(0x2a),d=a(0x5),i=a(0x49),g=a(0x6),j=a(0x12),h=a(0xf),k=a(0x4a),l=a(0x20),m=a(0x4d),b=a(0x1)('iterator'),c=!([][_0xc53e('0xc9')]&&'next'in[]['keys']()),e=function(){return this;};n[_0xc53e('0x0')]=function(A,r,x,E,p,D,B){k(x,r,E);var s,v,q,t=function(b){if(!c&&b in a)return a[b];switch(b){case'keys':case'values':return function(){return new x(this,b);};}return function(){return new x(this,b);};},y=r+_0xc53e('0xd6'),w=_0xc53e('0xd7')==p,u=!0x1,a=A[_0xc53e('0x5')],o=a[b]||a[_0xc53e('0xcd')]||p&&a[p],n=o||t(p),C=p?w?t('entries'):n:void 0x0,z=_0xc53e('0xd8')==r?a[_0xc53e('0xd9')]||o:o;if(z&&(q=m(z[_0xc53e('0x1')](new A())))!==Object[_0xc53e('0x5')]&&q['next']&&(l(q,y,!0x0),f||j(q,b)||g(q,b,e)),w&&o&&_0xc53e('0xd7')!==o[_0xc53e('0xda')]&&(u=!0x0,n=function(){return o[_0xc53e('0x1')](this);}),f&&!B||!c&&!u&&a[b]||g(a,b,n),h[r]=n,h[y]=e,p)if(s={'values':w?n:t(_0xc53e('0xd7')),'keys':D?n:t('keys'),'entries':C},B)for(v in s)v in a||i(a,v,s[v]);else d(d['P']+d['F']*(c||u),r,s);return s;};},function(a,b){a[_0xc53e('0x0')]=!0x0;},function(b,d,c){var a=c(0x0)[_0xc53e('0xdb')];b['exports']=a&&a[_0xc53e('0xdc')];},function(k,l,a){a(0x4e);for(var j=a(0x0),i=a(0x6),f=a(0xf),h=a(0x1)(_0xc53e('0xdd')),g=_0xc53e('0xde')[_0xc53e('0x33')](','),d=0x0;d<g['length'];d++){var c=g[d],e=j[c],b=e&&e['prototype'];b&&!b[h]&&i(b,h,c),f[c]=f[_0xc53e('0xd8')];}},function(f,g,b){var a=b(0x13),c=b(0x1)(_0xc53e('0xdd')),d=_0xc53e('0xdf')==a(function(){return arguments;}()),e=function(a,b){try{return a[b];}catch(a){}};f[_0xc53e('0x0')]=function(f){var b,g,h;return void 0x0===f?_0xc53e('0xe0'):null===f?'Null':_0xc53e('0x5d')==typeof(g=e(b=Object(f),c))?g:d?a(b):_0xc53e('0xe1')==(h=a(b))&&'function'==typeof b['callee']?_0xc53e('0xdf'):h;};},function(b,d,c){var a=c(0x3);b[_0xc53e('0x0')]=function(d,e,b,f){try{return f?e(a(b)[0x0],b[0x1]):e(b);}catch(b){var c=d[_0xc53e('0xaa')];throw void 0x0!==c&&a(c['call'](d)),b;}};},function(e,f,a){var b=a(0xf),c=a(0x1)('iterator'),d=Array['prototype'];e[_0xc53e('0x0')]=function(a){return void 0x0!==a&&(b[_0xc53e('0xd8')]===a||d[c]===a);};},function(e,f,a){var b=a(0x3),c=a(0x11),d=a(0x1)(_0xc53e('0xe2'));e[_0xc53e('0x0')]=function(f,g){var e,a=b(f)[_0xc53e('0xe3')];return void 0x0===a||void 0x0==(e=b(a)[d])?g:c(e);};},function(s,t,c){var d,n,q,f=c(0xa),r=c(0x54),o=c(0x2b),k=c(0x17),a=c(0x0),m=a[_0xc53e('0xe4')],i=a['setImmediate'],j=a[_0xc53e('0xe5')],p=a['MessageChannel'],h=a[_0xc53e('0xe6')],g=0x0,b={},e=function(){var a=+this;if(b[_0xc53e('0x6')](a)){var c=b[a];delete b[a],c();}},l=function(a){e[_0xc53e('0x1')](a[_0xc53e('0x2c')]);};i&&j||(i=function(a){for(var c=[],e=0x1;arguments[_0xc53e('0x29')]>e;)c['push'](arguments[e++]);return b[++g]=function(){r('function'==typeof a?a:Function(a),c);},d(g),g;},j=function(a){delete b[a];},_0xc53e('0xe4')==c(0x13)(m)?d=function(a){m[_0xc53e('0xe7')](f(e,a,0x1));}:h&&h['now']?d=function(a){h[_0xc53e('0x70')](f(e,a,0x1));}:p?(n=new p(),q=n[_0xc53e('0xe8')],n[_0xc53e('0xe9')]['onmessage']=l,d=f(q['postMessage'],q,0x1)):a[_0xc53e('0x3d')]&&_0xc53e('0xb')==typeof postMessage&&!a[_0xc53e('0xea')]?(d=function(b){a['postMessage'](b+'','*');},a[_0xc53e('0x3d')](_0xc53e('0xeb'),l,!0x1)):d='onreadystatechange'in k('script')?function(a){o[_0xc53e('0xec')](k('script'))[_0xc53e('0xed')]=function(){o[_0xc53e('0xee')](this),e[_0xc53e('0x1')](a);};}:function(a){setTimeout(f(e,a,0x1),0x0);}),s['exports']={'set':i,'clear':j};},function(a,b){a[_0xc53e('0x0')]=function(a){try{return{'e':!0x1,'v':a()};}catch(a){return{'e':!0x0,'v':a};}};},function(e,f,a){var b=a(0x3),c=a(0xc),d=a(0x22);e[_0xc53e('0x0')]=function(e,a){if(b(e),c(a)&&a[_0xc53e('0xe3')]===e)return a;var f=d['f'](e);return(0x0,f[_0xc53e('0x59')])(a),f[_0xc53e('0xce')];};},function(d,f,e){var a=e(0x1)(_0xc53e('0xcb')),b=!0x1;try{var c=[0x7][a]();c[_0xc53e('0xaa')]=function(){b=!0x0;},Array['from'](c,function(){throw 0x2;});}catch(a){}d[_0xc53e('0x0')]=function(f,g){if(!g&&!b)return!0x1;var d=!0x1;try{var c=[0x7],e=c[a]();e['next']=function(){return{'done':d=!0x0};},c[a]=function(){return e;},f(c);}catch(a){}return d;};},function(a,c,b){a['exports']={'default':b(0x5b),'__esModule':!0x0};},function(a,c,b){a[_0xc53e('0x0')]={'default':b(0x5e),'__esModule':!0x0};},function(a,i,d){'use strict';var g=d(0x23),h=function(a){return a&&a['__esModule']?a:{'default':a};}(g),b=d(0x7),e=d(0x4),c=d(0x10),f=d(0x8);a[_0xc53e('0x0')]['_setCookie']=function(a,d,e){document[_0xc53e('0x36')]=a+'='+this[_0xc53e('0xef')](d)+_0xc53e('0xf0')+c[_0xc53e('0xc3')](e)+_0xc53e('0xf1')+b[_0xc53e('0xf2')];},a[_0xc53e('0x0')][_0xc53e('0xf3')]=function(b){var a=(document['cookie'][_0xc53e('0x4c')](_0xc53e('0xf4')+b+'\x5cs*=\x5cs*([^;]+)')||[])[0x2];if(a)return this[_0xc53e('0xf5')](a);},a[_0xc53e('0x0')][_0xc53e('0xf6')]=function(a){document[_0xc53e('0x36')]=a+_0xc53e('0xf7')+b['HOST'];},a[_0xc53e('0x0')][_0xc53e('0xf8')]=function(a){try{return this[_0xc53e('0xf5')](window['localStorage']&&window[_0xc53e('0xf9')][a]);}catch(a){}},a[_0xc53e('0x0')][_0xc53e('0xfa')]=function(b,c){try{window[_0xc53e('0xf9')]&&(window[_0xc53e('0xf9')][b]=a[_0xc53e('0x0')][_0xc53e('0xef')](c));}catch(a){}},a[_0xc53e('0x0')]['_getSessionStorage']=function(a){try{return this[_0xc53e('0xf5')](window[_0xc53e('0xfb')]&&window[_0xc53e('0xfb')][a]);}catch(a){}},a['exports']['_setSessionStorage']=function(a,b){try{window[_0xc53e('0xfb')]&&(window[_0xc53e('0xfb')][a]=this[_0xc53e('0xef')](b));}catch(a){}},a[_0xc53e('0x0')]['_encodeForStorage']=function(a){try{return encodeURIComponent(btoa((0x0,h['default'])(a)));}catch(a){}},a[_0xc53e('0x0')][_0xc53e('0xf5')]=function(b){var a=void 0x0;try{a=decodeURIComponent(b);}catch(a){return JSON[_0xc53e('0x11')](b);}return JSON[_0xc53e('0x11')](c['isBase64'](a)?atob(a):a);},a['exports'][_0xc53e('0xfc')]=function(a,c){a&&a[_0xc53e('0xfd')]&&a[_0xc53e('0x62')]&&(this[_0xc53e('0xfe')](b[_0xc53e('0xff')],a[_0xc53e('0xfd')],b['THIRTEEN_MONTHS']),this['_setLocalStorage'](b[_0xc53e('0x100')],{'masterIDs':a[_0xc53e('0xfd')],'IDs':a[_0xc53e('0x62')]}),!e[_0xc53e('0x82')]&&c&&this[_0xc53e('0x101')](b[_0xc53e('0x100')],a));},a[_0xc53e('0x0')]['storeOptOut']=function(a){this[_0xc53e('0xfe')](a,'1',b[_0xc53e('0x102')]),this[_0xc53e('0xfa')](a,'1');},a[_0xc53e('0x0')][_0xc53e('0x103')]=function(){var a=void 0x0;try{a=this[_0xc53e('0x104')](b[_0xc53e('0x100')]),c['stopwatch'](b[_0xc53e('0x105')]);}catch(a){Math[_0xc53e('0x7d')]()<0.001&&c['reportWarning'](_0xc53e('0x106'),a);}if(a){try{(window[_0xc53e('0x61')][_0xc53e('0x6c')][_0xc53e('0x68')]||e[_0xc53e('0x1d')]||c[_0xc53e('0x94')])&&c['reportInfo'](b[_0xc53e('0x105')]+':\x20'+f[_0xc53e('0x53')]()['timing'][_0xc53e('0x4f')]);}catch(a){c['reportError']('Get\x20Session\x20Data',a);}return{'masterIDs':a['masterIDs'],'IDs':a[_0xc53e('0x62')],'info':a['info']};}return a;},a[_0xc53e('0x0')][_0xc53e('0x107')]=function(a){return this['_getCookie'](a)||this[_0xc53e('0xf8')](a)||!0x1;},a[_0xc53e('0x0')][_0xc53e('0x108')]=function(){return this[_0xc53e('0xf8')](b[_0xc53e('0x100')]);},a[_0xc53e('0x0')][_0xc53e('0x109')]=function(){var c=this[_0xc53e('0xf3')](b[_0xc53e('0xff')]),a=this[_0xc53e('0xf8')](b[_0xc53e('0x100')]);return a&&a[_0xc53e('0xfd')]&&(a=a[_0xc53e('0xfd')]),f[_0xc53e('0x53')]({'cookie':!!c,'LS':!!a},'matches'),c||a||void 0x0;};},function(q,r,a){'use strict';function c(a){return a&&a[_0xc53e('0x3')]?a:{'default':a};}function o(){return new i[(_0xc53e('0x4'))](function(g){var d=void 0x0;try{d=window[_0xc53e('0x10a')]||window[_0xc53e('0x10b')]||window[_0xc53e('0x10c')]||window['msIndexedDB'];}catch(a){}var e=window[_0xc53e('0x10d')]||window['webkitRequestFileSystem'],a=function(){return g(!0x0);},c=function(){return g(!0x1);};try{if(void 0x0!==e)e(window[_0xc53e('0x10e')],0x1,c,a);else if(void 0x0!==d&&b[_0xc53e('0x10f')])try{var f=d['open'](_0xc53e('0x39'));return f['onerror']=a,void(f[_0xc53e('0x110')]=c);}catch(b){return a();}else{if(!b[_0xc53e('0x111')])return b[_0xc53e('0x112')]?d?c():a():c();try{return localStorage[_0xc53e('0x113')]('test',0x1),localStorage['removeItem'](_0xc53e('0x39')),window[_0xc53e('0x114')](null,null,null,null),c();}catch(b){return a();}}}catch(a){p[_0xc53e('0x8f')](_0xc53e('0x115'),a);}});}function g(){var c=function(d,c){for(var b=void 0x0,a=0x0;a<c[_0xc53e('0x29')];a++)if(-0x1!==d['indexOf'](c[a])){b=c[a];break;}return void 0x0===b?_0xc53e('0x116'):b;},a=function(a,b){return-0x1!==a[_0xc53e('0x37')](b);};return function(){var f=navigator['productSub'],g=[_0xc53e('0x117'),_0xc53e('0x118'),'opr',_0xc53e('0x119'),_0xc53e('0x11a'),_0xc53e('0x11b')],a=c(b['UA'],g);if(a=_0xc53e('0x11c')===a?_0xc53e('0x118'):a,'20030107'!==f&&(_0xc53e('0x119')===a||'safari'===a||'opera'===a))return!0x0;var d=eval[_0xc53e('0xc5')]()[_0xc53e('0x29')];if(0x25===d&&_0xc53e('0x11a')!==a&&'firefox'!==a&&_0xc53e('0x116')!==a)return!0x0;if(0x27===d&&_0xc53e('0x11b')!==a&&_0xc53e('0x116')!==a)return!0x0;if(0x21===d&&'chrome'!==a&&'opera'!==a&&_0xc53e('0x116')!==a)return!0x0;var e=void 0x0;try{throw'a';}catch(a){try{a[_0xc53e('0x11d')](),e=!0x0;}catch(a){e=!0x1;}}return!(!e||'firefox'===a||_0xc53e('0x116')===a)||void 0x0!==navigator['buildID']&&_0xc53e('0x117')!==a;}()||function(){var f=navigator[_0xc53e('0x11e')]&&navigator['oscpu'][_0xc53e('0x11f')](),g=[_0xc53e('0x120'),_0xc53e('0x121'),_0xc53e('0x122'),_0xc53e('0x123'),_0xc53e('0x124'),_0xc53e('0x125'),_0xc53e('0x126')],e=navigator['platform'][_0xc53e('0x11f')](),d=c(b['UA'],g);if(d='i'===d[_0xc53e('0xbd')](0x0)?_0xc53e('0x127'):d,f){if(a(f,_0xc53e('0x128'))&&_0xc53e('0x121')!==d&&'windows\x20phone'!==d)return!0x0;if(a(f,_0xc53e('0x123'))&&'linux'!==d&&'android'!==d)return!0x0;if(a(f,_0xc53e('0x126'))&&'mac'!==d&&_0xc53e('0x127')!==d)return!0x0;if(a(f,_0xc53e('0x128'))&&a(f,'linux')&&a(f,_0xc53e('0x126'))&&_0xc53e('0x116')!==d)return!0x0;}return!(!a(e,_0xc53e('0x128'))||_0xc53e('0x121')===d||'windows\x20phone'===d)||(!(!(a(e,'linux')||a(e,_0xc53e('0x122'))||a(e,_0xc53e('0x129')))||_0xc53e('0x123')===d||_0xc53e('0x122')===d)||(!(!(a(e,_0xc53e('0x126'))||a(e,_0xc53e('0x125'))||a(e,'ipod')||a(e,'iphone'))||_0xc53e('0x126')===d||_0xc53e('0x127')===d)||(!!(a(e,'win')&&a(e,_0xc53e('0x123'))&&a(e,_0xc53e('0x126'))&&_0xc53e('0x116')!==d)||(!navigator[_0xc53e('0x12a')]&&_0xc53e('0x121')!==d&&'windows\x20Phone'!==d||!(_0xc53e('0x122')!==d&&_0xc53e('0x127')!==d&&_0xc53e('0x120')!==d||navigator['maxTouchPoints']||navigator[_0xc53e('0x12b')]||!function(){try{document[_0xc53e('0x12c')](_0xc53e('0x12d'));}catch(a){return!0x0;}return!0x1;}()||'ontouchstart'in window)))));}()||function(){return navigator[_0xc53e('0x12e')]&&navigator[_0xc53e('0x12f')]&&navigator[_0xc53e('0x12f')][0x0]&&navigator[_0xc53e('0x12f')][0x0]['substr']&&navigator['languages'][0x0]['substr'](0x0,0x2)!==navigator['language'][_0xc53e('0x130')](0x0,0x2);}()||function(){return window[_0xc53e('0x131')][_0xc53e('0x132')]<window[_0xc53e('0x131')]['availWidth']||window[_0xc53e('0x131')]['height']<window['screen']['availHeight'];}();}var h=a(0x14),i=c(h),f=a(0x9),e=c(f),l=a(0xe),m=c(l),n=function(){var a=(0x0,m[_0xc53e('0x4')])(e[_0xc53e('0x4')][_0xc53e('0xa5')](function a(h){var f,c;return e[_0xc53e('0x4')][_0xc53e('0xa6')](function(a){for(;;)switch(a[_0xc53e('0xa7')]=a['next']){case 0x0:return f=navigator['doNotTrack']||navigator[_0xc53e('0x133')]||window[_0xc53e('0x134')],a['t0']=g(),a[_0xc53e('0x5c')]=0x4,o();case 0x4:return a['t1']=a['sent'],a['t2']='1'===f||!0x0===f,a['t3']=new Date()[_0xc53e('0x135')]()/-0x3c,a['t4']=window['extensionID']||null,a['t5']=d[_0xc53e('0xc1')],c={'isSpoofed':a['t0'],'PM':a['t1'],'DNT':a['t2'],'deviceTimezone':a['t3'],'extensionID':a['t4'],'externalID':a['t5']},h&&(c[_0xc53e('0x136')]={},c[_0xc53e('0x136')][_0xc53e('0x137')]=b['isSafari']?j[_0xc53e('0x138')]()||null:null),d[_0xc53e('0x13')]===b[_0xc53e('0xa8')]&&(c[_0xc53e('0x139')]=h),k[_0xc53e('0x53')](c,_0xc53e('0x80')),a['abrupt'](_0xc53e('0xaa'),c);case 0xe:case'end':return a[_0xc53e('0xb1')]();}},a,this);}));return function(b){return a[_0xc53e('0x2a')](this,arguments);};}(),b=a(0x7),p=a(0x10),d=a(0x4),k=a(0x8),j=a(0x63);q[_0xc53e('0x0')]={'buildInfo':n,'detectPrivateMode':o,'detectBrowserSpoofing':g};},function(i,p,c){'use strict';function f(a){return a&&a['__esModule']?a:{'default':a};}var n=c(0x9),g=f(n),h=c(0x15),o=f(h),j=c(0xe),k=f(j),l=c(0x5a),m=l[_0xc53e('0x13a')](),b=c(0x4)[_0xc53e('0x13b')](m,'1.5.26'),a=c(0x10),d=c(0x7),e=c(0x37);i['exports'][_0xc53e('0x13c')]=(0x0,k[_0xc53e('0x4')])(g[_0xc53e('0x4')][_0xc53e('0xa5')](function f(){var i,p,h,k,q,t,j,m,r,s,n,l;return g[_0xc53e('0x4')]['wrap'](function(f){for(;;)switch(f['prev']=f[_0xc53e('0x5c')]){case 0x0:if(i=!0x1,p=a[_0xc53e('0xba')](),h=void 0x0,window[_0xc53e('0x61')]={'meta':{'errors':[],'version':'1.5.26','debug':!0x1}},k=c(0x61),q=c(0x64),t=c(0x38),j=c(0x8),d[_0xc53e('0x13d')]&&(window[_0xc53e('0x13e')]=k[_0xc53e('0x13f')][_0xc53e('0xa0')](k)),!e[_0xc53e('0x107')](d['GDPR_OPTOUT_IDENTIFIER'])){f[_0xc53e('0x5c')]=0xa;break;}return a[_0xc53e('0x77')](new Error(d[_0xc53e('0x85')]),b[_0xc53e('0x1f')]),f[_0xc53e('0xa9')]('return');case 0xa:if(f[_0xc53e('0xa7')]=0xa,m=!0x1,f['t0']=_0xc53e('0xb')==typeof window[_0xc53e('0x140')],!f['t0']){f[_0xc53e('0x5c')]=0x12;break;}return f[_0xc53e('0x5c')]=0x10,a[_0xc53e('0xb3')]();case 0x10:f['t1']=f['sent'],f['t0']=!0x0===f['t1'];case 0x12:if(!f['t0']){f[_0xc53e('0x5c')]=0x15;break;}return a['triggerClientCallback'](new Error(d['IAB_CONSENT_MESSAGE']),b['CLIENT_CB']),f[_0xc53e('0xa9')]('return');case 0x15:if(j[_0xc53e('0x53')](b[_0xc53e('0x26')]),j[_0xc53e('0x53')]({'loadID':p}),b[_0xc53e('0x22')]&&(r=e[_0xc53e('0x108')]())&&(m=!0x0,a['triggerClientCallback'](null,b[_0xc53e('0x22')],null,r),a[_0xc53e('0x71')](_0xc53e('0x141')),(a[_0xc53e('0x94')]||window['bxgraph']['meta'][_0xc53e('0x68')]||b[_0xc53e('0x1d')])&&a[_0xc53e('0x95')](_0xc53e('0x142')+j[_0xc53e('0x53')]()[_0xc53e('0x73')][_0xc53e('0x141')])),!(h=e[_0xc53e('0x103')]())){f[_0xc53e('0x5c')]=0x23;break;}return b[_0xc53e('0x20')]&&a['triggerClientCallback'](null,b['AD_CB'],null,h),Math[_0xc53e('0x7d')]()<0.001&&a[_0xc53e('0xbe')](d[_0xc53e('0x143')],h,b['BX_INFO']['wsid']),b[_0xc53e('0xc1')]&&b[_0xc53e('0xc1')]!==h[_0xc53e('0x80')][_0xc53e('0x144')]&&a['fireClientAnalytics'](d[_0xc53e('0x145')],h),f[_0xc53e('0x5c')]=0x1f,t[_0xc53e('0x146')](i);case 0x1f:s=f[_0xc53e('0x147')],h['info']=(0x0,o[_0xc53e('0x4')])(h[_0xc53e('0x80')],s),f[_0xc53e('0x5c')]=0x2f;break;case 0x23:return i=!0x0,f[_0xc53e('0xa7')]=0x24,f[_0xc53e('0x5c')]=0x27,k[_0xc53e('0x148')](!0x1,i);case 0x27:h=f[_0xc53e('0x147')],f[_0xc53e('0x5c')]=0x2f;break;case 0x2a:return f[_0xc53e('0xa7')]=0x2a,f['t2']=f['catch'](0x24),n=f['t2'][_0xc53e('0x149')]?f['t2'][_0xc53e('0x149')]:f['t2'],n===d[_0xc53e('0x85')]&&e['storeOptOut'](d[_0xc53e('0x14a')]),f['abrupt'](_0xc53e('0xaa'),a[_0xc53e('0x83')](n,b['CLIENT_CB']));case 0x2f:window[_0xc53e('0x61')][_0xc53e('0x62')]=h[_0xc53e('0x62')],window['bxgraph'][_0xc53e('0x80')]=h[_0xc53e('0x80')],i&&(a[_0xc53e('0x71')](_0xc53e('0x14b')),(a['isOnePercentRoll']||window[_0xc53e('0x61')]['meta'][_0xc53e('0x68')]||b['VERBOSE_EN'])&&a['reportInfo'](_0xc53e('0x14c')+j[_0xc53e('0x53')]()[_0xc53e('0x73')][_0xc53e('0x14b')]),b['AD_CB']&&!h[_0xc53e('0x80')][_0xc53e('0x14d')]&&a['triggerClientCallback'](null,b[_0xc53e('0x20')],null,h)),l=void 0x0,h[_0xc53e('0x36')]&&b['PE_EN']&&(l=h['cookie'],delete h['cookie']),e['storeIDData'](h,!0x0),a[_0xc53e('0x77')](null,b[_0xc53e('0x1f')],l,h),b[_0xc53e('0x22')]&&!m&&a[_0xc53e('0x77')](null,b[_0xc53e('0x22')],null,h),f[_0xc53e('0x5c')]=0x3c;break;case 0x39:return f['prev']=0x39,f['t3']=f['catch'](0xa),f[_0xc53e('0xa9')]('return',a[_0xc53e('0xa2')](_0xc53e('0x14e'),f['t3']));case 0x3c:try{q[_0xc53e('0x14f')](h,i);}catch(b){a['reportError'](_0xc53e('0x150'),b);}case 0x3d:case'end':return f[_0xc53e('0xb1')]();}},f,this,[[0xa,0x39],[0x24,0x2a]]);})),i['exports'][_0xc53e('0x13c')]();},function(d,f,e){var a=function(){return this;}()||Function('return\x20this')(),b=a[_0xc53e('0x151')]&&Object[_0xc53e('0x152')](a)[_0xc53e('0x37')](_0xc53e('0x151'))>=0x0,c=b&&a['regeneratorRuntime'];if(a['regeneratorRuntime']=void 0x0,d[_0xc53e('0x0')]=e(0x3b),b)a[_0xc53e('0x151')]=c;else try{delete a[_0xc53e('0x151')];}catch(b){a[_0xc53e('0x151')]=void 0x0;}},function(a,b){!function(A){'use strict';function F(e,a,f,g){var c=a&&a[_0xc53e('0x5')]instanceof t?a:t,b=Object['create'](c[_0xc53e('0x5')]),d=new w(g||[]);return b[_0xc53e('0x153')]=H(e,f,d),b;}function r(a,b,c){try{return{'type':_0xc53e('0x154'),'arg':a[_0xc53e('0x1')](b,c)};}catch(a){return{'type':_0xc53e('0x5b'),'arg':a};}}function t(){}function p(){}function g(){}function E(a){['next',_0xc53e('0x5b'),'return'][_0xc53e('0x79')](function(b){a[b]=function(a){return this[_0xc53e('0x153')](b,a);};});}function l(c){function a(i,j,h,d){var f=r(c[i],c,j);if('throw'!==f['type']){var g=f[_0xc53e('0x155')],b=g[_0xc53e('0x57')];return b&&_0xc53e('0x156')==typeof b&&e[_0xc53e('0x1')](b,_0xc53e('0x157'))?Promise[_0xc53e('0x59')](b[_0xc53e('0x157')])[_0xc53e('0x5a')](function(b){a(_0xc53e('0x5c'),b,h,d);},function(b){a('throw',b,h,d);}):Promise[_0xc53e('0x59')](b)['then'](function(a){g[_0xc53e('0x57')]=a,h(g);},d);}d(f['arg']);}function d(d,e){function c(){return new Promise(function(b,c){a(d,e,b,c);});}return b=b?b[_0xc53e('0x5a')](c,c):c();}var b;this[_0xc53e('0x153')]=d;}function H(d,e,a){var b=s;return function(j,k){if(b===q)throw new Error('Generator\x20is\x20already\x20running');if(b===i){if(_0xc53e('0x5b')===j)throw k;return C();}for(a[_0xc53e('0x158')]=j,a[_0xc53e('0x155')]=k;;){var h=a['delegate'];if(h){var g=D(h,a);if(g){if(g===c)continue;return g;}}if('next'===a[_0xc53e('0x158')])a[_0xc53e('0x147')]=a[_0xc53e('0x159')]=a[_0xc53e('0x155')];else if(_0xc53e('0x5b')===a[_0xc53e('0x158')]){if(b===s)throw b=i,a[_0xc53e('0x155')];a[_0xc53e('0x15a')](a['arg']);}else _0xc53e('0xaa')===a['method']&&a[_0xc53e('0xa9')]('return',a['arg']);b=q;var f=r(d,e,a);if(_0xc53e('0x154')===f[_0xc53e('0x15b')]){if(b=a[_0xc53e('0x58')]?i:B,f[_0xc53e('0x155')]===c)continue;return{'value':f[_0xc53e('0x155')],'done':a[_0xc53e('0x58')]};}'throw'===f[_0xc53e('0x15b')]&&(b=i,a[_0xc53e('0x158')]=_0xc53e('0x5b'),a[_0xc53e('0x155')]=f[_0xc53e('0x155')]);}};}function D(b,a){var g=b[_0xc53e('0xcb')][a[_0xc53e('0x158')]];if(g===d){if(a['delegate']=null,_0xc53e('0x5b')===a[_0xc53e('0x158')]){if(b['iterator'][_0xc53e('0xaa')]&&(a['method']=_0xc53e('0xaa'),a[_0xc53e('0x155')]=d,D(b,a),_0xc53e('0x5b')===a[_0xc53e('0x158')]))return c;a[_0xc53e('0x158')]=_0xc53e('0x5b'),a[_0xc53e('0x155')]=new TypeError(_0xc53e('0x15c'));}return c;}var f=r(g,b[_0xc53e('0xcb')],a[_0xc53e('0x155')]);if(_0xc53e('0x5b')===f[_0xc53e('0x15b')])return a[_0xc53e('0x158')]=_0xc53e('0x5b'),a[_0xc53e('0x155')]=f[_0xc53e('0x155')],a[_0xc53e('0x15d')]=null,c;var e=f[_0xc53e('0x155')];return e?e[_0xc53e('0x58')]?(a[b['resultName']]=e[_0xc53e('0x57')],a['next']=b['nextLoc'],_0xc53e('0xaa')!==a[_0xc53e('0x158')]&&(a[_0xc53e('0x158')]=_0xc53e('0x5c'),a[_0xc53e('0x155')]=d),a[_0xc53e('0x15d')]=null,c):e:(a[_0xc53e('0x158')]=_0xc53e('0x5b'),a['arg']=new TypeError('iterator\x20result\x20is\x20not\x20an\x20object'),a[_0xc53e('0x15d')]=null,c);}function G(a){var b={'tryLoc':a[0x0]};0x1 in a&&(b[_0xc53e('0x15e')]=a[0x1]),0x2 in a&&(b[_0xc53e('0x15f')]=a[0x2],b[_0xc53e('0x160')]=a[0x3]),this[_0xc53e('0x161')][_0xc53e('0x6e')](b);}function v(b){var a=b[_0xc53e('0x162')]||{};a[_0xc53e('0x15b')]=_0xc53e('0x154'),delete a[_0xc53e('0x155')],b['completion']=a;}function w(a){this['tryEntries']=[{'tryLoc':_0xc53e('0x163')}],a[_0xc53e('0x79')](G,this),this[_0xc53e('0x13f')](!0x0);}function x(a){if(a){var c=a[j];if(c)return c[_0xc53e('0x1')](a);if(_0xc53e('0xb')==typeof a[_0xc53e('0x5c')])return a;if(!isNaN(a[_0xc53e('0x29')])){var b=-0x1,f=function c(){for(;++b<a[_0xc53e('0x29')];)if(e[_0xc53e('0x1')](a,b))return c[_0xc53e('0x57')]=a[b],c[_0xc53e('0x58')]=!0x1,c;return c['value']=d,c[_0xc53e('0x58')]=!0x0,c;};return f[_0xc53e('0x5c')]=f;}}return{'next':C};}function C(){return{'value':d,'done':!0x0};}var d,u=Object[_0xc53e('0x5')],e=u[_0xc53e('0x6')],o=_0xc53e('0xb')==typeof Symbol?Symbol:{},j=o[_0xc53e('0xcb')]||'@@iterator',z=o['asyncIterator']||'@@asyncIterator',k=o['toStringTag']||'@@toStringTag',y=_0xc53e('0x156')==typeof a,b=A['regeneratorRuntime'];if(b)return void(y&&(a[_0xc53e('0x0')]=b));b=A[_0xc53e('0x151')]=y?a[_0xc53e('0x0')]:{},b[_0xc53e('0xa6')]=F;var s=_0xc53e('0x164'),B='suspendedYield',q=_0xc53e('0x165'),i=_0xc53e('0x166'),c={},m={};m[j]=function(){return this;};var n=Object['getPrototypeOf'],h=n&&n(n(x([])));h&&h!==u&&e[_0xc53e('0x1')](h,j)&&(m=h);var f=g['prototype']=t[_0xc53e('0x5')]=Object[_0xc53e('0x167')](m);p[_0xc53e('0x5')]=f[_0xc53e('0xe3')]=g,g['constructor']=p,g[k]=p[_0xc53e('0x168')]='GeneratorFunction',b[_0xc53e('0x169')]=function(b){var a='function'==typeof b&&b[_0xc53e('0xe3')];return!!a&&(a===p||_0xc53e('0x16a')===(a[_0xc53e('0x168')]||a[_0xc53e('0xda')]));},b[_0xc53e('0xa5')]=function(a){return Object[_0xc53e('0x16b')]?Object[_0xc53e('0x16b')](a,g):(a[_0xc53e('0x16c')]=g,k in a||(a[k]=_0xc53e('0x16a'))),a[_0xc53e('0x5')]=Object['create'](f),a;},b[_0xc53e('0x16d')]=function(a){return{'__await':a};},E(l[_0xc53e('0x5')]),l[_0xc53e('0x5')][z]=function(){return this;},b[_0xc53e('0x16e')]=l,b[_0xc53e('0x16f')]=function(d,c,e,f){var a=new l(F(d,c,e,f));return b[_0xc53e('0x169')](c)?a:a[_0xc53e('0x5c')]()['then'](function(b){return b[_0xc53e('0x58')]?b[_0xc53e('0x57')]:a[_0xc53e('0x5c')]();});},E(f),f[k]='Generator',f[j]=function(){return this;},f[_0xc53e('0xc5')]=function(){return _0xc53e('0x170');},b['keys']=function(b){var a=[];for(var c in b)a[_0xc53e('0x6e')](c);return a[_0xc53e('0x171')](),function c(){for(;a[_0xc53e('0x29')];){var d=a[_0xc53e('0x78')]();if(d in b)return c['value']=d,c[_0xc53e('0x58')]=!0x1,c;}return c['done']=!0x0,c;};},b['values']=x,w[_0xc53e('0x5')]={'constructor':w,'reset':function(b){if(this[_0xc53e('0xa7')]=0x0,this['next']=0x0,this[_0xc53e('0x147')]=this[_0xc53e('0x159')]=d,this[_0xc53e('0x58')]=!0x1,this[_0xc53e('0x15d')]=null,this[_0xc53e('0x158')]='next',this[_0xc53e('0x155')]=d,this[_0xc53e('0x161')][_0xc53e('0x79')](v),!b)for(var a in this)'t'===a[_0xc53e('0xbd')](0x0)&&e[_0xc53e('0x1')](this,a)&&!isNaN(+a['slice'](0x1))&&(this[a]=d);},'stop':function(){this['done']=!0x0;var b=this[_0xc53e('0x161')][0x0],a=b[_0xc53e('0x162')];if(_0xc53e('0x5b')===a[_0xc53e('0x15b')])throw a[_0xc53e('0x155')];return this['rval'];},'dispatchException':function(j){function b(b,a){return g[_0xc53e('0x15b')]=_0xc53e('0x5b'),g[_0xc53e('0x155')]=j,c[_0xc53e('0x5c')]=b,a&&(c[_0xc53e('0x158')]='next',c[_0xc53e('0x155')]=d),!!a;}if(this[_0xc53e('0x58')])throw j;for(var c=this,f=this[_0xc53e('0x161')][_0xc53e('0x29')]-0x1;f>=0x0;--f){var a=this[_0xc53e('0x161')][f],g=a[_0xc53e('0x162')];if(_0xc53e('0x163')===a[_0xc53e('0x172')])return b(_0xc53e('0xb0'));if(a['tryLoc']<=this['prev']){var h=e[_0xc53e('0x1')](a,_0xc53e('0x15e')),i=e['call'](a,_0xc53e('0x15f'));if(h&&i){if(this[_0xc53e('0xa7')]<a[_0xc53e('0x15e')])return b(a['catchLoc'],!0x0);if(this[_0xc53e('0xa7')]<a[_0xc53e('0x15f')])return b(a[_0xc53e('0x15f')]);}else if(h){if(this[_0xc53e('0xa7')]<a[_0xc53e('0x15e')])return b(a[_0xc53e('0x15e')],!0x0);}else{if(!i)throw new Error('try\x20statement\x20without\x20catch\x20or\x20finally');if(this[_0xc53e('0xa7')]<a[_0xc53e('0x15f')])return b(a['finallyLoc']);}}}},'abrupt':function(g,h){for(var d=this[_0xc53e('0x161')][_0xc53e('0x29')]-0x1;d>=0x0;--d){var b=this[_0xc53e('0x161')][d];if(b[_0xc53e('0x172')]<=this[_0xc53e('0xa7')]&&e[_0xc53e('0x1')](b,'finallyLoc')&&this[_0xc53e('0xa7')]<b[_0xc53e('0x15f')]){var a=b;break;}}a&&(_0xc53e('0x173')===g||_0xc53e('0x174')===g)&&a[_0xc53e('0x172')]<=h&&h<=a[_0xc53e('0x15f')]&&(a=null);var f=a?a[_0xc53e('0x162')]:{};return f[_0xc53e('0x15b')]=g,f['arg']=h,a?(this['method']=_0xc53e('0x5c'),this[_0xc53e('0x5c')]=a['finallyLoc'],c):this[_0xc53e('0x175')](f);},'complete':function(a,b){if('throw'===a[_0xc53e('0x15b')])throw a[_0xc53e('0x155')];return'break'===a[_0xc53e('0x15b')]||'continue'===a[_0xc53e('0x15b')]?this['next']=a[_0xc53e('0x155')]:_0xc53e('0xaa')===a[_0xc53e('0x15b')]?(this['rval']=this[_0xc53e('0x155')]=a[_0xc53e('0x155')],this[_0xc53e('0x158')]=_0xc53e('0xaa'),this[_0xc53e('0x5c')]=_0xc53e('0xb0')):_0xc53e('0x154')===a[_0xc53e('0x15b')]&&b&&(this[_0xc53e('0x5c')]=b),c;},'finish':function(d){for(var b=this[_0xc53e('0x161')][_0xc53e('0x29')]-0x1;b>=0x0;--b){var a=this[_0xc53e('0x161')][b];if(a['finallyLoc']===d)return this['complete'](a[_0xc53e('0x162')],a['afterLoc']),v(a),c;}},'catch':function(e){for(var a=this[_0xc53e('0x161')][_0xc53e('0x29')]-0x1;a>=0x0;--a){var b=this[_0xc53e('0x161')][a];if(b[_0xc53e('0x172')]===e){var c=b['completion'];if(_0xc53e('0x5b')===c['type']){var d=c['arg'];v(b);}return d;}}throw new Error(_0xc53e('0x176'));},'delegateYield':function(a,b,e){return this[_0xc53e('0x15d')]={'iterator':x(a),'resultName':b,'nextLoc':e},_0xc53e('0x5c')===this[_0xc53e('0x158')]&&(this[_0xc53e('0x155')]=d),c;}};}(function(){return this;}()||Function(_0xc53e('0x177'))());},function(b,c,a){a(0x3d),b[_0xc53e('0x0')]=a(0x2)[_0xc53e('0xe1')][_0xc53e('0x178')];},function(c,d,b){var a=b(0x5);a(a['S']+a['F'],_0xc53e('0xe1'),{'assign':b(0x40)});},function(b,c,a){b[_0xc53e('0x0')]=!a(0xd)&&!a(0x16)(function(){return 0x7!=Object[_0xc53e('0x2')](a(0x17)(_0xc53e('0x179')),'a',{'get':function(){return 0x7;}})['a'];});},function(b,d,c){var a=c(0xc);b[_0xc53e('0x0')]=function(b,e){if(!a(b))return b;var c,d;if(e&&_0xc53e('0xb')==typeof(c=b[_0xc53e('0xc5')])&&!a(d=c[_0xc53e('0x1')](b)))return d;if('function'==typeof(c=b['valueOf'])&&!a(d=c[_0xc53e('0x1')](b)))return d;if(!e&&_0xc53e('0xb')==typeof(c=b[_0xc53e('0xc5')])&&!a(d=c[_0xc53e('0x1')](b)))return d;throw TypeError(_0xc53e('0x17a'));};},function(h,i,a){'use strict';var c=a(0x24),d=a(0x44),e=a(0x45),f=a(0x1e),g=a(0x25),b=Object[_0xc53e('0x178')];h[_0xc53e('0x0')]=!b||a(0x16)(function(){var a={},c={},d=Symbol(),e=_0xc53e('0x17b');return a[d]=0x7,e[_0xc53e('0x33')]('')[_0xc53e('0x79')](function(a){c[a]=a;}),0x7!=b({},a)[d]||Object[_0xc53e('0xc9')](b({},c))[_0xc53e('0x35')]('')!=e;})?function(p,q){for(var i=f(p),n=arguments[_0xc53e('0x29')],k=0x1,b=d['f'],m=e['f'];n>k;)for(var l,a=g(arguments[k++]),h=b?c(a)[_0xc53e('0xd4')](b(a)):c(a),o=h[_0xc53e('0x29')],j=0x0;o>j;)m['call'](a,l=h[j++])&&(i[l]=a[l]);return i;}:b;},function(f,g,a){var b=a(0x12),c=a(0x19),d=a(0x42)(!0x1),e=a(0x1d)(_0xc53e('0x17c'));f['exports']=function(j,i){var a,g=c(j),h=0x0,f=[];for(a in g)a!=e&&b(g,a)&&f['push'](a);for(;i[_0xc53e('0x29')]>h;)b(g,a=i[h++])&&(~d(f,a)||f[_0xc53e('0x6e')](a));return f;};},function(e,f,a){var b=a(0x19),c=a(0x1b),d=a(0x43);e[_0xc53e('0x0')]=function(a){return function(j,h,k){var i,f=b(j),g=c(f[_0xc53e('0x29')]),e=d(k,g);if(a&&h!=h){for(;g>e;)if((i=f[e++])!=i)return!0x0;}else for(;g>e;e++)if((a||e in f)&&f[e]===h)return a||e||0x0;return!a&&-0x1;};};},function(d,f,e){var a=e(0x1c),b=Math[_0xc53e('0x17d')],c=Math[_0xc53e('0x17e')];d[_0xc53e('0x0')]=function(d,e){return d=a(d),d<0x0?b(d+e,0x0):c(d,e);};},function(b,a){a['f']=Object[_0xc53e('0x17f')];},function(b,a){a['f']={}[_0xc53e('0xd1')];},function(b,c,a){a(0x47),a(0x1f),a(0x2c),a(0x51),a(0x58),a(0x59),b['exports']=a(0x2)[_0xc53e('0x180')];},function(a,b){},function(d,e,a){var b=a(0x1c),c=a(0x1a);d[_0xc53e('0x0')]=function(a){return function(i,j){var f,g,e=String(c(i)),d=b(j),h=e[_0xc53e('0x29')];return d<0x0||d>=h?a?'':void 0x0:(f=e[_0xc53e('0x181')](d),f<0xd800||f>0xdbff||d+0x1===h||(g=e['charCodeAt'](d+0x1))<0xdc00||g>0xdfff?a?e[_0xc53e('0xbd')](d):f:a?e['slice'](d,d+0x2):g-0xdc00+(f-0xd800<<0xa)+0x10000);};};},function(a,c,b){a[_0xc53e('0x0')]=b(0x6);},function(f,g,a){'use strict';var c=a(0x4b),d=a(0x18),e=a(0x20),b={};a(0x6)(b,a(0x1)(_0xc53e('0xcb')),function(){return this;}),f[_0xc53e('0x0')]=function(a,f,g){a[_0xc53e('0x5')]=c(b,{'next':d(0x1,g)}),e(a,f+'\x20Iterator');};},function(h,i,a){var e=a(0x3),f=a(0x4c),d=a(0x28),g=a(0x1d)(_0xc53e('0x17c')),c=function(){},b=function(){var c,e=a(0x17)('iframe'),f=d[_0xc53e('0x29')];for(e[_0xc53e('0x182')][_0xc53e('0x183')]=_0xc53e('0x184'),a(0x2b)['appendChild'](e),e[_0xc53e('0x25')]=_0xc53e('0x185'),c=e[_0xc53e('0x186')]['document'],c[_0xc53e('0x9b')](),c[_0xc53e('0x187')](_0xc53e('0x188')),c['close'](),b=c['F'];f--;)delete b[_0xc53e('0x5')][d[f]];return b();};h[_0xc53e('0x0')]=Object[_0xc53e('0x167')]||function(d,h){var a;return null!==d?(c[_0xc53e('0x5')]=e(d),a=new c(),c['prototype']=null,a[g]=d):a=b(),void 0x0===h?a:f(a,h);};},function(e,f,a){var b=a(0xb),c=a(0x3),d=a(0x24);e[_0xc53e('0x0')]=a(0xd)?Object[_0xc53e('0x189')]:function(a,g){c(a);for(var h,e=d(g),i=e[_0xc53e('0x29')],f=0x0;i>f;)b['f'](a,h=e[f++],g[h]);return a;};},function(f,g,a){var c=a(0x12),d=a(0x1e),b=a(0x1d)('IE_PROTO'),e=Object[_0xc53e('0x5')];f[_0xc53e('0x0')]=Object[_0xc53e('0x18a')]||function(a){return a=d(a),c(a,b)?a[b]:'function'==typeof a[_0xc53e('0xe3')]&&a instanceof a[_0xc53e('0xe3')]?a[_0xc53e('0xe3')]['prototype']:a instanceof Object?e:null;};},function(f,g,a){'use strict';var c=a(0x4f),b=a(0x50),d=a(0xf),e=a(0x19);f['exports']=a(0x29)(Array,_0xc53e('0xd8'),function(a,b){this['_t']=e(a),this['_i']=0x0,this['_k']=b;},function(){var c=this['_t'],d=this['_k'],a=this['_i']++;return!c||a>=c[_0xc53e('0x29')]?(this['_t']=void 0x0,b(0x1)):_0xc53e('0xc9')==d?b(0x0,a):_0xc53e('0xd7')==d?b(0x0,c[a]):b(0x0,[a,c[a]]);},'values'),d[_0xc53e('0xdf')]=d[_0xc53e('0xd8')],c(_0xc53e('0xc9')),c(_0xc53e('0xd7')),c(_0xc53e('0xd9'));},function(a,b){a[_0xc53e('0x0')]=function(){};},function(a,b){a['exports']=function(a,b){return{'value':b,'done':!!a};};},function(I,J,a){'use strict';var n,H,F,v,r=a(0x2a),d=a(0x0),e=a(0xa),y=a(0x2d),b=a(0x5),D=a(0xc),C=a(0x11),B=a(0x52),q=a(0x53),A=a(0x30),s=a(0x31)['set'],t=a(0x55)(),u=a(0x22),o=a(0x32),z=a(0x33),x=d[_0xc53e('0x18b')],k=d[_0xc53e('0xe4')],c=d[_0xc53e('0x180')],g=_0xc53e('0xe4')==y(k),j=function(){},i=H=u['f'],h=!!function(){try{var b=c[_0xc53e('0x59')](0x1),d=(b[_0xc53e('0xe3')]={})[a(0x1)(_0xc53e('0xe2'))]=function(a){a(j,j);};return(g||_0xc53e('0xb')==typeof PromiseRejectionEvent)&&b['then'](j)instanceof d;}catch(a){}}(),w=function(a){var b;return!(!D(a)||_0xc53e('0xb')!=typeof(b=a['then']))&&b;},l=function(a,c){if(!a['_n']){a['_n']=!0x0;var b=a['_c'];t(function(){for(var d=a['_v'],e=0x1==a['_s'],f=0x0;b['length']>f;)!function(b){var c,j,h=e?b['ok']:b[_0xc53e('0x18c')],i=b[_0xc53e('0x59')],f=b[_0xc53e('0xd0')],g=b[_0xc53e('0x18d')];try{h?(e||(0x2==a['_h']&&E(a),a['_h']=0x1),!0x0===h?c=d:(g&&g[_0xc53e('0x18e')](),c=h(d),g&&g[_0xc53e('0x18f')]()),c===b['promise']?f(x('Promise-chain\x20cycle')):(j=w(c))?j[_0xc53e('0x1')](c,i,f):i(c)):f(d);}catch(a){f(a);}}(b[f++]);a['_c']=[],a['_n']=!0x1,c&&!a['_h']&&G(a);});}},G=function(a){s[_0xc53e('0x1')](d,function(){var c,h,e,b=a['_v'],f=m(a);if(f&&(c=o(function(){g?k[_0xc53e('0x190')](_0xc53e('0x191'),b,a):(h=d['onunhandledrejection'])?h({'promise':a,'reason':b}):(e=d['console'])&&e[_0xc53e('0x8e')]&&e[_0xc53e('0x8e')](_0xc53e('0x192'),b);}),a['_h']=g||m(a)?0x2:0x1),a['_a']=void 0x0,f&&c['e'])throw c['v'];});},m=function(a){if(0x1==a['_h'])return!0x1;for(var b,c=a['_a']||a['_c'],d=0x0;c['length']>d;)if(b=c[d++],b[_0xc53e('0x18c')]||!m(b[_0xc53e('0xce')]))return!0x1;return!0x0;},E=function(a){s[_0xc53e('0x1')](d,function(){var b;g?k[_0xc53e('0x190')](_0xc53e('0x193'),a):(b=d[_0xc53e('0x194')])&&b({'promise':a,'reason':a['_v']});});},f=function(b){var a=this;a['_d']||(a['_d']=!0x0,a=a['_w']||a,a['_v']=b,a['_s']=0x2,a['_a']||(a['_a']=a['_c'][_0xc53e('0x34')]()),l(a,!0x0));},p=function(b){var c,a=this;if(!a['_d']){a['_d']=!0x0,a=a['_w']||a;try{if(a===b)throw x('Promise\x20can\x27t\x20be\x20resolved\x20itself');(c=w(b))?t(function(){var d={'_w':a,'_d':!0x1};try{c['call'](b,e(p,d,0x1),e(f,d,0x1));}catch(a){f[_0xc53e('0x1')](d,a);}}):(a['_v']=b,a['_s']=0x1,l(a,!0x1));}catch(b){f[_0xc53e('0x1')]({'_w':a,'_d':!0x1},b);}}};h||(c=function(a){B(this,c,_0xc53e('0x180'),'_h'),C(a),n['call'](this);try{a(e(p,this,0x1),e(f,this,0x1));}catch(a){f[_0xc53e('0x1')](this,a);}},n=function(a){this['_c']=[],this['_a']=void 0x0,this['_s']=0x0,this['_d']=!0x1,this['_v']=void 0x0,this['_h']=0x0,this['_n']=!0x1;},n['prototype']=a(0x56)(c[_0xc53e('0x5')],{'then':function(b,d){var a=i(A(this,c));return a['ok']='function'!=typeof b||b,a[_0xc53e('0x18c')]=_0xc53e('0xb')==typeof d&&d,a[_0xc53e('0x18d')]=g?k[_0xc53e('0x18d')]:void 0x0,this['_c']['push'](a),this['_a']&&this['_a']['push'](a),this['_s']&&l(this,!0x1),a[_0xc53e('0xce')];},'catch':function(a){return this[_0xc53e('0x5a')](void 0x0,a);}}),F=function(){var a=new n();this[_0xc53e('0xce')]=a,this[_0xc53e('0x59')]=e(p,a,0x1),this[_0xc53e('0xd0')]=e(f,a,0x1);},u['f']=i=function(a){return a===c||a===v?new F(a):H(a);}),b(b['G']+b['W']+b['F']*!h,{'Promise':c}),a(0x20)(c,'Promise'),a(0x57)(_0xc53e('0x180')),v=a(0x2)[_0xc53e('0x180')],b(b['S']+b['F']*!h,'Promise',{'reject':function(b){var a=i(this);return(0x0,a[_0xc53e('0xd0')])(b),a[_0xc53e('0xce')];}}),b(b['S']+b['F']*(r||!h),_0xc53e('0x180'),{'resolve':function(a){return z(r&&this===v?c:this,a);}}),b(b['S']+b['F']*!(h&&a(0x34)(function(a){c[_0xc53e('0x195')](a)['catch'](j);})),_0xc53e('0x180'),{'all':function(f){var b=this,a=i(b),c=a[_0xc53e('0x59')],d=a[_0xc53e('0xd0')],e=o(function(){var a=[],g=0x0,e=0x1;q(f,!0x1,function(i){var h=g++,f=!0x1;a[_0xc53e('0x6e')](void 0x0),e++,b['resolve'](i)['then'](function(b){f||(f=!0x0,a[h]=b,--e||c(a));},d);}),--e||c(a);});return e['e']&&d(e['v']),a[_0xc53e('0xce')];},'race':function(e){var b=this,a=i(b),c=a[_0xc53e('0xd0')],d=o(function(){q(e,!0x1,function(d){b[_0xc53e('0x59')](d)[_0xc53e('0x5a')](a[_0xc53e('0x59')],c);});});return d['e']&&c(d['v']),a[_0xc53e('0xce')];}});},function(a,b){a[_0xc53e('0x0')]=function(a,c,d,b){if(!(a instanceof c)||void 0x0!==b&&b in a)throw TypeError(d+':\x20incorrect\x20invocation!');return a;};},function(k,c,a){var e=a(0xa),f=a(0x2e),g=a(0x2f),h=a(0x3),i=a(0x1b),j=a(0x21),d={},b={},c=k[_0xc53e('0x0')]=function(a,o,t,s,r){var q,n,p,c,m=r?function(){return a;}:j(a),l=e(t,s,o?0x2:0x1),k=0x0;if(_0xc53e('0xb')!=typeof m)throw TypeError(a+_0xc53e('0x196'));if(g(m)){for(q=i(a[_0xc53e('0x29')]);q>k;k++)if((c=o?l(h(n=a[k])[0x0],n[0x1]):l(a[k]))===d||c===b)return c;}else for(p=m[_0xc53e('0x1')](a);!(n=p[_0xc53e('0x5c')]())[_0xc53e('0x58')];)if((c=f(p,l,n['value'],o))===d||c===b)return c;};c[_0xc53e('0x197')]=d,c[_0xc53e('0x198')]=b;},function(a,b){a[_0xc53e('0x0')]=function(b,a,c){var d=void 0x0===c;switch(a['length']){case 0x0:return d?b():b[_0xc53e('0x1')](c);case 0x1:return d?b(a[0x0]):b[_0xc53e('0x1')](c,a[0x0]);case 0x2:return d?b(a[0x0],a[0x1]):b['call'](c,a[0x0],a[0x1]);case 0x3:return d?b(a[0x0],a[0x1],a[0x2]):b[_0xc53e('0x1')](c,a[0x0],a[0x1],a[0x2]);case 0x4:return d?b(a[0x0],a[0x1],a[0x2],a[0x3]):b[_0xc53e('0x1')](c,a[0x0],a[0x1],a[0x2],a[0x3]);}return b[_0xc53e('0x2a')](c,a);};},function(h,i,d){var a=d(0x0),g=d(0x31)[_0xc53e('0x55')],e=a[_0xc53e('0x199')]||a['WebKitMutationObserver'],b=a[_0xc53e('0xe4')],c=a['Promise'],f='process'==d(0x13)(b);h['exports']=function(){var d,i,h,j=function(){var a,c;for(f&&(a=b[_0xc53e('0x18d')])&&a[_0xc53e('0x18f')]();d;){c=d['fn'],d=d[_0xc53e('0x5c')];try{c();}catch(a){throw d?h():i=void 0x0,a;}}i=void 0x0,a&&a[_0xc53e('0x18e')]();};if(f)h=function(){b[_0xc53e('0xe7')](j);};else if(e){var k=!0x0,l=document[_0xc53e('0x19a')]('');new e(j)[_0xc53e('0x19b')](l,{'characterData':!0x0}),h=function(){l[_0xc53e('0x2c')]=k=!k;};}else if(c&&c[_0xc53e('0x59')]){var m=c[_0xc53e('0x59')]();h=function(){m['then'](j);};}else h=function(){g[_0xc53e('0x1')](a,j);};return function(b){var a={'fn':b,'next':void 0x0};i&&(i[_0xc53e('0x5c')]=a),d||(d=a,h()),i=a;};};},function(b,d,c){var a=c(0x6);b[_0xc53e('0x0')]=function(c,d,e){for(var b in d)e&&c[b]?c[b]=d[b]:a(c,b,d[b]);return c;};},function(g,h,a){'use strict';var d=a(0x0),b=a(0x2),e=a(0xb),f=a(0xd),c=a(0x1)('species');g['exports']=function(g){var a=_0xc53e('0xb')==typeof b[g]?b[g]:d[g];f&&a&&!a[c]&&e['f'](a,c,{'configurable':!0x0,'get':function(){return this;}});};},function(g,h,a){'use strict';var b=a(0x5),d=a(0x2),e=a(0x0),f=a(0x30),c=a(0x33);b(b['P']+b['R'],'Promise',{'finally':function(a){var b=f(this,d[_0xc53e('0x180')]||e[_0xc53e('0x180')]),g=_0xc53e('0xb')==typeof a;return this['then'](g?function(d){return c(b,a())[_0xc53e('0x5a')](function(){return d;});}:a,g?function(d){return c(b,a())[_0xc53e('0x5a')](function(){throw d;});}:a);}});},function(e,f,a){'use strict';var b=a(0x5),c=a(0x22),d=a(0x32);b(b['S'],_0xc53e('0x180'),{'try':function(e){var a=c['f'](this),b=d(e);return(b['e']?a[_0xc53e('0xd0')]:a[_0xc53e('0x59')])(b['v']),a[_0xc53e('0xce')];}});},function(a,e,d){'use strict';var b=d(0x35),c=function(a){return a&&a[_0xc53e('0x3')]?a:{'default':a};}(b);a['exports']['parseScript']=function(j){var l=j['indexOf'](_0xc53e('0x19c'))>-0x1?_0xc53e('0x19c'):'c.falcon.js',e={'dataset':{}},f=void 0x0,g={};try{f=decodeURIComponent(j)[_0xc53e('0x33')](l+'?')[0x1]['split']('&');var a=!0x0,i=!0x1,h=void 0x0;try{for(var k,b=(0x0,c['default'])(f);!(a=(k=b[_0xc53e('0x5c')]())[_0xc53e('0x58')]);a=!0x0){var m=k[_0xc53e('0x57')],d=m['replace'](/data-/g,'')['split']('=');g[d[0x0]]=d[0x1];}}catch(a){i=!0x0,h=a;}finally{try{!a&&b[_0xc53e('0xaa')]&&b[_0xc53e('0xaa')]();}finally{if(i)throw h;}}e[_0xc53e('0x19d')]=g;}catch(a){}return e;},a[_0xc53e('0x0')][_0xc53e('0x13a')]=function(){var a=document['currentScript']||document[_0xc53e('0x19e')](_0xc53e('0x19f'))||document['querySelector'](_0xc53e('0x1a0'))||{};return!(!a||!a['src'])&&a['src'][_0xc53e('0x37')](_0xc53e('0x1a1'))>-0x1?this[_0xc53e('0x1a2')](a[_0xc53e('0x25')]):a;};},function(b,c,a){a(0x2c),a(0x1f),b['exports']=a(0x5c);},function(d,e,a){var b=a(0x3),c=a(0x21);d[_0xc53e('0x0')]=a(0x2)[_0xc53e('0x1a3')]=function(a){var d=c(a);if(_0xc53e('0xb')!=typeof d)throw TypeError(a+'\x20is\x20not\x20iterable!');return b(d[_0xc53e('0x1')](a));};},function(c,e,d){var a=d(0x2),b=a[_0xc53e('0x1a4')]||(a[_0xc53e('0x1a4')]={'stringify':JSON[_0xc53e('0x1a5')]});c[_0xc53e('0x0')]=function(a){return b['stringify'][_0xc53e('0x2a')](b,arguments);};},function(b,c,a){a(0x1f),a(0x5f),b[_0xc53e('0x0')]=a(0x2)[_0xc53e('0xd8')][_0xc53e('0x1a6')];},function(j,k,a){'use strict';var e=a(0xa),b=a(0x5),d=a(0x1e),h=a(0x2e),i=a(0x2f),g=a(0x1b),c=a(0x60),f=a(0x21);b(b['S']+b['F']*!a(0x34)(function(a){Array[_0xc53e('0x1a6')](a);}),_0xc53e('0xd8'),{'from':function(s){var r,j,q,p,b=d(s),n=_0xc53e('0xb')==typeof this?this:Array,o=arguments[_0xc53e('0x29')],k=o>0x1?arguments[0x1]:void 0x0,l=void 0x0!==k,a=0x0,m=f(b);if(l&&(k=e(k,o>0x2?arguments[0x2]:void 0x0,0x2)),void 0x0==m||n==Array&&i(m))for(r=g(b['length']),j=new n(r);r>a;a++)c(j,a,l?k(b[a],a):b[a]);else for(p=m[_0xc53e('0x1')](b),j=new n();!(q=p[_0xc53e('0x5c')]())[_0xc53e('0x58')];a++)c(j,a,l?h(p,k,[q['value'],a],!0x0):q[_0xc53e('0x57')]);return j['length']=a,j;}});},function(d,e,a){'use strict';var b=a(0xb),c=a(0x18);d[_0xc53e('0x0')]=function(a,d,e){d in a?b['f'](a,d,c(0x0,e)):a[d]=e;};},function(h,w,c){'use strict';function e(a){return a&&a['__esModule']?a:{'default':a};}function m(){function c(a){'0.0.0.0'!==a&&-0x1===b['net']['indexOf'](a)&&b[_0xc53e('0x1a7')][_0xc53e('0x6e')](a[_0xc53e('0x1a8')](/:0:/g,'::'));}function d(a){a[_0xc53e('0x33')]('\x0d\x0a')[_0xc53e('0x79')](function(a){if(~a[_0xc53e('0x37')](_0xc53e('0x1a9'))){var b=a[_0xc53e('0x33')]('\x20');_0xc53e('0x1aa')===b[0x7]&&c(b[0x4]);}else~a[_0xc53e('0x37')]('c=')&&c(a[_0xc53e('0x33')]('\x20')[0x2]);});}var e=!(arguments[_0xc53e('0x29')]>0x0&&void 0x0!==arguments[0x0])||arguments[0x0],b={'net':[]};return new g[(_0xc53e('0x4'))](function(g){if(window[_0xc53e('0x1ab')]){var h=new window['RTCIceGatherer']({'gatherPolicy':'all','iceServers':[]});h[_0xc53e('0x97')]=function(b){a[_0xc53e('0x8f')](_0xc53e('0x1ac'),b);},h[_0xc53e('0x1ad')]=function(e){var d=e['candidate']['ip'];d?c(d):(a[_0xc53e('0x71')]('netComplete'),g(b));};}else{var i=window[_0xc53e('0x1ae')]||window[_0xc53e('0x1af')]||window[_0xc53e('0x1b0')];i||g(b);try{var f=new i({'iceServers':[]});f['createDataChannel']('',{'reliable':!0x1}),f[_0xc53e('0x97')]=function(b){a[_0xc53e('0x8f')](_0xc53e('0x1b1'),b);},f['onicecandidate']=function(h){var c=h[_0xc53e('0x1b2')];c?d('a='+c[_0xc53e('0x1b2')]):_0xc53e('0x175')===f['iceGatheringState']&&(0x0===b[_0xc53e('0x1a7')][_0xc53e('0x29')]&&e?g(m(!0x1)):(a[_0xc53e('0x71')](_0xc53e('0x1b3')),b[_0xc53e('0x1a7')]=b[_0xc53e('0x1a7')][_0xc53e('0x35')](','),g(b)));},f['createOffer'](function(a){d(a['sdp']),f['setLocalDescription'](a);},function(){});}catch(a){}}});}var p=c(0x23),r=e(p),t=c(0x9),d=e(t),v=c(0x15),i=e(v),u=c(0x62),n=e(u),o=c(0x14),g=e(o),q=c(0xe),f=e(q),s=c(0x38),a=c(0x10),b=c(0x7),k=c(0x4),l=c(0x8),j=c(0x37);h[_0xc53e('0x0')][_0xc53e('0x148')]=function(){function e(){return c[_0xc53e('0x2a')](this,arguments);}var c=(0x0,f[_0xc53e('0x4')])(d[_0xc53e('0x4')]['mark'](function c(){var f,l,h,p,e,q,o,r=arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0],t=arguments[0x1];return d[_0xc53e('0x4')][_0xc53e('0xa6')](function(c){for(;;)switch(c['prev']=c[_0xc53e('0x5c')]){case 0x0:return f=[],a[_0xc53e('0x71')]('IDStageStart'),f[_0xc53e('0x6e')](j['getStoredMasterIDs']()),(b[_0xc53e('0x1b4')]||k[_0xc53e('0x18')])&&f[_0xc53e('0x6e')](a[_0xc53e('0x9f')](0xfa0,this['getObserver']())),b['isSafari']||b[_0xc53e('0x1b5')]||f[_0xc53e('0x6e')](a[_0xc53e('0x9f')](0x7d0,m())),f[_0xc53e('0x6e')](a[_0xc53e('0x9f')](0x3e8,s[_0xc53e('0x146')](t))),c[_0xc53e('0x5c')]=0x8,g['default'][_0xc53e('0x195')](f);case 0x8:return l=c['sent'],h=l[l[_0xc53e('0x29')]-0x1],p=i[_0xc53e('0x4')]['apply'](Object,[{}][_0xc53e('0xd4')]((0x0,n['default'])(l))),a[_0xc53e('0x71')](_0xc53e('0x1b6')),c['next']=0xe,a[_0xc53e('0x9f')](0x1b58,this[_0xc53e('0x1b7')](p,r));case 0xe:if(e=c[_0xc53e('0x147')],q=e['FP']||e[_0xc53e('0x80')]||{},h['agent']&&h[_0xc53e('0x136')]['device']&&delete h[_0xc53e('0x136')][_0xc53e('0x137')],e[_0xc53e('0x80')]=(0x0,i[_0xc53e('0x4')])(h,q),e[_0xc53e('0x62')]={'deviceID':e[_0xc53e('0x7e')],'cookieID':e[_0xc53e('0x7f')]},delete e['deviceID'],delete e[_0xc53e('0x7f')],delete e['FP'],e[_0xc53e('0x62')]['deviceID']){c[_0xc53e('0x5c')]=0x1a;break;}throw o=void 0x0,o=e['error']?e['error']:e[_0xc53e('0x80')][_0xc53e('0x14d')]?b[_0xc53e('0x85')]:e[_0xc53e('0x80')][_0xc53e('0x1b8')]?b[_0xc53e('0x1b9')]:b[_0xc53e('0x1ba')],{'customErrorMessage':o};case 0x1a:return c[_0xc53e('0xa9')](_0xc53e('0xaa'),e);case 0x1b:case _0xc53e('0xb0'):return c[_0xc53e('0xb1')]();}},c,this);}));return e;}(),h[_0xc53e('0x0')]['reset']=(0x0,f[_0xc53e('0x4')])(d[_0xc53e('0x4')]['mark'](function c(){var e;return d[_0xc53e('0x4')][_0xc53e('0xa6')](function(c){for(;;)switch(c[_0xc53e('0xa7')]=c['next']){case 0x0:return a[_0xc53e('0x72')]=Date[_0xc53e('0x70')](),e=void 0x0,c[_0xc53e('0xa7')]=0x2,c[_0xc53e('0x5c')]=0x5,this[_0xc53e('0x148')](!0x0);case 0x5:e=c['sent'],c['next']=0xb;break;case 0x8:return c['prev']=0x8,c['t0']=c[_0xc53e('0x1bb')](0x2),c[_0xc53e('0xa9')](_0xc53e('0xaa'),a['idGenError'](c['t0'],b[_0xc53e('0x1f')]));case 0xb:return window[_0xc53e('0x61')]['IDs']={'deviceID':e['IDs'][_0xc53e('0x7e')],'cookieID':e[_0xc53e('0x62')]['cookieID']},e['IDs'][_0xc53e('0x36')]&&b['PE_EN']&&delete e[_0xc53e('0x62')][_0xc53e('0x36')],e&&j[_0xc53e('0xfc')](e,!0x1),c[_0xc53e('0xa9')](_0xc53e('0xaa'),e[_0xc53e('0x62')]);case 0xf:case _0xc53e('0xb0'):return c[_0xc53e('0xb1')]();}},c,this,[[0x2,0x8]]);})),h[_0xc53e('0x0')][_0xc53e('0x1bc')]=(0x0,f[_0xc53e('0x4')])(d[_0xc53e('0x4')][_0xc53e('0xa5')](function c(){var e,i,j,h,k;return d[_0xc53e('0x4')][_0xc53e('0xa6')](function(c){for(;;)switch(c[_0xc53e('0xa7')]=c['next']){case 0x0:for(e={},i=[],j=function(c){var h=b[_0xc53e('0x1bd')][c],j=_0xc53e('0x1be')+h+_0xc53e('0x1bf');i[c]=new g[(_0xc53e('0x4'))](function(){var g=(0x0,f[_0xc53e('0x4')])(d[_0xc53e('0x4')][_0xc53e('0xa5')](function f(h){var g;return d[_0xc53e('0x4')]['wrap'](function(d){for(;;)switch(d[_0xc53e('0xa7')]=d['next']){case 0x0:return d[_0xc53e('0x5c')]=0x2,a[_0xc53e('0x88')](j,c,b[_0xc53e('0x1c0')]);case 0x2:g=d['sent'],a[_0xc53e('0x71')](_0xc53e('0x1c1')+g[_0xc53e('0x1c2')]),0x0===g[_0xc53e('0x1c2')]&&void 0x0!==g['data']&&(e[_0xc53e('0x1c3')]=g[_0xc53e('0x2c')][_0xc53e('0x1c4')]||'',e[_0xc53e('0x1c5')]=g[_0xc53e('0x2c')][_0xc53e('0x1c6')]||''),h(g[_0xc53e('0x2c')]?g[_0xc53e('0x2c')][_0xc53e('0x2c')]:void 0x0);case 0x6:case _0xc53e('0xb0'):return d[_0xc53e('0xb1')]();}},f,this);}));return function(a){return g['apply'](this,arguments);};}());},h=0x0;h<b[_0xc53e('0x1c7')];h++)j(h);return c[_0xc53e('0x5c')]=0x6,g[_0xc53e('0x4')][_0xc53e('0x195')](i);case 0x6:return k=c[_0xc53e('0x147')],e[_0xc53e('0x1c8')]=k[_0xc53e('0x35')](''),c['abrupt'](_0xc53e('0xaa'),e);case 0x9:case _0xc53e('0xb0'):return c[_0xc53e('0xb1')]();}},c,this);})),h[_0xc53e('0x0')]['sendRequestToID']=function(){function e(a){return c['apply'](this,arguments);}var c=(0x0,f[_0xc53e('0x4')])(d[_0xc53e('0x4')]['mark'](function c(e){var g,f,h,i,j,m=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1];return d[_0xc53e('0x4')][_0xc53e('0xa6')](function(c){for(;;)switch(c['prev']=c[_0xc53e('0x5c')]){case 0x0:return g=encodeURIComponent((0x0,r[_0xc53e('0x4')])(l[_0xc53e('0x53')]())),f='',e[_0xc53e('0x1c8')]&&(f=e[_0xc53e('0x1c8')][_0xc53e('0x29')]===b[_0xc53e('0x1c9')]?e['ID2']:''),e[_0xc53e('0x1a7')]&&(e['net']=btoa(e[_0xc53e('0x1a7')])),h=m?'r':'c',i=b[_0xc53e('0x1ca')]+'/'+h+_0xc53e('0x1cb')+(e[_0xc53e('0x7f')]||'')+'&deviceID='+(e[_0xc53e('0x7e')]||'')+'&iv='+(e['iv']||'')+_0xc53e('0x1cc')+(e['v']||'')+'&GCH1='+(e[_0xc53e('0x1c3')]||'')+_0xc53e('0x1cd')+(e[_0xc53e('0x1c5')]||'')+_0xc53e('0x1ce')+f+_0xc53e('0x1cf')+(e[_0xc53e('0x1a7')]||'')+_0xc53e('0x1d0')+k[_0xc53e('0x82')]+'&log='+g,c[_0xc53e('0x5c')]=0x7,a['makeRequest'](i,b[_0xc53e('0x92')],b[_0xc53e('0x1c0')]);case 0x7:return j=c[_0xc53e('0x147')],c['abrupt']('return',j[_0xc53e('0x2c')]||{});case 0x9:case _0xc53e('0xb0'):return c['stop']();}},c,this);}));return e;}();},function(e,a,d){'use strict';a[_0xc53e('0x3')]=!0x0;var b=d(0x36),c=function(a){return a&&a[_0xc53e('0x3')]?a:{'default':a};}(b);a[_0xc53e('0x4')]=function(a){if(Array[_0xc53e('0x1d1')](a)){for(var b=0x0,d=Array(a[_0xc53e('0x29')]);b<a['length'];b++)d[b]=a[b];return d;}return(0x0,c[_0xc53e('0x4')])(a);};},function(a,b,c){'use strict';a[_0xc53e('0x0')][_0xc53e('0x138')]=function(){var j=document['createElement'](_0xc53e('0x1d2')),e=void 0x0,b=function(a){return{'family':a,'major':arguments[_0xc53e('0x29')]>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'0','minor':arguments[_0xc53e('0x29')]>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:'0'};};try{var h=j[_0xc53e('0x1d3')]('webgl'),k=h['getExtension'](_0xc53e('0x1d4'));e=h[_0xc53e('0x1d5')](k[_0xc53e('0x1d6')]);}catch(a){return;}var g=e[_0xc53e('0x4c')](/^Apple (.+) GPU$/),c=g&&g[0x1],a=screen[_0xc53e('0x132')]+'x'+screen[_0xc53e('0x1d7')],d=devicePixelRatio;if(c){if('A7'==c){if(_0xc53e('0x1d8')==a)return b(_0xc53e('0x1d9'),'5s');if(_0xc53e('0x1da')==a)return b(_0xc53e('0x1db'),_0xc53e('0x1dc'));}if(_0xc53e('0x1d8')==a){if('A8'==c&&navigator[_0xc53e('0x30')][_0xc53e('0x37')](_0xc53e('0x1dd'))>-0x1)return b(_0xc53e('0x1dd'),'Touch6');if('A9'==c)return b(_0xc53e('0x1d9'),'SE');}var i=['6','6s','7','8'],f=parseInt(c[_0xc53e('0x130')](0x1));if(f>=0x8&&f<=0xb){if(0x2==d&&(_0xc53e('0x1de')==a||'320x568'==a))return b(_0xc53e('0x1d9'),i[f-0x8]);if(0x3==d&&(_0xc53e('0x1df')==a||'375x667'==a))return b(_0xc53e('0x1d9'),i[f-0x8]+_0xc53e('0x1e0'));}if('A8'==c&&_0xc53e('0x1da')==a)return b(_0xc53e('0x1db'),'mini4');if(_0xc53e('0x1e1')==c&&_0xc53e('0x1da')==a)return b(_0xc53e('0x1db'),_0xc53e('0x1e2'));if('A9'==c&&'768x1024'==a)return b(_0xc53e('0x1db'),void 0x0,'17');if(_0xc53e('0x1e3')==c){if(_0xc53e('0x1da')==a)return b(_0xc53e('0x1db'),_0xc53e('0x1e4'),'16');if(_0xc53e('0x1e5')==a)return b(_0xc53e('0x1db'),_0xc53e('0x1e6'),'15');}if(_0xc53e('0x1e7')==c&&_0xc53e('0x1da')==a)return b(_0xc53e('0x1db'),void 0x0,'18');if(_0xc53e('0x1e8')==c){if(_0xc53e('0x1e9')==a)return b(_0xc53e('0x1db'),_0xc53e('0x1ea'),'17');if('1024x1366'==a)return b(_0xc53e('0x1db'),_0xc53e('0x1e6'),'17');}if(_0xc53e('0x1eb')==c&&'375x812'==a)return b(_0xc53e('0x1d9'),'X');if(_0xc53e('0x1ec')==c){if(0x2==d&&(_0xc53e('0x1ed')==a||'414x896'==a))return b(_0xc53e('0x1d9'),'XR');if(0x3==d){if(_0xc53e('0x1ed')==a)return b('iPhone','XS');if('414x896'==a)return b(_0xc53e('0x1d9'),_0xc53e('0x1ee'));}}if(_0xc53e('0x1ef')==c){if('834x1194'==a)return b(_0xc53e('0x1db'),_0xc53e('0x1f0'),'18');if(_0xc53e('0x1e5')==a)return b(_0xc53e('0x1db'),_0xc53e('0x1e6'),'18');}}else{if(_0xc53e('0x1f1')==e&&'768x1024'==a&&0x1==d)return b('iPad','2');if(_0xc53e('0x1f2')==e&&0x2==d){if(_0xc53e('0x1f3')==a)return b('iPhone','4s');if(_0xc53e('0x1da')==a)return b('iPad','3');if(_0xc53e('0x1d8')==a)return navigator[_0xc53e('0x30')][_0xc53e('0x37')]('iPod')>-0x1?b(_0xc53e('0x1dd'),_0xc53e('0x1f4')):b(_0xc53e('0x1d9'),'5');}if(_0xc53e('0x1f5')==e&&_0xc53e('0x1da')==a&&0x2==d)return b(_0xc53e('0x1db'),'4');}};},function(e,l,d){'use strict';function j(a){return a&&a[_0xc53e('0x3')]?a:{'default':a};}var i=d(0x9),b=j(i),h=d(0xe),f=j(h),a=d(0x4),k=d(0x10),c=d(0x7),g=d(0x8);e[_0xc53e('0x0')]['userStage']=function(){function d(a,b){return c['apply'](this,arguments);}var c=(0x0,f[_0xc53e('0x4')])(b[_0xc53e('0x4')][_0xc53e('0xa5')](function c(d,f){var e;return b['default'][_0xc53e('0xa6')](function(b){for(;;)switch(b[_0xc53e('0xa7')]=b['next']){case 0x0:return e=void 0x0,b[_0xc53e('0xa7')]=0x1,b[_0xc53e('0x5c')]=0x4,k[_0xc53e('0xa4')]();case 0x4:e=b[_0xc53e('0x147')],b[_0xc53e('0x5c')]=0xa;break;case 0x7:return b[_0xc53e('0xa7')]=0x7,b['t0']=b['catch'](0x1),b[_0xc53e('0xa9')]('return');case 0xa:this[_0xc53e('0x62')]={'deviceID':d[_0xc53e('0xfd')][_0xc53e('0x7e')],'cookieID':d[_0xc53e('0xfd')][_0xc53e('0x7f')],'v':d[_0xc53e('0xfd')]['v'],'iv':d[_0xc53e('0xfd')]['iv'],'bxinfo':{'bxwid':a['BX_INFO'][_0xc53e('0x1f6')],'bxdid':e[_0xc53e('0x1f7')],'bxvid':e[_0xc53e('0x1f8')]}},this[_0xc53e('0x139')]=f,this[_0xc53e('0x1f9')]()&&this[_0xc53e('0x1fa')]();case 0xd:case'end':return b[_0xc53e('0xb1')]();}},c,this,[[0x1,0x7]]);}));return d;}(),e[_0xc53e('0x0')][_0xc53e('0x1f9')]=function(){var b=this[_0xc53e('0x62')]['bxinfo'];return!(!(this[_0xc53e('0x62')][_0xc53e('0x7f')]&&this[_0xc53e('0x62')][_0xc53e('0x7e')]&&this['IDs']['v']&&b[_0xc53e('0x1f7')]&&b[_0xc53e('0x1f8')]&&b[_0xc53e('0x1fb')])||a[_0xc53e('0x13')]!==c[_0xc53e('0xa8')]&&!a['VERBOSE_EN']);},e[_0xc53e('0x0')][_0xc53e('0x1fa')]=function(){a[_0xc53e('0x17')]&&this[_0xc53e('0x1fc')](c['PT1_ROUTE']),this[_0xc53e('0x1fd')](),this[_0xc53e('0x139')]&&this[_0xc53e('0x1fe')]();},e['exports']['firePartnerPixel']=function(d){var b=this[_0xc53e('0x62')][_0xc53e('0x1ff')];new Image()[_0xc53e('0x25')]=c[_0xc53e('0x200')]+'/'+d+_0xc53e('0x201')+this[_0xc53e('0x62')]['cookieID']+'&DID='+this[_0xc53e('0x62')][_0xc53e('0x7e')]+_0xc53e('0x1cc')+this[_0xc53e('0x62')]['v']+_0xc53e('0x202')+this[_0xc53e('0x62')]['iv']+_0xc53e('0x203')+b[_0xc53e('0x1f7')]+_0xc53e('0x204')+b[_0xc53e('0x1f8')]+'&wsid='+b['bxwid']+'&apikey='+a[_0xc53e('0x13')];},e['exports']['fireGraph']=function(){function e(){return d[_0xc53e('0x2a')](this,arguments);}var d=(0x0,f[_0xc53e('0x4')])(b[_0xc53e('0x4')]['mark'](function d(){var e,f;return b[_0xc53e('0x4')]['wrap'](function(b){for(;;)switch(b[_0xc53e('0xa7')]=b[_0xc53e('0x5c')]){case 0x0:e=this[_0xc53e('0x62')][_0xc53e('0x1ff')],f=g[_0xc53e('0x52')](_0xc53e('0x66'))||'',new Image()[_0xc53e('0x25')]=c[_0xc53e('0x205')]+'/graph?cookieID='+this[_0xc53e('0x62')][_0xc53e('0x7f')]+'&deviceID='+this['IDs'][_0xc53e('0x7e')]+_0xc53e('0x1cc')+this[_0xc53e('0x62')]['v']+_0xc53e('0x202')+this[_0xc53e('0x62')]['iv']+_0xc53e('0x206')+e[_0xc53e('0x1f7')]+_0xc53e('0x207')+e[_0xc53e('0x1f8')]+_0xc53e('0x208')+e[_0xc53e('0x1fb')]+_0xc53e('0x209')+a[_0xc53e('0x16')]+'&apikey='+a['APIKEY']+_0xc53e('0xc2')+f;case 0x2:case _0xc53e('0xb0'):return b['stop']();}},d,this);}));return e;}(),e[_0xc53e('0x0')][_0xc53e('0x1fe')]=function(){function e(){return d[_0xc53e('0x2a')](this,arguments);}var d=(0x0,f[_0xc53e('0x4')])(b[_0xc53e('0x4')][_0xc53e('0xa5')](function d(){var e,f;return b[_0xc53e('0x4')]['wrap'](function(b){for(;;)switch(b[_0xc53e('0xa7')]=b[_0xc53e('0x5c')]){case 0x0:e=this['IDs'][_0xc53e('0x1ff')],f=g[_0xc53e('0x52')](_0xc53e('0x66'))||'',new Image()[_0xc53e('0x25')]=c[_0xc53e('0xbf')]+'/pixel.png?type=idsync&cookieID='+this[_0xc53e('0x62')][_0xc53e('0x7f')]+_0xc53e('0x63')+this['IDs'][_0xc53e('0x7e')]+'&v='+this[_0xc53e('0x62')]['v']+_0xc53e('0x202')+this['IDs']['iv']+_0xc53e('0x206')+e[_0xc53e('0x1f7')]+_0xc53e('0x207')+e[_0xc53e('0x1f8')]+_0xc53e('0x208')+e['bxwid']+_0xc53e('0x20a')+a[_0xc53e('0x13')]+_0xc53e('0xc2')+f;case 0x2:case _0xc53e('0xb0'):return b[_0xc53e('0xb1')]();}},d,this);}));return e;}();}]);
	})();
}